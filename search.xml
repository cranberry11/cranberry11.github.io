<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ES6</title>
    <url>/2021/09/02/ES6-ES11/</url>
    <content><![CDATA[<h3 id="一、let关键字"><a href="#一、let关键字" class="headerlink" title="一、let关键字"></a>一、let关键字</h3><p>用来声明变量，有几个特点</p>
<ol>
<li>不允许重复声明</li>
<li>块儿级作用域</li>
<li>不存在变量提升</li>
<li>不影响作用域链</li>
</ol>
<h3 id="二、const关键字"><a href="#二、const关键字" class="headerlink" title="二、const关键字"></a>二、const关键字</h3><p>用来声明变量，有以下特点</p>
<ol>
<li>声明必须赋初始值</li>
<li>标识符一般大写</li>
<li>不允许重复声明</li>
<li>值不允许修改</li>
<li>块儿级作用域</li>
</ol>
<p><strong>注意</strong>：对象属性修改和数组元素变化不会触发const错误</p>
<p><strong>应用场景</strong>：声明对象类型使用const，非对象类型声明选择let</p>
<h3 id="三、变量的解构赋值"><a href="#三、变量的解构赋值" class="headerlink" title="三、变量的解构赋值"></a>三、变量的解构赋值</h3><p>从数组和对象中提取值，对变量进行赋值</p>
<p>频繁使用对象方法，数组元素，就可以使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数组的解构赋值</span></span><br><span class="line"><span class="keyword">const</span> arr=[<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> [zhangsan,lisi]=arr</span><br><span class="line"><span class="built_in">console</span>.log(zhangsan)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//对象的解构赋值</span></span><br><span class="line"><span class="keyword">const</span> lin=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;林志吟&#x27;</span>,</span><br><span class="line">    <span class="attr">tags</span>:[<span class="string">&#x27;车手&#x27;</span>,<span class="string">&#x27;歌手&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name,tags&#125;=lin</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//复杂解构</span></span><br><span class="line"><span class="keyword">let</span> wangfei=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;网费&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">19</span>,</span><br><span class="line">    <span class="attr">songs</span>:[<span class="string">&#x27;红豆&#x27;</span>,<span class="string">&#x27;流年&#x27;</span>],</span><br><span class="line">    <span class="attr">history</span>:[</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">&#x27;窦唯&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">&#x27;李亚鹏&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">spngs</span>:[one,two],<span class="attr">history</span>:[first,second]&#125;=wangfei</span><br></pre></td></tr></table></figure>

<h3 id="四、模板字符串"><a href="#四、模板字符串" class="headerlink" title="四、模板字符串"></a>四、模板字符串</h3><p>增强版的字符串，用反引号（`）标识，特点</p>
<ol>
<li>字符串中可以出现换行符</li>
<li>可以使用${xxx}形式输出变量</li>
</ol>
<p>当遇到字符串与变量拼接的情况使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义字符串</span></span><br><span class="line"><span class="keyword">let</span> str=<span class="string">`&lt;ul&gt;</span></span><br><span class="line"><span class="string">		&lt;li&gt;善解人意&lt;/li&gt;</span></span><br><span class="line"><span class="string">	&lt;/ul&gt;`</span></span><br><span class="line"><span class="comment">//变量拼接</span></span><br><span class="line"><span class="keyword">let</span> name=<span class="string">&quot;张三&quot;</span></span><br><span class="line"><span class="keyword">let</span> result=<span class="string">`<span class="subst">$&#123;name&#125;</span>哈哈哈`</span></span><br></pre></td></tr></table></figure>

<h3 id="五、简化对象写法"><a href="#五、简化对象写法" class="headerlink" title="五、简化对象写法"></a>五、简化对象写法</h3><p>允许在大括号里面，直接写入变量和函数，作为对象的属性和方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name=<span class="string">&quot;zhangsan&quot;</span></span><br><span class="line"><span class="keyword">let</span> slogan=<span class="string">&quot;fighting&quot;</span></span><br><span class="line"><span class="keyword">let</span> improve=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;加油&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//简写属性和方法</span></span><br><span class="line"><span class="keyword">let</span> zhang=&#123;</span><br><span class="line">    name,</span><br><span class="line">    slogan,</span><br><span class="line">    improve,</span><br><span class="line">    <span class="function"><span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;改变&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="六、箭头函数"><a href="#六、箭头函数" class="headerlink" title="六、箭头函数"></a>六、箭头函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//通用写法</span></span><br><span class="line"><span class="keyword">let</span> fn=<span class="function">(<span class="params">arg1,arg2</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ol>
<li>如果形参只有一个，则小括号可以省略</li>
<li>函数体如果只有一条语句，则花括号可以省略，函数的返回值为该条语句的执行结果</li>
<li>箭头函数this指向声明时所在作用域下this的值</li>
<li>箭头函数不能作为构造函数实例化</li>
<li>不能使用arguments</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//如果形参只有一个，则小括号可以省略</span></span><br><span class="line"><span class="keyword">let</span> fn2=<span class="function"><span class="params">num</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num*<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数体如果只有一条语句，则花括号可以省略，函数的返回值为该条语句的执行结果</span></span><br><span class="line"><span class="keyword">let</span> fn3=<span class="function"><span class="params">score</span>=&gt;</span>score*<span class="number">2</span></span><br><span class="line"><span class="comment">//this指向声明时所在作用域下this的值</span></span><br><span class="line"><span class="keyword">let</span> fn4=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> school=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;hhh&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> fn5=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="七、rest参数"><a href="#七、rest参数" class="headerlink" title="七、rest参数"></a>七、rest参数</h3><p>用于获取函数的实参，用来代替arguments</p>
<p>适合不定个数参数函数的场景</p>
<ul>
<li>作用与arguments类似</li>
<li>rest参数必须是最后一个形参</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minus</span>(<span class="params">a,b,...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,args)</span><br><span class="line">&#125;</span><br><span class="line">minus(<span class="number">100</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<h3 id="八、spread扩展运算符"><a href="#八、spread扩展运算符" class="headerlink" title="八、spread扩展运算符"></a>八、spread扩展运算符</h3><p>好比rest参数的逆运算，将一个数组转为用逗号分隔的参数序列，对数组进行解包</p>
<p><strong>应用</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.数组的合并</span></span><br><span class="line"><span class="keyword">const</span> kuaizi=[<span class="string">&#x27;王台了&#x27;</span>,<span class="string">&#x27;小样&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> fenghuan=[<span class="string">&#x27;增益&#x27;</span>,<span class="string">&#x27;零花&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> zuixuan=kuaizi.concat(fenghuan);</span><br><span class="line"><span class="built_in">console</span>.log(zuixuan);</span><br><span class="line"><span class="keyword">const</span> zuixuan=[...kuaizi,...fenghuan];</span><br><span class="line"><span class="built_in">console</span>.log(zuixuan);</span><br><span class="line"><span class="comment">//2.数组的克隆</span></span><br><span class="line"><span class="keyword">const</span> sanzhihua=[<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;M&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> sanyecao=[...sanzhihua];</span><br><span class="line"><span class="built_in">console</span>.log(sanyecao);</span><br><span class="line"><span class="comment">//3.将伪数组转为真正的数组</span></span><br><span class="line"><span class="keyword">const</span> divs=<span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> divArr=[...divs];</span><br><span class="line"><span class="built_in">console</span>.log(divArr);</span><br></pre></td></tr></table></figure>

<h3 id="九、Symbol基本使用"><a href="#九、Symbol基本使用" class="headerlink" title="九、Symbol基本使用"></a>九、Symbol基本使用</h3><h4 id="1-Symbol基本使用"><a href="#1-Symbol基本使用" class="headerlink" title="1.Symbol基本使用"></a>1.Symbol基本使用</h4><p>第七种数据类型，是一种类似于字符串的数据类型</p>
<p><strong>特点：</strong></p>
<ul>
<li>值是唯一的，用来解决命名冲突的问题</li>
<li>值不能与其他数据进行运算</li>
<li>定义的对象属性不能使用for…in 循环遍历，但是可以使用Reflect.ownKeys来获取对象的所有键名</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建symbol</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">console</span>.log(s,<span class="keyword">typeof</span> s);<span class="comment">//Symbol() &#x27;symbol&#x27;</span></span><br><span class="line"><span class="comment">//添加标识的Symbol</span></span><br><span class="line"><span class="keyword">let</span> s2=<span class="built_in">Symbol</span>(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s3=<span class="built_in">Symbol</span>(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s2===s3);<span class="comment">//false</span></span><br><span class="line"><span class="comment">//symbol.for创建</span></span><br><span class="line"><span class="keyword">let</span> s4=<span class="built_in">Symbol</span>.for(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s5=<span class="built_in">Symbol</span>.for(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s4===s5);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Symbol内置值（11个）"><a href="#2-Symbol内置值（11个）" class="headerlink" title="2.Symbol内置值（11个）"></a>2.Symbol内置值（11个）</h4><p>Symbol.hasInstance </p>
<p>当其他对象使用 instanceof 运算符，判断是否为该对象的实例时，会调用这个方法 </p>
<p>Symbol.isConcatSpreadable </p>
<p>对象的 Symbol.isConcatSpreadable 属性等于的是一个 布尔值，表示该对象用于 Array.prototype.concat()时， 是否可以展开。 </p>
<p>Symbol.species </p>
<p>创建衍生对象时，会使用该属性 </p>
<p>Symbol.match </p>
<p>当执行 str.match(myObject) 时，如果该属性存在，会 调用它，返回该方法的返回值。 </p>
<p>Symbol.replace </p>
<p>当该对象被 str.replace(myObject)方法调用时，会返回 该方法的返回值。 </p>
<p>Symbol.search </p>
<p>当该对象被 str.search (myObject)方法调用时，会返回 该方法的返回值。 </p>
<p>Symbol.split </p>
<p>当该对象被 str.split(myObject)方法调用时，会返回该方法的返回值。 </p>
<p>Symbol.iterator </p>
<p>对象进行 for…of 循环时，会调用 Symbol.iterator 方法，返回该对象的默认遍历器 </p>
<p>Symbol.toPrimitive </p>
<p>该对象被转为原始类型的值时，会调用这个方法，返 回该对象对应的原始类型值。 </p>
<p>Symbol. toStringTag </p>
<p>在该对象上面调用 toString 方法时，返回该方法的返 回值 </p>
<p>Symbol. unscopables </p>
<p>该对象指定了使用 with 关键字时，哪些属性会被 with 环境排除。</p>
<h3 id="十、迭代器"><a href="#十、迭代器" class="headerlink" title="十、迭代器"></a>十、迭代器</h3><p>它是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署 Iterator 接口，就可以完成遍历操作。</p>
<p>1.ES6 创造了一种新的遍历命令 for…of 循环，Iterator 接口主要供 for…of 消费 </p>
<p>2.原生具备 iterator 接口的数据(可用 for of 遍历) </p>
<p>a) Array </p>
<p>b) Arguments </p>
<p>c) Set </p>
<p>d) Map </p>
<p>e) String </p>
<p>f) TypedArray </p>
<p>g) NodeList </p>
<p>3.工作原理 </p>
<p>a) 创建一个指针对象，指向当前数据结构的起始位置 </p>
<p>b) 第一次调用对象的 next 方法，指针自动指向数据结构的第一个成员 </p>
<p>c) 接下来不断调用 next 方法，指针一直往后移动，直到指向最后一个成员 </p>
<p>d) 每调用 next 方法返回一个包含 value 和 done 属性的对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明一个数组</span></span><br><span class="line"><span class="keyword">const</span> xiyou=[<span class="string">&#x27;唐僧&#x27;</span>,<span class="string">&#x27;孙悟空&#x27;</span>,<span class="string">&#x27;猪八戒&#x27;</span>,<span class="string">&#x27;沙僧&#x27;</span>];</span><br><span class="line"><span class="comment">//使用for.. of 遍历数组</span></span><br><span class="line"><span class="comment">// for(let v of xiyou)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(v);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">let</span> iterator=xiyou[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="comment">//调用对象的next方法</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/ES6-ES11/1.png"></p>
<h3 id="十一、生成器"><a href="#十一、生成器" class="headerlink" title="十一、生成器"></a>十一、生成器</h3><p>生成器函数是 ES6 提供的一种异步编程解决方案，语法行为与传统函数完全不同</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//生成器其实就是一个特殊的函数</span></span><br><span class="line"><span class="comment">//异步编程 纯回调函数 node fs ajax mongodb</span></span><br><span class="line"><span class="comment">//函数代码的分隔符</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;一只没有耳朵&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;一只没有尾部&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;真奇怪&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> iterator=gen();</span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> gen())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v);<span class="comment">//一只没有耳朵 一只没有尾部 真奇怪</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1.*的位置没有限制 </p>
<p>2.生成器函数返回的结果是迭代器对象，调用迭代器对象的 next 方法可以得到 yield 语句后的值 </p>
<p>3.yield 相当于函数的暂停标记，也可以认为是函数的分隔符，每调用一次 next 方法，执行一段代码 </p>
<p>4.next 方法可以传递实参，作为 yield 语句的返回值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params">arg</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg);</span><br><span class="line">    <span class="comment">// yield 111;</span></span><br><span class="line">    <span class="comment">// yield 222;</span></span><br><span class="line">    <span class="comment">// yield 333;</span></span><br><span class="line">    <span class="keyword">let</span> one=<span class="keyword">yield</span> <span class="number">111</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(one);</span><br><span class="line">    <span class="keyword">let</span> two=<span class="keyword">yield</span> <span class="number">222</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(two);</span><br><span class="line">    <span class="keyword">let</span> three=<span class="keyword">yield</span> <span class="number">333</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(three);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//执行获取迭代器对象</span></span><br><span class="line">    <span class="keyword">let</span> iterator=gen(<span class="string">&#x27;AAA&#x27;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next());</span><br><span class="line">    <span class="comment">//next方法可以传入参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next(<span class="string">&#x27;BBB&#x27;</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next(<span class="string">&#x27;CCC&#x27;</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next(<span class="string">&#x27;DDD&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/ES6-ES11/2.png"></p>
<p>实例1：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//异步编程 文件操作 网络操作（ajax,request)数据库操作</span></span><br><span class="line"><span class="comment">//1s后控制条输出 111 2s后输出222 3s后输出333</span></span><br><span class="line"><span class="comment">//回调</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">one</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">111</span>);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">two</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">222</span>);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">three</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">333</span>);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> one();</span><br><span class="line">    <span class="keyword">yield</span> two();</span><br><span class="line">    <span class="keyword">yield</span> three();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用生成器函数</span></span><br><span class="line"><span class="keyword">let</span> iterator=gen();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure>

<p>实例2：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//模拟获取 用户海事局 订单数据 商品数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUsers</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data=<span class="string">&#x27;用户数据&#x27;</span>;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getOrders</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data=<span class="string">&#x27;订单数据&#x27;</span>;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGoods</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data=<span class="string">&#x27;商品数据&#x27;</span>;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> users=<span class="keyword">yield</span> getUsers();</span><br><span class="line">    <span class="built_in">console</span>.log(users);</span><br><span class="line">    <span class="keyword">let</span> orders=<span class="keyword">yield</span> getOrders();</span><br><span class="line">    <span class="built_in">console</span>.log(orders);</span><br><span class="line">    <span class="keyword">let</span> goods=<span class="keyword">yield</span> getGoods();</span><br><span class="line">    <span class="built_in">console</span>.log(goods);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iterator=gen();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure>

<h3 id="十二、Promise"><a href="#十二、Promise" class="headerlink" title="十二、Promise"></a>十二、Promise</h3><p>Promise 是 ES6 引入的<strong>异步编程</strong>的新解决方案。语法上 Promise 是一个构造函数， 用来封装异步操作并可以获取其成功或失败的结果。</p>
<p>1.Promise 构造函数: Promise (excutor) {} </p>
<p>2.Promise.prototype.then 方法 </p>
<p>3.Promise.prototype.catch 方法 </p>
<h4 id="promise基本语法"><a href="#promise基本语法" class="headerlink" title="promise基本语法"></a>promise基本语法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//实例化Promise对象</span></span><br><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// let data=&#x27;数据库中的用户数据&#x27;;</span></span><br><span class="line">        <span class="comment">// resolve(data);//返回正确的数据</span></span><br><span class="line">        <span class="keyword">let</span> err=<span class="string">&#x27;数据读取失败&#x27;</span>;</span><br><span class="line">        reject(err);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//调用promise对象的then方法</span></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);<span class="comment">//数据正确时的返回结果也就是resolve</span></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;<span class="comment">//reject时的返回结果</span></span><br><span class="line">    <span class="built_in">console</span>.log(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise-prototype-then方法"><a href="#Promise-prototype-then方法" class="headerlink" title="Promise.prototype.then方法"></a>Promise.prototype.then方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;用户数据&#x27;</span>);</span><br><span class="line">        <span class="comment">// reject(&#x27;出错了&#x27;);</span></span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//调用then方法 then方法的返回结果是Promise对象，对象状态由回调函数的执行结果决定</span></span><br><span class="line"><span class="comment">//1.如果回调函数中返回的结果是 非promise类型的属性，状态为成功，返回值为对象的成功值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result=p.then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">    <span class="comment">//1.非promise类型的属性</span></span><br><span class="line">    <span class="comment">// return &#x27;iloveyou&#x27;;</span></span><br><span class="line">    <span class="comment">//2.是promise对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">        <span class="comment">// reject(&#x27;error&#x27;);</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//3.抛出错误</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;出错了&#x27;</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;出错了&#x27;</span>;</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise-catch方法"><a href="#Promise-catch方法" class="headerlink" title="Promise-catch方法"></a>Promise-catch方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置p对象的状态为失败，并设置失败的值</span></span><br><span class="line">        reject(<span class="string">&quot;出错啦&quot;</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// p.then(function (value)&#123;</span></span><br><span class="line"><span class="comment">// &#125;,function(reason)&#123;</span></span><br><span class="line"><span class="comment">//     console.error(reason);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line">p.catch(<span class="function"><span class="keyword">function</span> (<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Promise封装ajax"><a href="#Promise封装ajax" class="headerlink" title="Promise封装ajax"></a>Promise封装ajax</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">            xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;https://api.apiopen.top/getJoke&#x27;</span>);</span><br><span class="line">    xhr.send();</span><br><span class="line">    xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span><br><span class="line">                resolve(xhr.response);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                reject(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//指定回调</span></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise封装读取文件"><a href="#Promise封装读取文件" class="headerlink" title="Promise封装读取文件"></a>Promise封装读取文件</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.引入fs模块</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="comment">//2.调用方法读取文件</span></span><br><span class="line">fs.readFile(<span class="string">&#x27;./resources/为学.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//如果失败，则抛出错误</span></span><br><span class="line">    <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="comment">//如果没有出错，则输出内容</span></span><br><span class="line">    <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//3.使用promise封装</span></span><br><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">&#x27;./resources/为学.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//判断如果失败</span></span><br><span class="line">        <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">        <span class="comment">//如果成功</span></span><br><span class="line">        resolve(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value.toString);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;读取失败！&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise封装读取多个文件"><a href="#Promise封装读取多个文件" class="headerlink" title="Promise封装读取多个文件"></a>Promise封装读取多个文件</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入fs 模块</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="comment">//使用promise实现</span></span><br><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">&#x27;./resources/为学.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">        resolve(data.toString); </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">p.then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.readFile(<span class="string">&#x27;./resources/插秧诗.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">            resolve([value,data]); </span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.readFile(<span class="string">&#x27;./resources/观书有感.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">           <span class="comment">//压入</span></span><br><span class="line">           value.push(data);</span><br><span class="line">           resolve(value);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="十三、Set"><a href="#十三、Set" class="headerlink" title="十三、Set"></a>十三、Set</h3><p>它类似于数组，但成员的值都是唯 一的，集合实现了 iterator 接口，所以可以使用『扩展运算符』和『for…of…』进 行遍历</p>
<p>集合的属性和方法：</p>
<p>1.size </p>
<p>返回集合的元素个数 </p>
<p>2.add </p>
<p>增加一个新元素，返回当前集合 </p>
<p>3.delete </p>
<p>删除元素，返回 boolean 值 </p>
<p>4.has </p>
<p>检测集合中是否包含某个元素，返回 boolean 值 </p>
<p>5.clear </p>
<p>清空集合，返回 undefined </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明一个set</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">let</span> s2=<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;大事儿&#x27;</span>,<span class="string">&#x27;小事儿&#x27;</span>,<span class="string">&#x27;好事儿&#x27;</span>,<span class="string">&#x27;坏事儿&#x27;</span>,<span class="string">&#x27;小事儿&#x27;</span>]);</span><br><span class="line"><span class="comment">//元素个数</span></span><br><span class="line"><span class="built_in">console</span>.log(s2.size);</span><br><span class="line"><span class="comment">//添加新的元素</span></span><br><span class="line">s2.add(<span class="string">&#x27;喜事儿&#x27;</span>);</span><br><span class="line"><span class="comment">//删除元素</span></span><br><span class="line">s2.delete(<span class="string">&#x27;坏事儿&#x27;</span>);</span><br><span class="line"><span class="comment">//检测</span></span><br><span class="line"><span class="built_in">console</span>.log(s2.has(<span class="string">&#x27;糟心事&#x27;</span>));</span><br><span class="line">s2.clear();</span><br><span class="line"><span class="built_in">console</span>.log(s2);</span><br></pre></td></tr></table></figure>

<p><strong>set集合实践</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="comment">//1.数组去重</span></span><br><span class="line"><span class="keyword">let</span> result=[...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">//2.交集</span></span><br><span class="line"><span class="keyword">let</span> arr2=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> result=[...new <span class="built_in">Set</span>(arr)].filter(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> s2=<span class="keyword">new</span> <span class="built_in">Set</span>(arr2);</span><br><span class="line">	<span class="keyword">if</span>(s2.has(item))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;);</span><br><span class="line"><span class="keyword">let</span> result=[...new <span class="built_in">Set</span>(arr)].filter(<span class="function"><span class="params">item</span>=&gt;</span><span class="keyword">new</span> <span class="built_in">Set</span>(arr2).has(item));</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">//3.并集</span></span><br><span class="line"><span class="keyword">let</span> union=[...new <span class="built_in">Set</span>([...arr,...arr2])];</span><br><span class="line"><span class="built_in">console</span>.log(union);</span><br><span class="line"><span class="comment">//4.差集</span></span><br><span class="line"><span class="keyword">let</span> diff=[...new <span class="built_in">Set</span>(arr)].filter(<span class="function"><span class="params">item</span>=&gt;</span>!<span class="keyword">new</span> <span class="built_in">Set</span>(arr2).has(item))</span><br><span class="line"><span class="built_in">console</span>.log(diff);</span><br></pre></td></tr></table></figure>

<h3 id="十四、Map"><a href="#十四、Map" class="headerlink" title="十四、Map"></a>十四、Map</h3><p>它类似于对象，也是键值对的集合。但是“键” 的范围不限于字符串，各种类型的值（包括对象）都可以当作键。Map 也实现了 iterator 接口，所以可以使用『扩展运算符』和『for…of…』进行遍历。</p>
<p>Map 的属 性和方法： </p>
<p>1.size </p>
<p>返回 Map 的元素个数 </p>
<p>2.set </p>
<p>增加一个新元素，返回当前 Map </p>
<p>3.get </p>
<p>返回键名对象的键值 </p>
<p>4.has </p>
<p>检测 Map 中是否包含某个元素，返回 boolean 值 </p>
<p>5.clear </p>
<p>清空集合，返回 undefined </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明Map</span></span><br><span class="line"><span class="keyword">let</span> m=<span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="comment">//添加元素</span></span><br><span class="line">m.set(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;ozawa&#x27;</span>);</span><br><span class="line">m.set(<span class="string">&#x27;change&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;我们可以改变你&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> key=&#123;</span><br><span class="line"><span class="attr">school</span>:<span class="string">&#x27;ATUGUI&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line">m.set(key,[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>]);</span><br><span class="line"><span class="comment">//size</span></span><br><span class="line"><span class="built_in">console</span>.log(m.size);</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line">m.delete(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="comment">//获取</span></span><br><span class="line"><span class="built_in">console</span>.log(m.get(<span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="built_in">console</span>.log(m.get(key));</span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> c <span class="keyword">of</span> m)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line">m.clear();</span><br></pre></td></tr></table></figure>

<h3 id="十五、class类"><a href="#十五、class类" class="headerlink" title="十五、class类"></a>十五、class类</h3><p>引入了 Class（类）这个概念，作为对 象的模板。通过 class 关键字，可以定义类。基本上，ES6 的 class 可以看作只是 一个语法糖，它的绝大部分功能，ES5 都可以做到，新的 class 写法只是让对象 原型的写法更加清晰、更像面向对象编程的语法而已。</p>
<p>1.class 声明类 </p>
<p>2.constructor 定义构造函数初始化 </p>
<p>3.extends 继承父类 </p>
<p>4.super 调用父级构造方法 </p>
<p>5.static 定义静态方法和属性 </p>
<p>6.父类方法可以重写 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line"> <span class="comment">//构造方法</span></span><br><span class="line"> <span class="function"><span class="title">constructor</span>(<span class="params">brand, color, price</span>)</span> &#123;</span><br><span class="line"> <span class="built_in">this</span>.brand = brand;</span><br><span class="line"> <span class="built_in">this</span>.color = color;</span><br><span class="line"> <span class="built_in">this</span>.price = price;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//对象方法</span></span><br><span class="line"> <span class="function"><span class="title">call</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&#x27;我可以打电话!!!&#x27;</span>)</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="title">constructor</span>(<span class="params">brand, color, price, screen, pixel</span>)</span> &#123;</span><br><span class="line"> <span class="built_in">super</span>(brand, color, price);</span><br><span class="line"> <span class="built_in">this</span>.screen = screen;</span><br><span class="line"> <span class="built_in">this</span>.pixel = pixel;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//子类方法</span></span><br><span class="line"> <span class="function"><span class="title">photo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;我可以拍照!!&#x27;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="title">playGame</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;我可以玩游戏!!&#x27;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//方法重写</span></span><br><span class="line"> <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;我可以进行视频通话!!&#x27;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//静态方法</span></span><br><span class="line"> <span class="keyword">static</span> <span class="function"><span class="title">run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以运行程序&#x27;</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">static</span> <span class="function"><span class="title">connect</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以建立连接&#x27;</span>)</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化对象</span></span><br><span class="line"><span class="keyword">const</span> Nokia = <span class="keyword">new</span> Phone(<span class="string">&#x27;诺基亚&#x27;</span>, <span class="string">&#x27;灰色&#x27;</span>, <span class="number">230</span>);</span><br><span class="line"><span class="keyword">const</span> iPhone6s = <span class="keyword">new</span> SmartPhone(<span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;白色&#x27;</span>, <span class="number">6088</span>, </span><br><span class="line"><span class="string">&#x27;4.7inch&#x27;</span>,<span class="string">&#x27;500w&#x27;</span>);</span><br><span class="line"><span class="comment">//调用子类方法</span></span><br><span class="line">iPhone6s.playGame();</span><br><span class="line"><span class="comment">//调用重写方法</span></span><br><span class="line">iPhone6s.call();</span><br><span class="line"><span class="comment">//调用静态方法</span></span><br><span class="line">SmartPhone.run();</span><br></pre></td></tr></table></figure>

<p><strong>class类</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//手机</span></span><br><span class="line"><span class="comment">// function Phone(brand,price)&#123;</span></span><br><span class="line"><span class="comment">//     this.brand=brand;</span></span><br><span class="line"><span class="comment">//     this.price=price;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// //添加方法</span></span><br><span class="line"><span class="comment">// Phone.prototype.call=function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&#x27;我可以打电话&#x27;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// //实例化对象</span></span><br><span class="line"><span class="comment">// let Huawei=new Phone(&#x27;华为&#x27;,5000);</span></span><br><span class="line"><span class="comment">// Huawei.call();</span></span><br><span class="line"><span class="comment">// console.log(Huawei);</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shouji</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造方法 名字不能修改</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">brand,price</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.brand=brand;</span><br><span class="line">    <span class="built_in">this</span>.price=price;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//方法必须使用该语法，不能使用ES5的对象完整形式</span></span><br><span class="line">    <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;我可以打电话！！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> onePlus=<span class="keyword">new</span> Shouji(<span class="string">&quot;1+&quot;</span>,<span class="number">1999</span>);</span><br><span class="line"><span class="built_in">console</span>.log(onePlus);</span><br></pre></td></tr></table></figure>

<p><strong>类的静态成员</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// function Phone()&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Phone.name=&#x27;手机&#x27;;</span></span><br><span class="line"><span class="comment">// Phone.change=function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;我可以改变世界&quot;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Phone.prototype.size=&#x27;5.5inch&#x27;;</span></span><br><span class="line"><span class="comment">// let nokia=new Phone();</span></span><br><span class="line"><span class="comment">// console.log(nokia.name);//undefined</span></span><br><span class="line"><span class="comment">// nokia.change();//无法实现</span></span><br><span class="line"><span class="comment">// console.log(nokia.size);</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="comment">//静态属性</span></span><br><span class="line">    <span class="keyword">static</span> name=<span class="string">&#x27;手机&#x27;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&quot;我可以改变世界&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> nokia=<span class="keyword">new</span> Phone();</span><br><span class="line"><span class="built_in">console</span>.log(nokia.name);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(Phone.name);<span class="comment">//手机</span></span><br></pre></td></tr></table></figure>

<p><strong>class的set-get</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//get set</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title">price</span>()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;获取价格&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;iloveyou&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title">price</span>(<span class="params">newVal</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;价格被改变&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化独享</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="keyword">new</span> Phone();</span><br><span class="line"><span class="built_in">console</span>.log(s.price)</span><br><span class="line">s.price=<span class="string">&#x27;free&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>类继承1</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//手机</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Phone</span>(<span class="params">brand,price</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.brand=brand;</span><br><span class="line">    <span class="built_in">this</span>.price=price;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//添加方法</span></span><br><span class="line">Phone.prototype.call=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以打电话&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//智能手机</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SmartPhone</span>(<span class="params">brand,price,color,size</span>)</span>&#123;</span><br><span class="line">    Phone.call(<span class="built_in">this</span>,brand,price);</span><br><span class="line">    <span class="built_in">this</span>.color=color;</span><br><span class="line">    <span class="built_in">this</span>.size=size;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置子级构造函数的原型</span></span><br><span class="line">SmartPhone.prototype=<span class="keyword">new</span> Phone;</span><br><span class="line">SmartPhone.prototype.constructor=SmartPhone;</span><br><span class="line"><span class="comment">//声明子类的方法</span></span><br><span class="line">SmartPhone.prototype.photo=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&quot;我可以拍照&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">SmartPhone.prototype.playGame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以玩游戏&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> chuizi=<span class="keyword">new</span> SmartPhone(<span class="string">&#x27;锤子&#x27;</span>,<span class="number">2499</span>,<span class="string">&#x27;黑色&#x27;</span>,<span class="string">&#x27;5.5inch&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(chuizi);</span><br></pre></td></tr></table></figure>

<p><strong>类继承2</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">brand,price</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.brand=brand;</span><br><span class="line">        <span class="built_in">this</span>.price=price;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//父类成员属性</span></span><br><span class="line">    <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;我可以打电话&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">brand,price,color,size</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//Phone.call(this,brand,price)</span></span><br><span class="line">        <span class="built_in">super</span>(brand,price);</span><br><span class="line">        <span class="built_in">this</span>.color=color;</span><br><span class="line">        <span class="built_in">this</span>.size=size;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">photo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&#x27;拍照&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">playGame</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&#x27;玩游戏&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//对父类重写</span></span><br><span class="line">    <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&quot;hhhhh&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> xiaomi=<span class="keyword">new</span> SmartPhone(<span class="string">&#x27;小米&#x27;</span>,<span class="number">799</span>,<span class="string">&#x27;黑色&#x27;</span>,<span class="string">&#x27;5.5inch&#x27;</span>);</span><br><span class="line"><span class="comment">// console.log(xiaomi);</span></span><br><span class="line">xiaomi.call();</span><br><span class="line">xiaomi.photo();</span><br><span class="line">xiaomi.playGame();</span><br></pre></td></tr></table></figure>

<h3 id="十六、数值扩展"><a href="#十六、数值扩展" class="headerlink" title="十六、数值扩展"></a>十六、数值扩展</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Number.EPSILON是js表示的最小精度</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">equal</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(a-b)&lt;<span class="built_in">Number</span>.EPSILON)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span>+<span class="number">0.2</span>===<span class="number">0.3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(equal(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>));</span><br></pre></td></tr></table></figure>

<h3 id="十七、二进制和八进制"><a href="#十七、二进制和八进制" class="headerlink" title="十七、二进制和八进制"></a>十七、二进制和八进制</h3><h3 id="十八、对象扩展"><a href="#十八、对象扩展" class="headerlink" title="十八、对象扩展"></a>十八、对象扩展</h3><ol>
<li>Object.is 比较两个值是否严格相等，与『===』行为基本一致（+0 与 NaN） </li>
</ol>
<p>2.Object.assign 对象的合并，将源对象的所有可枚举属性，复制到目标对象 </p>
<p>3.proto__、setPrototypeOf、 setPrototypeOf 可以直接设置对象的原型 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.Object.is判断两个值是否完全相等</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">120</span>,<span class="number">120</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>===<span class="literal">NaN</span>);<span class="comment">//false</span></span><br><span class="line"><span class="comment">//2.Objec.assign对象的合并</span></span><br><span class="line"><span class="keyword">const</span> config1=&#123;</span><br><span class="line">     <span class="attr">host</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">     <span class="attr">port</span>:<span class="number">3306</span>,</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">     <span class="attr">pass</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">     <span class="attr">test</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> config2=&#123;</span><br><span class="line">     <span class="attr">host</span>:<span class="string">&#x27;http://www.baidu.com&#x27;</span>,</span><br><span class="line">     <span class="attr">port</span>:<span class="number">33060</span>,</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&#x27;baidu.comt&#x27;</span>,</span><br><span class="line">     <span class="attr">pass</span>:<span class="string">&#x27;hhhhh&#x27;</span>,</span><br><span class="line">     <span class="attr">test</span>:<span class="string">&#x27;test2&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(config1,config2));</span><br><span class="line"><span class="comment">//3.Object.setPrototypeOf设置原型对象Object.getPrototypeOf</span></span><br><span class="line"><span class="keyword">const</span> school=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;彭彭&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cities=&#123;</span><br><span class="line">    <span class="attr">xiaoqu</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(school,cities);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(school));</span><br><span class="line"><span class="built_in">console</span>.log(school);</span><br></pre></td></tr></table></figure>

<h3 id="十九、模块化"><a href="#十九、模块化" class="headerlink" title="十九、模块化"></a>十九、模块化</h3><p>模块化是指将一个大的程序文件，拆分成许多小的文件，然后将小文件组合起来</p>
<p>模块化的优势有以下几点： </p>
<ol>
<li><p>防止命名冲突 </p>
</li>
<li><p>代码复用 </p>
</li>
<li><p>高维护性</p>
</li>
</ol>
<p>模块功能主要由两个命令构成：export 和 import。 </p>
<ul>
<li><p>export 命令用于规定模块的对外接口 </p>
</li>
<li><p>import 命令用于输入其他模块提供的功能</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//m1.js</span></span><br><span class="line"><span class="comment">//分别暴露</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> school=<span class="string">&#x27;1111&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">teach</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我们可以&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//m2.js</span></span><br><span class="line"><span class="comment">//统一暴露</span></span><br><span class="line"><span class="keyword">let</span> school=<span class="string">&#x27;aaa&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findJob</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我们&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123;school,findJob&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//m3.js</span></span><br><span class="line"><span class="comment">//默认暴露</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    <span class="attr">school</span>:<span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">    <span class="attr">change</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;whuhvus&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">    <span class="comment">//1.通用的导入方式</span></span><br><span class="line">    <span class="comment">//引入m1.js模块内容</span></span><br><span class="line">    <span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./m1.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m1); </span><br><span class="line">    <span class="comment">//引入m2.js</span></span><br><span class="line">    <span class="keyword">import</span> * <span class="keyword">as</span> m2 <span class="keyword">from</span> <span class="string">&quot;./m2.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m2);</span><br><span class="line">    <span class="comment">//引入m3.js</span></span><br><span class="line">    <span class="keyword">import</span> * <span class="keyword">as</span> m3 <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m3);</span><br><span class="line">    m3.default.change();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.解构赋值形式</span></span><br><span class="line">    <span class="keyword">import</span> &#123;school,teach&#125; <span class="keyword">from</span> <span class="string">&quot;./m1.js&quot;</span>;</span><br><span class="line">    <span class="keyword">import</span> &#123;school <span class="keyword">as</span> gg,findJob&#125; <span class="keyword">from</span> <span class="string">&quot;./m2.js&quot;</span>;</span><br><span class="line">    <span class="keyword">import</span> &#123;<span class="keyword">default</span> <span class="keyword">as</span> m3&#125; <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.简便形式 针对默认暴露</span></span><br><span class="line">    <span class="keyword">import</span> m3 <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m3);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./app.js&quot;</span> type=<span class="string">&quot;module&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="comment">//入口文件</span></span><br><span class="line"><span class="comment">//模块引入</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./m1.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m2 <span class="keyword">from</span> <span class="string">&quot;./m2.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m3 <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m3);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ES6-ES11</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>ajax</title>
    <url>/2021/09/02/ajax/</url>
    <content><![CDATA[<h2 id="一、AJAX介绍与网页应用"><a href="#一、AJAX介绍与网页应用" class="headerlink" title="一、AJAX介绍与网页应用"></a><strong>一、AJAX介绍与网页应用</strong></h2><p>在不刷新的情况下与服务器交互</p>
<h2 id="二、XML介绍"><a href="#二、XML介绍" class="headerlink" title="二、XML介绍"></a><strong>二、XML介绍</strong></h2><h4 id="1-可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据"><a href="#1-可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据" class="headerlink" title="1.可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据"></a>1.可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据</h4><p>比如：name=”孙悟空”;age=18;gender=”男”;</p>
<p>用XML表示：</p>
<student>

<p><name>孙悟空</name></p>
<p><age>18</age></p>
<p><gender>男</gender></p>
</student>

<p>现在用JSON取代了：</p>
<p>{“name”:”孙悟空”,”age”:18,”gender”:”男”}</p>
<h4 id="2-AJAX的优点"><a href="#2-AJAX的优点" class="headerlink" title="2.AJAX的优点"></a>2.AJAX的优点</h4><p>2.1可以无需刷新页面而与服务器端进行通信</p>
<p>2.2允许你根据用户事件来更新部分页面呢绒</p>
<h4 id="3-AJAX的缺点"><a href="#3-AJAX的缺点" class="headerlink" title="3.AJAX的缺点"></a>3.AJAX的缺点</h4><p>3.1没有浏览历史，不能回退</p>
<p>3.2存在跨域问题（同源）</p>
<p>3.3SEO不友好</p>
<h2 id="三、HTTP协议请求报文与响应文本结构"><a href="#三、HTTP协议请求报文与响应文本结构" class="headerlink" title="三、HTTP协议请求报文与响应文本结构"></a><strong>三、HTTP协议请求报文与响应文本结构</strong></h2><h4 id="1-HTTP-hypertext-transport-protocol-协议【超文本传输协议】"><a href="#1-HTTP-hypertext-transport-protocol-协议【超文本传输协议】" class="headerlink" title="1.HTTP(hypertext transport protocol)协议【超文本传输协议】"></a>1.HTTP(hypertext transport protocol)协议【超文本传输协议】</h4><p>协议详细规定了浏览器与万维网服务器之间互相通信的规则</p>
<h4 id="2-请求报文"><a href="#2-请求报文" class="headerlink" title="2.请求报文"></a>2.请求报文</h4><p>重点是格式与参数</p>
<p>GET请求，请求体为空，如果为post可以不为空</p>
<p>行    GET    /s?ie=utf-8**(url)**  HTTP/1.1</p>
<p>头    Host:atguigu.com</p>
<p>Cookie:name=guigu</p>
<p>Content-type:application/x-www-form-urlencoded</p>
<p>User-Agent:chrome 83</p>
<p>空行</p>
<p>体    username=admin&amp;password=admin</p>
<h4 id="3-响应报文"><a href="#3-响应报文" class="headerlink" title="3.响应报文"></a>3.响应报文</h4><p>行    HTTP/1.1   200     OK</p>
<p>头    Content-Type:text/html;charset=utf-8</p>
<p>Content-length:2048</p>
<p>Content-encoding:gzip</p>
<p>空行</p>
<p>体    <html></html></p>
<head>

</head>

<body>

<h1>ozawa</h1>

</body>



<p>404</p>
<p>403</p>
<p>401</p>
<h2 id="四、Express框架"><a href="#四、Express框架" class="headerlink" title="四、Express框架"></a><strong>四、Express框架</strong></h2><h4 id="1-用管理员打开vscode，然后右键打开终端输入"><a href="#1-用管理员打开vscode，然后右键打开终端输入" class="headerlink" title="1.用管理员打开vscode，然后右键打开终端输入"></a>1.用管理员打开vscode，然后右键打开终端输入</h4><p>npm init –yes</p>
<p>再安装express</p>
<p>npm i express</p>
<h4 id="2-怎么设置跨域？跨域是什么"><a href="#2-怎么设置跨域？跨域是什么" class="headerlink" title="2.怎么设置跨域？跨域是什么"></a>2.怎么设置跨域？跨域是什么</h4><h2 id="五、GET请求"><a href="#五、GET请求" class="headerlink" title="五、GET请求"></a>五、GET请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.引入express</span></span><br><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="comment">//2.创建应用对象</span></span><br><span class="line"><span class="keyword">const</span> app=express();</span><br><span class="line"><span class="comment">//3.创建路由规则</span></span><br><span class="line"><span class="comment">//request是对请求报文的封装</span></span><br><span class="line"><span class="comment">//response是对响应报文的封装</span></span><br><span class="line">app.get(<span class="string">&#x27;/server&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(<span class="string">&#x27;HELLO AJAX&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//4.监听端口启动服务</span></span><br><span class="line">app.listen(<span class="number">8000</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;服务已经启动，8000端口监听中……&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取button元素</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//绑定事件</span></span></span><br><span class="line"><span class="javascript">            btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//1.创建对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//2.初始化 设置请求方法和url</span></span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/server?a=100&amp;b=200&amp;c=300&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//3.发送</span></span></span><br><span class="line"><span class="javascript">                xhr.send();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//4.事件绑定 处理服务端返回的结果</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//on when当..时候</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//readystate 是xhr 对象中的属性，表示状态0 1 2 3 4</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//change 改变</span></span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//判断（服务端返回了所有的结果）</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//判断响应状态码 200 404 403 401 500</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//2xx 成功</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">//1.响应行</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.status);//状态码</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.statusText);//状态字符串</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.getAllResponseHeaders());//所有响应头</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.response);//响应体</span></span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;;</span></span><br><span class="line"><span class="javascript">            &#125;;</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="六、post请求"><a href="#六、post请求" class="headerlink" title="六、post请求"></a>六、post请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.post(<span class="string">&#x27;/server&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(<span class="string">&#x27;HELLO AJAX POST&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取result</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//绑定时间</span></span></span><br><span class="line"><span class="javascript">            result.addEventListener(<span class="string">&quot;mouseover&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//1.创建对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//2.初始化</span></span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&quot;POST&quot;</span>,<span class="string">&quot;http://localhost:8000/server&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//设置请求头</span></span></span><br><span class="line"><span class="javascript">                xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// //3.发送</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// xhr.send();</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//设置参数</span></span></span><br><span class="line"><span class="javascript">                xhr.send(<span class="string">&quot;a=100&amp;b=100&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// xhr.send(&quot;a:100&amp;b:100&quot;);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//4.</span></span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="七、JSON"><a href="#七、JSON" class="headerlink" title="七、JSON"></a>七、JSON</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.all(<span class="string">&#x27;/Json-server&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> data=&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;ozawa&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> str=<span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(str);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onkeydown=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            <span class="comment">//设置响应体数据的类型</span></span></span><br><span class="line"><span class="javascript">            xhr.responseType=<span class="string">&#x27;json&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/Json-server&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            xhr.send();</span></span><br><span class="line"><span class="javascript">            xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//手动对数据转化</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// let data=JSON.parse(xhr.response);</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// result.innerHTML=data.name;</span></span></span><br><span class="line"><span class="javascript">                        result.innerHTML=xhr.response.name;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="八、IE缓存问题"><a href="#八、IE缓存问题" class="headerlink" title="八、IE缓存问题"></a>八、IE缓存问题</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/ie&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(<span class="string">&#x27;HELLO IE-1&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            btn.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/ie?t=&#x27;</span>+<span class="built_in">Date</span>.now());</span></span><br><span class="line"><span class="javascript">                xhr.send();</span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="九、超时与网络异常"><a href="#九、超时与网络异常" class="headerlink" title="九、超时与网络异常"></a>九、超时与网络异常</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/delay&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置响应体</span></span><br><span class="line">        response.send(<span class="string">&#x27;延时响应&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            btn.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//超时设置</span></span></span><br><span class="line"><span class="javascript">                xhr.timeout=<span class="number">2000</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//超时回调</span></span></span><br><span class="line"><span class="javascript">                xhr.ontimeout=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;网络异常，请稍后重试！！&quot;</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//网络异常回调</span></span></span><br><span class="line"><span class="javascript">                xhr.onerror=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;你的网络似乎出现了异常&quot;</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/delay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                xhr.send();</span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十、取消请求"><a href="#十、取消请求" class="headerlink" title="十、取消请求"></a>十、取消请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/delay&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置响应体</span></span><br><span class="line">        response.send(<span class="string">&#x27;延时响应&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击取消<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> btns=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> x=<span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        btns[<span class="number">0</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            x=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            x.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/delay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            x.send();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//abort</span></span></span><br><span class="line"><span class="javascript">        btns[<span class="number">1</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            x.abort();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十一、请求重复发送"><a href="#十一、请求重复发送" class="headerlink" title="十一、请求重复发送"></a>十一、请求重复发送</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/delay&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置响应体</span></span><br><span class="line">        response.send(<span class="string">&#x27;延时响应&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> btns=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> x=<span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//标识变量</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> isSending=<span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">        btns[<span class="number">0</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//判断标识标量</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(isSending) x.abort();<span class="comment">//如果正在发送，则取消该请求，创建一个新的请求</span></span></span><br><span class="line"><span class="javascript">            x=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            isSending=<span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">            x.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/delay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            x.send();</span></span><br><span class="line"><span class="javascript">            x.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(x.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//修改标识变量</span></span></span><br><span class="line"><span class="javascript">                    isSending=<span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//abort</span></span></span><br><span class="line"><span class="javascript">        btns[<span class="number">1</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            x.abort();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十二、jQuery中的AJAX"><a href="#十二、jQuery中的AJAX" class="headerlink" title="十二、jQuery中的AJAX"></a>十二、jQuery中的AJAX</h2><p>1.get请求</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.get(url,[data],[callback],[type])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>url:请求的URL地址</p>
<p>data:请求携带的参数</p>
<p>callback:载入成功时回调函数</p>
<p>type:设置返回内容格式,xml,html,script,json,text,_default</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//JQUREY</span></span><br><span class="line">app.all(<span class="string">&#x27;/jquery-server&#x27;</span>,<span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> data=&#123;<span class="attr">name</span>:<span class="string">&#x27;ozawa&#x27;</span>&#125;;</span><br><span class="line">    <span class="comment">// response.send(&#x27;hello jquery ajax&#x27;);</span></span><br><span class="line">    response.send(<span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>GET<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>POST<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>通用型方法ajax<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.get(<span class="string">&#x27;http://localhost:8000/jquery-server&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="string">&#x27;json&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.post(<span class="string">&#x27;http://localhost:8000/jquery-server&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="string">&#x27;json&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//url</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">url</span>:<span class="string">&#x27;http://localhost:8000/jquery-server&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//参数</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">a</span>:<span class="number">100</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">b</span>:<span class="number">200</span></span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//请求类型</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">type</span>:<span class="string">&#x27;GET&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//响应体结果</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">dataType</span>:<span class="string">&#x27;json&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//成功的回调</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//失败的回调</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">error</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">&quot;出错啦&quot;</span>)</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//头信息</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">headers</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">c</span>:<span class="number">300</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">d</span>:<span class="number">400</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;)</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>十三、axios发送ajax请求</p>
]]></content>
      <categories>
        <category>ajax</category>
      </categories>
      <tags>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js</title>
    <url>/2021/09/02/Node-js/</url>
    <content><![CDATA[<h2 id="一、node基础"><a href="#一、node基础" class="headerlink" title="一、node基础"></a>一、node基础</h2><h4 id="1-命令行窗口"><a href="#1-命令行窗口" class="headerlink" title="1.命令行窗口"></a>1.命令行窗口</h4><h5 id="1-1常用指令"><a href="#1-1常用指令" class="headerlink" title="1.1常用指令"></a>1.1常用指令</h5><p>（1）<strong>dir</strong>    列出当前目录下的所有文件</p>
<p>（2）<strong>cd 目录名</strong>    进入到指定的目录</p>
<p>（3）<strong>md 目录名</strong>    创建一个文件夹</p>
<p>（4）<strong>rd 目录名</strong>    删除一个文件夹</p>
<p>（5）<strong>d:</strong>    去d盘</p>
<h5 id="1-2目录"><a href="#1-2目录" class="headerlink" title="1.2目录"></a>1.2目录</h5><p>.    表示当前目录</p>
<p>..    表示上一级目录</p>
<h5 id="1-3环境变量（windows系统中的变量）"><a href="#1-3环境变量（windows系统中的变量）" class="headerlink" title="1.3环境变量（windows系统中的变量）"></a>1.3环境变量（windows系统中的变量）</h5><p>与作用域链一样的（？）</p>
<p>path：当我们在命令行窗口打开一个文件，或调用一个程序时，系统会首先在当前目录下寻找文件程序，如果找到了则直接打开，如果没有找到则会依次到环境变量path的路径中寻找，直到扎到为止，如果没有找到则报错</p>
<p>所以我们可以将一些经常需要访问的文件和路径添加到path中，这样我们就可以在任意位置来访问文件和程序了。</p>
<h4 id="2-进程和线程"><a href="#2-进程和线程" class="headerlink" title="2.进程和线程"></a>2.进程和线程</h4><p><strong>进程</strong></p>
<ul>
<li>进程负责为程序的运行提供必备的环境</li>
<li>进程就相当于工厂中的车间</li>
</ul>
<p><strong>线程</strong></p>
<ul>
<li>线程计算机中的最小的计算单位，线程负责执行进程中的程序线程就相当于工厂中的工人</li>
</ul>
<p>单线程（JS)</p>
<p>多线程（主流）：并发问题</p>
<h4 id="3-node-js简介"><a href="#3-node-js简介" class="headerlink" title="3.node.js简介"></a>3.node.js简介</h4><p>（1）Node.js不是一门语言，不是库，不是框架，是一个构建与谷歌V8引擎之上的js运行时环境</p>
<p>（2）Node.js可以解析和执行js代码，可以完全脱离浏览器来运行</p>
<p>（3）Node.js中的js没有DOM,BOM,在Node这个执行环境中为js提供了一些服务器级别的操作API</p>
<ul>
<li>文件读写</li>
<li>网络服务的构建</li>
<li>网络通信</li>
<li>http服务器</li>
</ul>
<p>（4）Node.js使用事件驱动，非阻塞IO模型（异步），使他更加的轻量和高效</p>
<p>（5）Node.js包生态系统，npm是世界上最大的开源库生态系统</p>
<p>与系统进行交互，从前端拿到后台</p>
<p>Node.js是一个能够在服务器端运行JavaScript的开放源代码、跨平台JavaScript运行环境</p>
<p><img src="/2021/09/02/Node-js/1.png"></p>
<p>Node的用途：<br>（1）Web服务API，比如REST</p>
<p>（2）实时多人游戏</p>
<p>（3）后端的Web服务，例如跨域、服务端的请求</p>
<p>（4）基于Web的应用</p>
<p>（5）多客户端的通信，如及时通信</p>
<ol>
<li><p>Node是对ES标准的一个实现，Node也是一个JS引擎</p>
</li>
<li><p>通过Node可以使js代码在服务端执行</p>
</li>
<li><p>Node仅仅对ES标准进行了实现，所以Node不包含DOM和BOM</p>
</li>
<li><p>Node中可以使用所有的内建对象</p>
<p>String Number Boolean Math Date RegExp Function Object Array</p>
<p>而BOM和DOM都不能使用，但是可以使用console也可以使用定时器（setTimeout() setInterval())</p>
</li>
<li><p>Node可以在后台来编写服务器</p>
<p>Node编写服务器都是单线程的服务器</p>
<ul>
<li>进程：进程就是一个一个的工作计划（工厂中的车间）</li>
<li>线程：线程是计算机最小的运算单位（工厂中的工人），线程是干活的</li>
</ul>
</li>
<li><p>传统的服务器都是多线程的</p>
<p>每进来一个请求，就创建一个线程去处理请求</p>
</li>
<li><p>Node的服务器单线程的</p>
<p>Node处理请求时是单线程，但是在后台拥有一个I/O线程池</p>
</li>
</ol>
<h4 id="4-模块化"><a href="#4-模块化" class="headerlink" title="4.模块化"></a>4.模块化</h4><p>（1）模块化</p>
<p> -在node中，一个js文件就是一个模块</p>
<p>  -在node中，每一个js文件中的js代码都是独立运行在一个函数中</p>
<p> 而不是全局作用域，所以一个模块中的变量和函数在其他模块中无法访问</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;我是一个模块，我是02.module.js&quot;</span>);</span><br></pre></td></tr></table></figure>

<p> 我们可以通过exports来向外部暴露变量和方法</p>
<p> 只主要将需要暴露给外部的变量或方法设置为exports的属性即可</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//向外暴露属性或方法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.x=<span class="string">&quot;我是02&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.y=<span class="string">&quot;我是y&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.fn=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）引入其他模块</p>
<p>在node中，通过require()函数来引入外部的模块</p>
<p>require()可以传递一个文件的路径作为参数，node将会自动根据该路径来引入外部模块，这里路径，如果使用相对路径，必须以.或..开头</p>
<p>使用require()引入模块以后，该函数会返回一个对象，这个对象代表的是引入的模块</p>
<p>我们使用require()引入外部模块时，使用的就是模块标识，我们可以通过模块标识来找到指定的模块</p>
<p>-模块分成两大类</p>
<p>核心模块</p>
<p>-由node引擎提供的模块</p>
<p>-核心模块的标识就是，模块的名字</p>
<p>文件模块</p>
<p>-由用户自己创建的模块</p>
<p>-文件模块的标识就是文件的路径（绝对路径，相对路径）</p>
<p>相对路径使用..或.开头</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> md=<span class="built_in">require</span>(<span class="string">&quot;./02.module&quot;</span>)<span class="comment">//点js可以省略</span></span><br><span class="line"><span class="keyword">const</span> mt=<span class="built_in">require</span>(<span class="string">&quot;./math&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">// console.log(mt.add(1,2))</span></span><br><span class="line"><span class="comment">// console.log(mt.mul(1,2))</span></span><br><span class="line"><span class="built_in">console</span>.log(fs)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>在node中有一个全局对象global，它的作用和网页中window类似</p>
<p>在全局中创建的变量都会作为global的属性保存</p>
<p>在全局中创建的函数都会作为global的方法保存</p>
</li>
<li><p>当node在执行模块中的代码时，它会首先在代码的<strong>最顶部</strong>，添加如下代码</p>
<p>function (exports,require,module,_filename,_dirname){</p>
<p>在代码的<strong>最底部</strong>，添加如下代码</p>
<p>}</p>
</li>
<li><p>实际上模块中的代码都是包装在一个函数中执行的，并且在函数执行时，同时传递了<strong>5个实参</strong><br><strong>exports</strong>：该对象用来将变量或函数暴露到外部<br><strong>require</strong>：函数，用来引入外部的模块<br><strong>module</strong>：代表的是当前模块本身，exports就是module的属性，既可以使用exports到处，也可以用module.exports导出<br><strong>_filename</strong>：当前模块的完整路径<br><strong>_dirname</strong>：当前模块所在文件夹的完整路径</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// var a=10;//他不是全局变量，全局变量是window的属性</span></span><br><span class="line">a=<span class="number">10</span>;<span class="comment">//是全局的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(global.a)undefined/10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * arguments.callee</span></span><br><span class="line"><span class="comment"> * 这个属性保存的是当前执行的函数对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// console.log(arguments)//可以证明不是全局的</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee+<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（3）exports和module.exports</p>
<p> * 通过exports只能使用.的方式来向外暴露内部变量exports.xxx=xxx</p>
<p> * 而module.exports既可以通过.的形式，也可以直接赋值</p>
<p><img src="/2021/09/02/Node-js/4.png"></p>
<p><img src="/2021/09/02/Node-js/5.png"></p>
<p><img src="/2021/09/02/Node-js/6.png"></p>
<h4 id="5-包结构"><a href="#5-包结构" class="headerlink" title="5.包结构"></a>5.包结构</h4><p>包实际上就是一个压缩文件，解压以后还原为目录。符合规范的目录，应该包含如下文件：</p>
<ul>
<li><strong>package.json 描述文件</strong>（不能写注释）</li>
<li>bin 可执行二进制文件</li>
<li>lib js代码</li>
<li>doc 文档</li>
<li>test 单元测试</li>
</ul>
<p>包描述文件用于表达非代码相关的信息，它是一个JSON格式的文件-package.json，位于包的根目录下，是包的重要组成部分</p>
<h4 id="6-npm简介（Node-Package-Manager）"><a href="#6-npm简介（Node-Package-Manager）" class="headerlink" title="6.npm简介（Node Package Manager）"></a>6.npm简介（Node Package Manager）</h4><ul>
<li>CommonJS包规范是理论，NPM是其中一种实践</li>
<li>对于Node而言，NPM帮助其完成了第三方模块的发布、安装和依赖等。借助NPM，Node与第三方模块之间形成了很好的一个生态系统</li>
</ul>
<p>（1）NPM命令</p>
<ul>
<li>npm init 生成package.json文件<ul>
<li>npm init -y 可以跳过向导，快速生成</li>
</ul>
</li>
<li>npm -v :查看版本</li>
<li>npm version:查看所有模块的版本</li>
<li>npm:帮助说明</li>
<li>npm search 包名 :搜索包</li>
<li>npm install/i 包名：安装包</li>
<li>npm remove/r 包名：删除包</li>
<li>npm install 包名 –save：安装包并添加到依赖中(package.json文件中的dependencis选项)</li>
<li>npm install：下载到当前项目所依赖的包</li>
<li>npm install 包名 -g：全局安装包(全局安装的包一般都是一些工具)</li>
</ul>
<h4 id="7-配置cnpm"><a href="#7-配置cnpm" class="headerlink" title="7.配置cnpm"></a>7.配置cnpm</h4><p>npm.taobao.org</p>
<h4 id="8-npm搜索包的流程"><a href="#8-npm搜索包的流程" class="headerlink" title="8.npm搜索包的流程"></a>8.npm搜索包的流程</h4><ul>
<li>通过npm下载的包都放到node_modules文件夹中</li>
</ul>
<p>我们通过npm下载的包，直接通过包名引入即可</p>
<ul>
<li>node 在使用模块名字来引入模块时，它会首先在当前目录的node_modules中寻找是否含有该模块，如果有则直接使用，如果没有则取上一级目录的node_modules中寻找，如果有则直接使用，如果没有则再去上一级目录寻找，直到找到为止，直到找到磁盘的根目录，如果依然没有，则报错</li>
</ul>
<h4 id="9-文件系统"><a href="#9-文件系统" class="headerlink" title="9.文件系统"></a>9.文件系统</h4><h5 id="9-1Buffer缓冲区"><a href="#9-1Buffer缓冲区" class="headerlink" title="9.1Buffer缓冲区"></a>9.1Buffer缓冲区</h5><ul>
<li><p>Buffer的结构和数组很像，操作的方法也和数组类似</p>
</li>
<li><p>数组中不能存储二进制的文件，而buffer就是专门用来存储二进制数据</p>
</li>
<li><p>使用buffer不需要引入模块，直接使用即可</p>
</li>
<li><p>在buffer中存储的都是二进制数据，但是在显示时都是以16进制的形式显示</p>
<ul>
<li>buffer中每一个元素的范围是从00-ff  0-255     二进制：00000000 - 11111111</li>
<li>计算机一个0或一个1 我们称为1位（bit)</li>
<li>8bit=1byte（字节）</li>
<li>1024byte=1kb,1024kb=1mb,1024mb=1gb,1024gb=1tb</li>
<li>buffer中的一个元素，占用内存的一个字节</li>
</ul>
</li>
<li><p>Buffer的大小一旦确定，则不能修改,Buffer实际上是对底层内存的直接操作</p>
</li>
<li><p>Buffer.from(str) ：将一个字符串转换为buffer</p>
<p>Buffer.alloc(size)：创建一个指定大小的Buffer</p>
<p>Buffer.allocUnsafe(size)：创建一个指定大小的Buffer，但是可能包含敏感数据</p>
<p>buf.toString() ：将缓冲区中的数据转换为字符串</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str=<span class="string">&quot;hello ahdj&quot;</span></span><br><span class="line"><span class="comment">//将一个字符串保存到buffer中</span></span><br><span class="line"><span class="keyword">const</span> buf=Buffer.from(str)</span><br><span class="line"><span class="comment">// console.log(buf.length);//占用内存的大小</span></span><br><span class="line"><span class="comment">// console.log(str.length);//字符串的长度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个指定大小的buffer</span></span><br><span class="line"><span class="comment">//buffer构造函数都是不推荐使用的</span></span><br><span class="line"><span class="comment">//var buf2=new Buffer(10);//10个字节的buffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个10个字节的buffer</span></span><br><span class="line"><span class="keyword">const</span> buf2=Buffer.alloc(<span class="number">10</span>);</span><br><span class="line"><span class="comment">//通过索引，来操作buf2中的元素</span></span><br><span class="line"><span class="comment">//&lt;Buffer 58 ff aa 0f 00 00 00 00 00 00&gt;</span></span><br><span class="line">buf2[<span class="number">0</span>]=<span class="number">88</span>;</span><br><span class="line">buf2[<span class="number">1</span>]=<span class="number">255</span>;</span><br><span class="line">buf2[<span class="number">2</span>]=<span class="number">0xaa</span>;</span><br><span class="line">buf2[<span class="number">3</span>]=<span class="number">15</span>;</span><br><span class="line"><span class="comment">// console.log(buf2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//只要数字在控制台或页面中输出一定是10进制</span></span><br><span class="line"><span class="comment">// console.log(buf2[2]);</span></span><br><span class="line"><span class="comment">//不要10进制</span></span><br><span class="line"><span class="comment">// console.log(buf2[2].toString(16));</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for(let i of buf2)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(i);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Buffer.allocUnsafe(size) 创建一个指定大小的buffer,但是buffer中可能含有铭感数据</span></span><br><span class="line"><span class="comment">//分配内存时没有清空数据，但是这个的性能好</span></span><br><span class="line"><span class="comment">// const buf3=Buffer.allocUnsafe(10);</span></span><br><span class="line"><span class="comment">// console.log(buf3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf4=Buffer.from(<span class="string">&quot;我是一段文本数据&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(buf4.toString())</span><br></pre></td></tr></table></figure>

<h5 id="9-2同步文件写入"><a href="#9-2同步文件写入" class="headerlink" title="9.2同步文件写入"></a>9.2同步文件写入</h5><p>（1）文件系统（File System)</p>
<p> * 文件系统简单来说就是通果Node来操作系统中的文件</p>
<p> * 使用文件系统，需要先引入fs模块，fs是核心模块，直接引入不需要下载</p>
<p>（2）文件的写入</p>
<p> 手动操作的步骤</p>
<p> 1）打开文件：fs.openSync(path,flags[,model])</p>
<ul>
<li><p>path ：要打开文件的路径</p>
</li>
<li><p>flags ：打开文件要做的操作的类型</p>
<p>r 只读的  w 可写的</p>
</li>
<li><p>model：设置文件的操作权限，一般不传</p>
</li>
</ul>
<p>2）向文件中写入内容： fs.writeSync(fd,string[,position[,encoding]])</p>
<ul>
<li>fd 文件的描述符，需要传递要写入的文件的描述符</li>
<li>string 要写入的内容</li>
<li>position 写入的起始位置</li>
<li>encoding 写入的编码，默认utf-8</li>
</ul>
<p>3）保存并关闭文件：fs.closeSync(fd)</p>
<p>-fd 要关闭的文件的描述符</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">//打开文件</span></span><br><span class="line"><span class="keyword">const</span> fd=fs.openSync(<span class="string">&quot;hello.txt&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="comment">//向文件中写入内容</span></span><br><span class="line">fs.writeSync(fd,<span class="string">&quot;今天&quot;</span>)</span><br><span class="line"><span class="comment">// console.log(fd);</span></span><br><span class="line"><span class="comment">//关闭文件</span></span><br><span class="line">fs.closeSync(fd);</span><br></pre></td></tr></table></figure>

<h5 id="9-3异步文件写入"><a href="#9-3异步文件写入" class="headerlink" title="9.3异步文件写入"></a>9.3异步文件写入</h5><p> （1）fs.open(path,flags[,model],callback)</p>
<ul>
<li>用来打开一个文件</li>
<li>异步调用的方法，结果都是通过回调函数返回的</li>
<li>回调函数两个参数：<ul>
<li>err：错误对象，如果没有错误则为null</li>
<li>fd: 文件的描述符</li>
</ul>
</li>
</ul>
<p> （2）fs.write(fd,string[,position[,encoding]],callback)</p>
<ul>
<li>用来异步写入一个文件</li>
</ul>
<p>（3) fs.close(fd,callback)</p>
<ul>
<li>用来关闭文件</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入fs模块</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">//打开文件</span></span><br><span class="line">fs.open(<span class="string">&quot;hello.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,fd</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//判断是否出错</span></span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="comment">//如果没有出错，则对文件进行写入操作</span></span><br><span class="line">        fs.write(fd,<span class="string">&quot;这是异步写入的内容&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&quot;写入成功~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//关闭文件</span></span><br><span class="line">            fs.close(fd,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">&quot;文件已关闭~&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="9-4简单文件写入"><a href="#9-4简单文件写入" class="headerlink" title="9.4简单文件写入"></a>9.4简单文件写入</h5><p>（1）fs.writeFile(file,data[,options],callback)</p>
<p>  fs.writeFileSync(file,data[,options])</p>
<ul>
<li>file 要操作的文件的路径</li>
<li>data 要写入的数据</li>
<li>options 选项，可以对写入进行一些设置</li>
<li>callback 当写入完成以后执行的函数</li>
<li>flag-&gt;  r 可读；w 可写；a 追加</li>
</ul>
<h5 id="9-5流式文件写入"><a href="#9-5流式文件写入" class="headerlink" title="9.5流式文件写入"></a>9.5流式文件写入</h5><p>同步、异步、简单文件的写入都不适合大文件的写入，性能较差，容易导致内存溢出</p>
<p>（1）创建一个可写流</p>
<p>fs.createWriteStream(path[,options])</p>
<ul>
<li>可以用来创建一个可写流</li>
<li>path,文件路径</li>
<li>options 配置参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ws=fs.createWriteStream(<span class="string">&quot;hello3.txt&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>（2）可以通过监听流的open和close事件来监听流的打开和关闭</p>
<p> on(事件字符串，回调函数)</p>
<ul>
<li>可以为对象绑定一个事件</li>
</ul>
<p> once(事件字符串，回调函数)</p>
<ul>
<li>可以为对象绑定一个一次性的事件，该事件将会在触发一次以后自动失效</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ws.on(<span class="string">&quot;open&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;流打开了~~&quot;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ws.once(&quot;open&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;流打开了~~&quot;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line">ws.on(<span class="string">&quot;close&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;流关闭了~~&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过ws向文件中输出内容</span></span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭流</span></span><br><span class="line">ws.end();</span><br></pre></td></tr></table></figure>

<h5 id="9-6文件的读取"><a href="#9-6文件的读取" class="headerlink" title="9.6文件的读取"></a>9.6文件的读取</h5><p> （1）同步文件读取</p>
<p> （2）异步文件读取</p>
<p> （3）简单文件读取</p>
<ul>
<li>fs.readFile(path[,options],callback)</li>
<li>fs.readFileSync(path[,options])<ul>
<li>path 要读取的文件的路径</li>
<li>options 读取的选项</li>
<li>callback 回调函数，通过回调函数将读取到内容返回（err, data）<ul>
<li>err 错误对象</li>
<li>data 读取到的数据，会返回一个buffer</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path=<span class="string">&quot;xxxx&quot;</span>;</span><br><span class="line">fs.readFile(<span class="string">&quot;an.jpg&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="comment">// console.log(data.toString());</span></span><br><span class="line">        <span class="comment">//将data写入到文件中</span></span><br><span class="line">        fs.writeFile(<span class="string">&quot;hello.jpg&quot;</span>,data,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&quot;文件写入成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>（4）流式文件读取</p>
<p>流式文件读取也适用于一些比较大的文件，可以分多次将文件读取到内存中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//创建一个可读流</span></span><br><span class="line"> <span class="keyword">const</span> rs=fs.createReadStream(<span class="string">&quot;hello3.txt&quot;</span>)</span><br><span class="line"><span class="comment">//创建一个可写流</span></span><br><span class="line"><span class="keyword">const</span> ws=fs.createWriteStream(<span class="string">&quot;ddd.txt&quot;</span>)</span><br><span class="line"><span class="comment">//  //监听流的开启和关闭</span></span><br><span class="line"><span class="comment">//  rs.once(&quot;open&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//      console.log(&quot;可读流打开了&quot;)</span></span><br><span class="line"><span class="comment">//  &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  rs.once(&quot;close&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//      console.log(&quot;可读流关闭了&quot;)</span></span><br><span class="line"><span class="comment">//      //数据读取完毕，关闭科协刘</span></span><br><span class="line"><span class="comment">//      ws.end();</span></span><br><span class="line"><span class="comment">//  &#125;)</span></span><br><span class="line"><span class="comment">// ws.once(&quot;open&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;可写流打开了&quot;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// ws.once(&quot;close&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;可写流关闭了&quot;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">//  //如果要读取一个可读流中的数据，必须要为可读流绑定一个data事件，data事件绑定完毕，它会自动供开始读取数据</span></span><br><span class="line"><span class="comment">//  rs.on(&quot;data&quot;,function(data)&#123;</span></span><br><span class="line"><span class="comment">//      console.log(data)</span></span><br><span class="line"><span class="comment">//  &#125;)</span></span><br><span class="line"><span class="comment">//pipe()可以将可读流中的内容，直接输出到可写流中</span></span><br><span class="line"> rs.pipe(ws);</span><br></pre></td></tr></table></figure>

<h5 id="9-7其他"><a href="#9-7其他" class="headerlink" title="9.7其他"></a>9.7其他</h5><p>（1）fs.existsSync(path)</p>
<ul>
<li>检查一个文件是否存在</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isExists=fs.existsSync(<span class="string">&quot;a.mp3&quot;</span>)</span><br><span class="line"><span class="comment">// console.log(isExists)</span></span><br></pre></td></tr></table></figure>

<p>（2）fs.stat(path,callback)</p>
<p>fs.statSync(path)</p>
<ul>
<li>获取文件的状态</li>
<li>它会给我们返回一个对象，这个对象中保存了当前对象状态的相关信息</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.stat(<span class="string">&quot;hello3.txt&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,stat</span>)</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * size 文件的大小</span></span><br><span class="line"><span class="comment">     * isFile()是否是一个文件</span></span><br><span class="line"><span class="comment">     * isDirectory()是否是一个文件夹（目录）</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">console</span>.log(stat);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>（3）fs.unlink(path,callback)</p>
<p>  fs.unlinkSync(path)</p>
<ul>
<li>删除文件</li>
</ul>
<p>（4）fs.readdir(path[,options],callback)</p>
<p>  fs.readdirSync(path[,options])</p>
<ul>
<li>读取一个目录的目录结构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.readdir(<span class="string">&quot;.&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,files</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(files)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（5）fs.truncate(path,len,callback)</p>
<p> fs.truncateSync(path,len)</p>
<ul>
<li>截断文件，将文件修改为指定的大小</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.truncateSync(<span class="string">&quot;hello3.txt&quot;</span>,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>（6）fs.rename(oldPath,newPath,callback)</p>
<p> fs.renameSync(oldPath,newPath)</p>
<ul>
<li>对文件进行重命名</li>
<li>参数：oldPath 旧的路径；newPath 新的路径；callback 回调函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.rename(<span class="string">&quot;笔记.mp3&quot;</span>,<span class="string">&quot;xxx&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;修改成功--&quot;</span>)</span><br><span class="line">    &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>（7）fs.watchFile(filename[,options],listener)</p>
<p>-监视文件的修改</p>
<p> -参数：</p>
<ul>
<li><p>filename 要监视的文件的名字</p>
</li>
<li><p>options 配置选项</p>
</li>
<li><p>listener 回调函数，当文件发生变化时，回调函数会执行</p>
<p>在回调函数中会有两个参数：</p>
</li>
</ul>
<p> *curr 当前文件的状态</p>
<p> *  prev 修改前文件的状态</p>
<p> *  - 这两个对象都是stats对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.watchFile(<span class="string">&quot;hello2.txt&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">cur,prev</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;修改前文件大小：&quot;</span>+prev.size);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;修改后文件大小：&quot;</span>+cur.size)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Node.js</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>javaScript基础</title>
    <url>/2021/09/02/js%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h2 id="一、JS简介"><a href="#一、JS简介" class="headerlink" title="一、JS简介"></a>一、JS简介</h2><h4 id="1-JS的特点"><a href="#1-JS的特点" class="headerlink" title="1.JS的特点"></a>1.JS的特点</h4><ul>
<li>解释型语言</li>
<li>类似于C和Java的语法结构</li>
<li>动态语言</li>
<li>基于原型的面向对象</li>
</ul>
<h4 id="2-helloWorld"><a href="#2-helloWorld" class="headerlink" title="2.helloWorld"></a>2.helloWorld</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//控制浏览器弹出一个警告框</span></span><br><span class="line">alert(<span class="string">&quot;...&quot;</span>);</span><br><span class="line"><span class="comment">//让计算机在页面中输出一个内容</span></span><br><span class="line"><span class="built_in">document</span>.write()可以向body中输出一个内容</span><br><span class="line"><span class="comment">//向控制台输出一个内容</span></span><br><span class="line"><span class="built_in">console</span>.log()的作用是向控制台输出一个内容</span><br></pre></td></tr></table></figure>

<h4 id="3-JS编写位置"><a href="#3-JS编写位置" class="headerlink" title="3.JS编写位置"></a>3.JS编写位置</h4><p>（1）可以将js代码编写到外部js文件中，然后通过script标签引入，写到外部文件中可以在不同的页面中同时引用，也可以利用到浏览器的缓存机制推荐使用的方式</p>
<p>（2）script标签一旦用于引入外部文件了，就不能在编写代码了，即使编写了浏览器也会忽略，如果需要则可以在创建一个新的script标签用于编写内部代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;js/javascript&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<p>(3)可以将js代码编写到script标签</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">   alert(<span class="string">&quot;我是内部的JS代码&quot;</span>);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>(4)可以将js代码编写到标签的onclick属性中，当我们点击按钮时，js代码才会执行 虽然可以写在标签的属性中，但是他们属于结构与行为耦合，不方便维护，不推荐使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;button onclick=<span class="string">&quot;alert(&#x27;讨厌，你点我干嘛&#x27;);&quot;</span>&gt;点我一下&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<p>(5)可以将js代码写在超链接的href属性中，这样当点击超链接时，会执行js代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;javascript:alert(&#x27;让你点你就点！！&#x27;);&quot;</span>&gt;你也点我一下&lt;/a&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>你也点我一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="二、语法"><a href="#二、语法" class="headerlink" title="二、语法"></a>二、语法</h2><h4 id="1、JS注释"><a href="#1、JS注释" class="headerlink" title="1、JS注释"></a>1、JS注释</h4><p>（1）多行注释：/**/ 注释中的内容不会被执行，但是可以在源代码中查看，要养成良好的编写注释的习惯，也可以通过注释来对代码进行一些简单的调试</p>
<p>（2）单行注释：//</p>
<h4 id="2-语法"><a href="#2-语法" class="headerlink" title="2.语法"></a>2.语法</h4><p>（1）JS中严格区分大小写</p>
<p>（2）JS中每一条语句以分号（;）结尾</p>
<ul>
<li>如果不写分号，浏览器会自动添加，但是会消耗一些系统资源，而且有些时候，浏览器会加错分号，所以在开发中分号必须写</li>
</ul>
<p>（3）JS中会忽略多个空格和换行，所以我们可以利用空格和换行对代码进行格式化</p>
<h2 id="三、变量和字面量"><a href="#三、变量和字面量" class="headerlink" title="三、变量和字面量"></a>三、变量和字面量</h2><h4 id="1-字面量：都是一些不可改变的值"><a href="#1-字面量：都是一些不可改变的值" class="headerlink" title="1. 字面量：都是一些不可改变的值"></a>1. 字面量：都是一些不可改变的值</h4><ul>
<li>比如：1 2 3 4 5</li>
<li>字面量都是可以直接使用，但是我们一般都不会直接使用字面量</li>
</ul>
<h4 id="2-变量：变量可以用来保存字面量，而且变量的值时可以任意改变的"><a href="#2-变量：变量可以用来保存字面量，而且变量的值时可以任意改变的" class="headerlink" title="2. 变量：变量可以用来保存字面量，而且变量的值时可以任意改变的"></a>2. 变量：变量可以用来保存字面量，而且变量的值时可以任意改变的</h4><ul>
<li>变量更加方面我们使用，所以在开发中都是通过变量去保存一个字面量，而很少直接使用字面量</li>
<li>声明变量</li>
<li>在js中使用var关键字来声明一个变量</li>
<li>可以通过变量对字面量进行描述</li>
</ul>
<h2 id="四、标识符"><a href="#四、标识符" class="headerlink" title="四、标识符"></a>四、标识符</h2><h4 id="1-在JS中所有的可以由我们自主命名的都可以称为是标识符"><a href="#1-在JS中所有的可以由我们自主命名的都可以称为是标识符" class="headerlink" title="1. 在JS中所有的可以由我们自主命名的都可以称为是标识符"></a>1. 在JS中所有的可以由我们自主命名的都可以称为是标识符</h4><h4 id="2-例如：变量名、函数名、属性名都属于标识符"><a href="#2-例如：变量名、函数名、属性名都属于标识符" class="headerlink" title="2. 例如：变量名、函数名、属性名都属于标识符"></a>2. 例如：变量名、函数名、属性名都属于标识符</h4><h4 id="3-命名一个标识符时需要遵守如下的规则："><a href="#3-命名一个标识符时需要遵守如下的规则：" class="headerlink" title="3. 命名一个标识符时需要遵守如下的规则："></a>3. 命名一个标识符时需要遵守如下的规则：</h4><ul>
<li>标识符中可以含有字母、数字、——、$</li>
<li>标识符不能以数字开头</li>
<li>标识符不能是ES中的关键字或保留字</li>
<li>标识符一般都采用驼峰命名法 首字母小写，每个单词的开头字母大写，其余小写 例：helloWorld xxxYyyZzz</li>
</ul>
<h4 id="4-JS底层保存标识符时实际上是采用的Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符"><a href="#4-JS底层保存标识符时实际上是采用的Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符" class="headerlink" title="4. JS底层保存标识符时实际上是采用的Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符"></a>4. JS底层保存标识符时实际上是采用的Unicode编码，所以理论上讲，所有的utf-8中含有的内容都可以作为标识符</h4><h2 id="五、数据类型"><a href="#五、数据类型" class="headerlink" title="五、数据类型"></a>五、数据类型</h2><h4 id="1-数据类型指的是字面量的类型"><a href="#1-数据类型指的是字面量的类型" class="headerlink" title="1. 数据类型指的是字面量的类型"></a>1. 数据类型指的是字面量的类型</h4><h4 id="2-在JS中一共有六种数据类型"><a href="#2-在JS中一共有六种数据类型" class="headerlink" title="2. 在JS中一共有六种数据类型"></a>2. 在JS中一共有六种数据类型</h4><ul>
<li>string 字符串</li>
<li>Number 数值</li>
<li>Boolean 布尔值</li>
<li>Null 空值</li>
<li>Undefined 去定义</li>
<li>Object 对象</li>
<li>其中string NUmber Boolean Null Undefined属于基本数据类型，而Object属于引用数据类型</li>
</ul>
<h4 id="3-string字符串"><a href="#3-string字符串" class="headerlink" title="3. string字符串"></a>3. string字符串</h4><ul>
<li>在JS中农字符串需要使用引号引起来</li>
<li>使用双引号或单引号都可以，但是不要混着用</li>
<li>引号不能嵌套，双引号不能放过双引号，单引号不能放单引号</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;hello&quot;</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>在字符串中我们可以使用\作为转移字符，当表示一些特殊符号时可以使用\进行转义</li>
<li>\ “表示”</li>
<li>&#39;表示’</li>
<li>\n表示换行</li>
<li>\t表示制表符</li>
<li>\表示\</li>
</ul>
<h4 id="4-Number"><a href="#4-Number" class="headerlink" title="4. Number"></a>4. Number</h4><ul>
<li>在JS中所有的数值都是Number类型，包括整数和浮点数（小数）</li>
<li>可以使用一个运算符typeof来检查一个变量的类型 语法：typeof 变量 检查字符串时，会返回string;检查数值时，会返回number</li>
<li>JS中可以表示的数字的最大值 Number.MAX_VALUE(1.79176931348623157e+308)</li>
<li>如果使用Number表示的数字超过了最大值，则会返回一个Inifity表示正无穷，使用typeof检查Infinity也会返回Number</li>
<li>Innifity表示正无穷；-Innifity表示负无穷</li>
<li>NaN是一个特殊的数字，表示Not A Number，使用typeof检查一个NaN也会返回number</li>
<li>在JS中整数的运算基本可以保证精确</li>
<li>如果使用JS进行浮点元素，可能得到一个不精确的结果，所以千万不要使用JS进行对精确度要求比较高的运算</li>
</ul>
<h4 id="5-Boolean布尔值"><a href="#5-Boolean布尔值" class="headerlink" title="5. Boolean布尔值"></a>5. Boolean布尔值</h4><ul>
<li>布尔值只有两个，主要用来做逻辑判断</li>
<li>true表示真，false表示假</li>
<li>使用typeof检查一个布尔值时，会返回boolean</li>
</ul>
<h4 id="6-Null和Undefined"><a href="#6-Null和Undefined" class="headerlink" title="6. Null和Undefined"></a>6. Null和Undefined</h4><ul>
<li>Null类型的值只有一个，就是null</li>
<li>null这个值专门用来表示一个为空的对象，使用typeof检查一个null值时，会返回object</li>
<li>Undefined类型的值只有一个，就undefined</li>
<li>当声明一个变量，但是并不给变量赋值时，它的值就是undefined,使用typeof检查一个undefined值时，会返回undefined</li>
</ul>
<h4 id="7-强制类型转换"><a href="#7-强制类型转换" class="headerlink" title="7. 强制类型转换"></a>7. 强制类型转换</h4><ul>
<li>指将一个数据类型强制转换为其他的数据类型</li>
<li>类型转换主要指，将其他的数据类型，转换为string Number Boolean</li>
</ul>
<h4 id="8-将其他的数据类型转换为string"><a href="#8-将其他的数据类型转换为string" class="headerlink" title="8. 将其他的数据类型转换为string"></a>8. 将其他的数据类型转换为string</h4><p>（1）方式一：</p>
<ul>
<li>调用被转换数据类型的toString()方法</li>
<li>该方法不会影响到原变量，它会转换的结果返回</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//调用a的toString()方法</span></span><br><span class="line"><span class="comment">//调用XXX的yyy()方法，就是xxx.yyy()</span></span><br><span class="line">a.toString()</span><br></pre></td></tr></table></figure>

<ul>
<li>但是注意：null和undefined者两个值没有toStrong()方法，如果调用他们的方法，会报错</li>
</ul>
<p>（2）方式二：</p>
<ul>
<li>调用String()函数，并将被转换的数据作为参数传递给函数</li>
<li>使用String()函数做强制类型转换时，对于Number和Boolean实际上就是调用的toString()方法，但是对于null和undefined，就不会调用toString()方法，他会将null直接转换为”null”，将undefined直接转换为”undefined”</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a=<span class="built_in">String</span>(a);</span><br></pre></td></tr></table></figure>

<h4 id="9-将其他的数据类型转换为Number"><a href="#9-将其他的数据类型转换为Number" class="headerlink" title="9. 将其他的数据类型转换为Number"></a>9. 将其他的数据类型转换为Number</h4><p>（1）方式一：</p>
<ul>
<li>使用Number()函数</li>
<li>字符串—&gt;数字</li>
<li>如果是纯数字的字符串，则直接将其转换为数字</li>
<li>如果字符串中有非数字的内容，则转换为NaN</li>
<li>如果字符串是一个空串或者是一个全是空格的字符串，则转换为0</li>
<li>布尔–&gt;数字</li>
<li>true转成1；false转成0</li>
<li>null–&gt;数字 0</li>
<li>undefined–&gt;数字 数字NaN</li>
</ul>
<p>（2）方式二：</p>
<ul>
<li>这种方式专门用来对付字符串</li>
<li>parseInt()把一个字符串转换为一个整数</li>
<li>parseFloat()把一个字符串转换为一个浮点数</li>
<li>调用parseInt()函数将a转换为Number</li>
<li>parseFloat()作用和parseInt()类似，不同的是他可以获得有效的小数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//parseInt()可以将一个支付穿中的有效的整数内容取出来，然后转换为Number</span></span><br><span class="line">a=<span class="built_in">parseInt</span>(a);</span><br></pre></td></tr></table></figure>

<ul>
<li>如果对非String使用parseInt()或parseFloat()，它会将其转换为String然后再操作</li>
</ul>
<h4 id="10-其他进制的数字"><a href="#10-其他进制的数字" class="headerlink" title="10. 其他进制的数字"></a>10. 其他进制的数字</h4><ul>
<li>在js中，如果需要表示16进制的数字，则需要以0x开头</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a=<span class="number">0x10</span>;</span><br><span class="line">a=<span class="number">0xff</span>;</span><br><span class="line">a=<span class="number">0xcafe</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>如果需要表示8进制的数字，则需要以0开头</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a=070;</span><br></pre></td></tr></table></figure>

<ul>
<li>如果需要表示2进制的数字，则需要以0b开头（但不是所有的浏览器都支持，IE不支持）</li>
<li>像“070”这种字符串，有些浏览器会当成8进制解析，有些会当成10进制解析，可以在parseInt()中传递一个第二个参数，来指定数字的进制</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a=<span class="string">&quot;070&quot;</span>;</span><br><span class="line">a=<span class="built_in">parseInt</span>(a);</span><br><span class="line">a=<span class="built_in">parseInt</span>(a,<span class="number">10</span>);</span><br><span class="line">a=<span class="built_in">parseInt</span>(a,<span class="number">8</span>);</span><br></pre></td></tr></table></figure>

<h4 id="11-将其他的数据类型转换为Boolean"><a href="#11-将其他的数据类型转换为Boolean" class="headerlink" title="11. 将其他的数据类型转换为Boolean"></a>11. 将其他的数据类型转换为Boolean</h4><ul>
<li>使用Boolean()函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//调用Boolean()函数来将a转换为布尔值</span></span><br><span class="line">a=<span class="built_in">Boolean</span>(a);</span><br></pre></td></tr></table></figure>

<ul>
<li>数字–&gt;布尔</li>
<li>除了0和NaN，其余的都是true</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">123</span>;<span class="comment">//true</span></span><br><span class="line">a=-<span class="number">123</span>;<span class="comment">//true</span></span><br><span class="line">a=<span class="number">0</span>;<span class="comment">//false</span></span><br><span class="line">a=Inifity;<span class="comment">//true</span></span><br><span class="line">a=<span class="literal">NaN</span>;<span class="comment">//fasle</span></span><br></pre></td></tr></table></figure>

<ul>
<li>字符串–&gt;布尔</li>
<li>除了空串，其余的都是true</li>
<li>null和undefined都会转换为false</li>
<li>对象也会转换为true</li>
</ul>
<h2 id="六、运算符"><a href="#六、运算符" class="headerlink" title="六、运算符"></a>六、运算符</h2><h4 id="1-运算符也叫操作符"><a href="#1-运算符也叫操作符" class="headerlink" title="1.运算符也叫操作符"></a>1.运算符也叫操作符</h4><p>（1）通过运算符可以对一个或多个值进行运算，并获取运算结果 （2）比如：typeof就是运算符，可以来获得一个值的类型，它会将该值的类型以字符串的形式返回 number string boolean undefined object</p>
<h4 id="2-算数运算符"><a href="#2-算数运算符" class="headerlink" title="2.算数运算符"></a>2.算数运算符</h4><p>（1）当对于非Number类型的值进行运算时，会将这些值转换为Number然后再运算 </p>
<p>（2）任何值和NaN做运算都得NaN </p>
<p>（3）任何值做- * /运算时都会自动转换为Number</p>
<ul>
<li>我们可以利用者以特点做隐式的类型转换</li>
<li>可以通过为一个值-0 *1 /1来将其转换为Number</li>
<li>原理和Number()函数一样，使用起来更加简单</li>
</ul>
<h5 id><a href="#" class="headerlink" title="+"></a>+</h5><p>（1）可以对两个值进行加法运算，并将结果返回 </p>
<p>（2）如果对两个字符串进行加法运算，则会做拼串；会将两个字符串拼接为一个字符串，并返回任何的值和字符串做加法运算，都会先转换为字符串，然后再和字符串做拼串的操作 </p>
<p>（3）任何值和字符串相加都会转换为字符串，并做拼串操作 </p>
<p>（4）我们可以利用这一特点，来将一个任意的数据类型转换为String，我们只需要为任意的数据类型+一个””即可将其转换为String，这是一种隐式的类型转换，由浏览器自动完成，实际上它也是调用String()函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">result=<span class="number">1</span>+<span class="number">2</span>+<span class="string">&#x27;3&#x27;</span>;<span class="comment">//33</span></span><br><span class="line">result=<span class="string">&quot;1&quot;</span>+<span class="number">2</span>+<span class="number">3</span>;<span class="comment">//123</span></span><br></pre></td></tr></table></figure>

<h5 id="-1"><a href="#-1" class="headerlink" title="-"></a>-</h5><p>（1）可以对两个值进行减法运算，并将结果返回</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">result=<span class="number">100</span>-<span class="literal">true</span>;<span class="comment">//99</span></span><br><span class="line">result=<span class="number">100</span>-<span class="string">&quot;1&quot;</span>;<span class="comment">//99</span></span><br></pre></td></tr></table></figure>

<h5 id="-2"><a href="#-2" class="headerlink" title="*"></a>*</h5><p>可以对两个值进行乘法运算</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">result=<span class="number">2</span>*<span class="number">2</span>;<span class="comment">//4</span></span><br><span class="line">result=<span class="number">2</span>*<span class="string">&quot;8&quot;</span><span class="comment">//16</span></span><br><span class="line">result=<span class="number">2</span>*<span class="literal">undefined</span>;<span class="comment">//NaN</span></span><br><span class="line">result=<span class="number">2</span>*<span class="literal">null</span>;<span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<h5 id="-3"><a href="#-3" class="headerlink" title="/"></a>/</h5><p>可以对两个值进行除法运算</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">result=<span class="number">4</span>/<span class="number">2</span>;<span class="comment">//2</span></span><br><span class="line">result=<span class="number">3</span>/<span class="number">2</span>;<span class="comment">//1.5</span></span><br></pre></td></tr></table></figure>

<h5 id="-4"><a href="#-4" class="headerlink" title="%"></a>%</h5><p>取模运算（取余数）</p>
<h4 id="3-一元运算符（只需要一个操作数）"><a href="#3-一元运算符（只需要一个操作数）" class="headerlink" title="3.一元运算符（只需要一个操作数）"></a>3.一元运算符（只需要一个操作数）</h4><p>（1）+ 正号：不会对数字产生任何影响 </p>
<p>（2）- 负号：可以对数字进行负号的取反 </p>
<p>（3）对于非Number类型的值，它会将先转换为Number，然后再运算。可以对一个其他的数据类型使用+，来将其转换为Number,它的原理和Number()函数一样</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">123</span>;</span><br><span class="line">a+=a;<span class="comment">//123</span></span><br><span class="line"></span><br><span class="line">result=<span class="number">1</span>+ +<span class="string">&quot;2&quot;</span>+<span class="number">3</span>;<span class="comment">//6</span></span><br></pre></td></tr></table></figure>

<h4 id="4-自增和自减"><a href="#4-自增和自减" class="headerlink" title="4.自增和自减"></a>4.自增和自减</h4><h5 id="自增"><a href="#自增" class="headerlink" title="自增"></a>自增</h5><p>（1）通过自增可以是变量在自身的基础上增加1 </p>
<p>（2）对于一个变量自增以后，原变量的值会立即自增1 </p>
<p>（3）自增分成两种：后++（a++）和前++（a）</p>
<p> （4）无论是a还是a，都会立即使原变量的值自增1 </p>
<p>（5）不同的是a和++a的值不同</p>
<ul>
<li>a++的值等于原变量的值（自增前的值）</li>
<li>++a的值等于原变量新值（自增后的值）</li>
</ul>
<h5 id="自减"><a href="#自减" class="headerlink" title="自减"></a>自减</h5><p>（1）通过自减可以是变量在自身的基础上减1 </p>
<p>（2）自减分成两种：后–（a–）和前–（–a） </p>
<p>（3）无论是a–还是–a，都会立即使原变量的值自减1</p>
<p> （4）不同的是a–和–a的值不同</p>
<ul>
<li>a–的值等于原变量的值（自减前的值）</li>
<li>–a的值等于原变量新值（自减后的值）</li>
</ul>
<h4 id="5-逻辑运算符"><a href="#5-逻辑运算符" class="headerlink" title="5.逻辑运算符"></a>5.逻辑运算符</h4><p>JS中为我们提供了三种逻辑运算符</p>
<h5 id="！非"><a href="#！非" class="headerlink" title="！非"></a>！非</h5><p>（1）！可以用来对一个值进行非运算 </p>
<p>（2）所谓非运算就是值对一个布尔值进行取反操作，true边false,false边true </p>
<p>（3）如果对一个值进行两次取反，他不会变化 </p>
<p>（4）如果对非布尔值进行运算，则会将其转换为布尔值，然后再取反。所以我们可以利用该特点，来将一个其他的数据类型转换为布尔值，可以为一个任意数据类型取两次反，来将其转换为布尔值，原理和Boolean()函数一样</p>
<h5 id="amp-amp-与"><a href="#amp-amp-与" class="headerlink" title="&amp;&amp; 与"></a>&amp;&amp; 与</h5><p>（1）&amp;&amp;可以对符号两侧的值进行与运算并返回结果 </p>
<p>（2）运算规则</p>
<ul>
<li>两个值中只要有一个值为false就返回false，只有两个值都为true时，才会返回true</li>
<li>JS中的“与”属于短路的与，如果第一个值为false，则不会看第二个值</li>
</ul>
<h5 id="与"><a href="#与" class="headerlink" title="|| 与"></a>|| 与</h5><p>（1）||可以对符号两侧的值进行或运算并返回结果 </p>
<p>（2）运算规则：</p>
<ul>
<li>两个值中只要有一个true,就返回true,如果两个值都为false，才返回false</li>
<li>JS中的“或”属于短路的或，如果第一个值为true,则不会检查第二个值</li>
</ul>
<h5 id="amp-amp-非布尔值的情况"><a href="#amp-amp-非布尔值的情况" class="headerlink" title="&amp;&amp; || 非布尔值的情况"></a>&amp;&amp; || 非布尔值的情况</h5><p>（1）对于非布尔值进行与或运算时，会先将其转换为布尔值，然后再运算，并且返回原值 </p>
<p>（2）与运算：如果两个值为true，则返回后边的 如果两个值中有false,则返回靠前的false</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//true&amp;&amp;true</span></span><br><span class="line"><span class="keyword">var</span> result=<span class="number">5</span>&amp;&amp;<span class="number">6</span>;<span class="comment">//6</span></span><br><span class="line"><span class="comment">//false&amp;&amp;true</span></span><br><span class="line">result=<span class="number">0</span>&amp;&amp;<span class="number">2</span>;<span class="comment">//0</span></span><br><span class="line">result=<span class="number">2</span>&amp;&amp;<span class="number">0</span>;<span class="comment">//0</span></span><br><span class="line"><span class="comment">//false&amp;&amp;false</span></span><br><span class="line">result=<span class="literal">NaN</span>&amp;&amp;<span class="number">0</span>;<span class="comment">//NaN</span></span><br><span class="line">result=<span class="number">0</span>&amp;&amp;<span class="literal">NaN</span>;<span class="comment">//0</span></span><br></pre></td></tr></table></figure>

<p>（3）或运算：如果第一个值为true,则直接返回第一个值 如果第一个值为false，则直接返回第二个值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span>||<span class="number">1</span>  <span class="number">2</span></span><br><span class="line"><span class="number">2</span>||<span class="literal">NaN</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span>||<span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="literal">NaN</span>||<span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="literal">NaN</span>||<span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h4 id="6-赋值运算符"><a href="#6-赋值运算符" class="headerlink" title="6.赋值运算符"></a>6.赋值运算符</h4><p>= 可以将符号右侧的值赋值给符号左侧的变量 += a+=5等价于a=a+5 …</p>
<h4 id="7-关系运算符"><a href="#7-关系运算符" class="headerlink" title="7.关系运算符"></a>7.关系运算符</h4><p>通过关系运算符可以比较两个值之间的大小关系，如果关系成立它会返回true，如果关系不成立李泽返回false</p>
<h5 id="gt-大于号"><a href="#gt-大于号" class="headerlink" title="&gt; 大于号"></a>&gt; 大于号</h5><ul>
<li>判断符号左侧的值是否大于右侧的</li>
<li>如果关系成立，返回true,如果关系不成立则返回false</li>
</ul>
<h5 id="gt-大于等于"><a href="#gt-大于等于" class="headerlink" title="&gt;= 大于等于"></a>&gt;= 大于等于</h5><ul>
<li>判断符号左侧的值是否大于或等于右侧的值</li>
</ul>
<h5 id="lt-小于号"><a href="#lt-小于号" class="headerlink" title="&lt;小于号"></a>&lt;小于号</h5><h5 id="lt-小于等于"><a href="#lt-小于等于" class="headerlink" title="&lt;=小于等于"></a>&lt;=小于等于</h5><h5 id="非数值的情况"><a href="#非数值的情况" class="headerlink" title="非数值的情况"></a>非数值的情况</h5><p>（1）对于非数值进行比较时，会将其转换为数字然后再比较 </p>
<p>（2）如果符号两侧的值都是字符串时，不会将其转换为数字进行比较，而会分别比较字符串中字符的Unicode编码 </p>
<p>（3）任何值和NaN做任何比较都是false </p>
<p>（4）比较字符编码时是一位一位进行比较，如果两位一样，则比较下一位，所以借用它来对英文进行排序，比较中文时没有意义</p>
<p> （5）如果比较的两个字符串型的数字，可能会得到不可预期的结果 </p>
<p>（6）注意：在比较两个字符串型的数字时，一定一定一定要转型</p>
<h4 id="8-相等运算符"><a href="#8-相等运算符" class="headerlink" title="8.相等运算符"></a>8.相等运算符</h4><p>相等运算符用来比较两个值是否相等，如果相等会返回true，否则返回false </p>
<p>（1）使用来做相等运算 当使用来比较两个值时，如果值的类型不同，则会自动进行类型转换，将其转换为相同的类型，然后再比较 undefined衍生自null，所以这两个值做相等判断时，会返回true NaN不和任何值相等，包括它本身 可以通过isNaN()函数来判断一个值是否是NaN</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;1&quot;</span>==<span class="number">1</span>;<span class="comment">//true</span></span><br><span class="line"><span class="literal">true</span>==<span class="number">1</span>;<span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span>==<span class="number">0</span>;<span class="comment">//false</span></span><br><span class="line"><span class="literal">undefined</span>==<span class="literal">null</span>;<span class="comment">//true</span></span><br><span class="line"><span class="literal">NaN</span>==<span class="literal">NaN</span>;<span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(b)</span><br></pre></td></tr></table></figure>

<h4 id="9-不相等"><a href="#9-不相等" class="headerlink" title="9.不相等"></a>9.不相等</h4><p>不相等用来判断两个值是否不相等，如果不相等返回true,否则返回false</p>
<ul>
<li>使用！=来做不相等运算</li>
<li>不相等也会对变量进行自动的类型转换，如果转化后相等它也会返回false</li>
</ul>
<h4 id="10-全等"><a href="#10-全等" class="headerlink" title="10.=== 全等"></a>10.=== 全等</h4><p>用来判断两个值是否全等，他和相等类似，不同的是它不会做自动的类型转换，如果两个值的类型不同，直接返回false</p>
<h4 id="11-不全等"><a href="#11-不全等" class="headerlink" title="11.!==不全等"></a>11.!==不全等</h4><p>用来判断两个值是否不全等，和不等类似，不同的是它不会做自动的类型转换，如果两个值的类型不同，直接返回true</p>
<h4 id="12-条件运算符（也叫三元运算符）"><a href="#12-条件运算符（也叫三元运算符）" class="headerlink" title="12.条件运算符（也叫三元运算符）"></a>12.条件运算符（也叫三元运算符）</h4><p>（1）语法：条件表达式？语句1：语句2 </p>
<p>（2）执行的流程： 条件运算符在执行时，首先对条件表达式进行求值，如果该值为true，则执行语句1，并返回结果；如果该值为false，则执行语句2，并返回执行结果 </p>
<p>（3）如果条件的表达式的求值结果是一个非布尔值，会将其转换为布尔值然后再运算</p>
<h4 id="13-运算符的优先级"><a href="#13-运算符的优先级" class="headerlink" title="13.运算符的优先级"></a>13.运算符的优先级</h4><p>（1）使用，（逗号）可以分割多个语句，一般可以在声明多个变量时使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//可以同时声明多个变量并赋值</span></span><br><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>（2）就和数学中一样，在JS中运算符也有优先级，比如：先乘除后加减 （3）在JS中有一个运算符优先级的表，在表中越靠上优先级越高</p>
<h2 id="七、代码块"><a href="#七、代码块" class="headerlink" title="七、代码块"></a>七、代码块</h2><p>（1）我们的程序是由一条一条语句构成的，语句是按照自上向下的书序一条一条执行的，在JS中可以使用{}来为语句进行分组 </p>
<p>（2）{}中的语句我们称为是一组语句，他们要么都执行，要么都不执行，一个{}中的语句我们也称为一个代码块 （3）在代码块的后边就不用编写;了 </p>
<p>（4）JS中的代码块，只具有分组的作用，没有其他的用途 （5）代码块内容的内容，在外部是完全可见的</p>
<h2 id="八、流程控制语句"><a href="#八、流程控制语句" class="headerlink" title="八、流程控制语句"></a>八、流程控制语句</h2><p>（1）在JS中的程序时从上到下一行一行执行的 </p>
<p>（2）通过流程控制语句可以控制程序执行流程，使程序可以控制程序执行流程，是程序可以根据一定的条件来选择执行 </p>
<p>（3）语句的分类：</p>
<ul>
<li>条件判断语句</li>
<li>条件分支语句</li>
<li>循环语句</li>
</ul>
<h4 id="1-条件判断语句"><a href="#1-条件判断语句" class="headerlink" title="1.条件判断语句"></a>1.条件判断语句</h4><p>（1）使用条件判断语句可以在执行某个语句之前进行判断，如果条件成立才会执行语句，条件不成立则语句不执行 </p>
<p>（2）if语句</p>
<ul>
<li>语法一：</li>
<li>if（条件表达式）{语句…}</li>
<li>if语句在执行时，会先对条件表达式进行求职判断，如果条件表达式的值为true，在执行if后的语句，如果条件表达式的值为false，则不会执行if后的语句</li>
<li>if语句只能呢过控制紧随其后的那个语句，如果希望if语句可以控制多条语句，可以将这些语句统一放到代码块中</li>
<li>if语句后的代码块不是必须的，但是在开发中尽量写</li>
<li>语法二：</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式)&#123;</span><br><span class="line">    语句...</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    语句...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>if…else…语句：当该语句执行时，会先对if后的条件表达式进行求职判断，如果该值为true,则执行if后的语句;如果该值为false，则执行else后的语句</li>
<li>语法三：</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式)&#123;</span><br><span class="line">    语句...</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>()条件表达式&#123;</span><br><span class="line">    语句...</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    语句...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>if…else if …else：当该语句执行时，会从上到下一次对条件表达式进行求值判断</li>
<li>如果值为true，则执行当前语句</li>
<li>如果值为false,则继续向下判断</li>
</ul>
<h4 id="2-条件分支语句也叫switch语句"><a href="#2-条件分支语句也叫switch语句" class="headerlink" title="2.条件分支语句也叫switch语句"></a>2.条件分支语句也叫switch语句</h4><p>（1）语法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>(条件表达式)&#123;</span><br><span class="line">    <span class="keyword">case</span> 表达式：</span><br><span class="line">        语句...</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> 表达式:</span><br><span class="line">        语句...</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        语句...</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）执行流程： swicth…case..语句：在执行时会一次将case后的表达式的值和switch后的条件表达式的值进行全等比较，如果比较结果为true,则从当前case处开始执行代码。如果比较结果为false，则继续向下比较；如果所有的比较结果都为False.则只执行default后的语句 </p>
<p>（3）switch语句和if语句的功能实际上有重复的，使用switch可以实现if的功能，同样使用if也可以实现switch的功能 </p>
<h4 id="3-while循环"><a href="#3-while循环" class="headerlink" title="3.while循环"></a>3.while循环</h4><p>1.循环语句：通过循环语句可以发安抚的执行的一段代码多次</p>
<p>2.while循环语法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(条件表达式)&#123;</span><br><span class="line">	语句...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.while语句在执行时，先对条件表达式进行求值判断，如果值为true，则执行循环体，循环体执行完毕以后，继续对表达式进行判断，如果为true，则继续执行循环体，以此类推；如果为false，则终止循环</p>
<p>4.像这种将条件表达式写死为true的循环，叫死循环</p>
<p>该循环不会停止，除非浏览器关闭，死循环在开发中慎用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    alert(n++);</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">10</span>)&#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.do…while循环语法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    语句...</span><br><span class="line">&#125;<span class="keyword">while</span>(条件)</span><br></pre></td></tr></table></figure>

<p>6.do…while语句在执行时，会先执行循环体，循环体执行完毕以后，在对while后的条件表达式进行判断，如果结果为true,则继续执行循环体，执行完毕继续判断以此类推，如果结果为false，则终止循环</p>
<p>7.实际上这两个语句功能类似，不同的是while是先判断后执行，而do…while会先执行后判断。do…while可以保证循环体至少执行一次，而while不能</p>
<h2 id="九、对象"><a href="#九、对象" class="headerlink" title="九、对象"></a>九、对象</h2><p>对象是JS中的引用数据类型<br><strong>对象是一种复合数据类型，在对象中可以保存多个不同数据类型的属性</strong><br>使用typeof检查一个对象时，会返回object</p>
<h4 id="1-对象的分类"><a href="#1-对象的分类" class="headerlink" title="1.对象的分类"></a>1.对象的分类</h4><p>（1）内建对象<br>- 由ES标准中定义的对象，在任何的ES的实现中都可以使用<br>- 比如：Math String Number Boolean Function Object….</p>
<p>（2）宿主对象<br>- 由JS的运行环境提供的对象，目前来讲主要指由浏览器提供的对象<br>- 比如 BOM DOM</p>
<p>（3）自定义对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">- 由开发人员自己创建的对象  </span><br></pre></td></tr></table></figure>

<p>创建对象<br>方式一：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = new Object();  </span><br></pre></td></tr></table></figure>

<p>方式二：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = &#123;&#125;; </span><br></pre></td></tr></table></figure>

<p><strong>向对象中添加属性</strong><br>语法：<br>对象.属性名 = 属性值;<br><strong>对象[“属性名”] = 属性值;</strong> //这种方式能够使用特殊的属性名</p>
<p><strong>对象的属性名没有任何要求，不需要遵守标识符的规范，但是在开发中，尽量按照标识符的要求去写。</strong><br>属性值也可以任意的数据类型。</p>
<p>读取对象中的属性<br>语法：<br>对象.属性名<br>对象[“属性名”] //“属性名”可以使字符串常量，也可以是字符串变量<br>如果读取一个对象中没有的属性，它不会报错，而是返回一个undefined</p>
<p><strong>删除对象中的属性</strong><br>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delete 对象.属性名  </span><br><span class="line">delete 对象[&quot;属性名&quot;]  </span><br></pre></td></tr></table></figure>

<h4 id="2-遍历"><a href="#2-遍历" class="headerlink" title="2.遍历"></a>2.遍历</h4><p><strong>使用in检查对象中是否含有指定属性</strong><br>语法：”属性名” in 对象<br>如果在对象中含有该属性，则返回true<br>如果没有则返回false</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  循环遍历对象自身的和继承的可枚举属性(不含Symbol属性).  </span><br><span class="line">var obj = &#123;&#x27;0&#x27;:&#x27;a&#x27;,&#x27;1&#x27;:&#x27;b&#x27;,&#x27;2&#x27;:&#x27;c&#x27;&#125;;  </span><br><span class="line">  </span><br><span class="line">for(var i in obj) &#123;  </span><br><span class="line">     console.log(i,&quot;:&quot;,obj[i]);  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p><strong>使用对象字面量，在创建对象时直接向对象中添加属性</strong><br>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var obj = &#123;  </span><br><span class="line">    属性名:属性值,  </span><br><span class="line">    属性名:属性值,  </span><br><span class="line">    属性名:属性值,  </span><br><span class="line">    属性名:属性值  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>基本数据类型和引用数据类型<br>基本数据类型<br>String Number Boolean Null Undefined<br>引用数据类型<br>Object<br><strong>基本数据类型的数据，变量是直接保存的它的值。</strong><br>变量与变量之间是互相独立的，修改一个变量不会影响其他的变量。<br><strong>引用数据类型的数据，变量是保存的对象的引用（内存地址）。</strong><br>如果多个变量指向的是同一个对象，此时修改一个变量的属性，会影响其他的变量。<br>比较两个变量时，对于基本数据类型，比较的就是值，<br>对于引用数据类型比较的是地址，地址相同才相同</p>
<h4 id="3-函数"><a href="#3-函数" class="headerlink" title="3.函数"></a>3.函数</h4><p><strong>函数也是一个对象，也具有普通对象的功能（能有属性）</strong><br>函数中可以封装一些代码，在需要的时候可以去调用函数来执行这些代码<br>使用typeof检查一个函数时会返回function<br>创建函数<br>函数声明</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function 函数名([形参1,形参2...形参N])&#123;  </span><br><span class="line">语句...  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>函数表达式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var 函数名 = function([形参1,形参2...形参N])&#123;  </span><br><span class="line">语句...  </span><br><span class="line">&#125;;  </span><br></pre></td></tr></table></figure>

<p>调用函数<br>语法：函数对象([实参1,实参2…实参N]);<br>fun() sum() alert() Number() parseInt()<br>当我们调用函数时，函数中封装的代码会按照编写的顺序执行</p>
<p><strong>立即执行函数</strong><br>函数定义完，立即被调用，这种函数叫做立即执行函数<br>立即执行函数往往只会执行一次</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(function(a,b)&#123;  </span><br><span class="line">    console.log(&quot;a = &quot;+a);  </span><br><span class="line">    console.log(&quot;b = &quot;+b);  </span><br><span class="line">&#125;)(123,456); </span><br></pre></td></tr></table></figure>

<p>遍历对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for(var v in obj)&#123;  </span><br><span class="line">    document.write(&quot;property：name =&quot;+v+&quot;value=&quot;+obj[v]+&quot;&lt;br/&gt;&quot; );  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>形参和实参<br>形参：形式参数<br>定义函数时，可以在()中定义一个或多个形参，形参之间使用,隔开<br>定义形参就相当于在函数内声明了对应的变量但是并不赋值，<br>形参会在调用时才赋值。</p>
<p>实参：实际参数<br>调用函数时，可以在()传递实参，传递的实参会赋值给对应的形参,<br>调用函数时JS解析器不会检查实参的类型和个数，可以传递任意数据类型的值。<br><strong>如果实参的数量大于形参，多余实参将不会赋值，</strong><br><strong>如果实参的数量小于形参，则没有对应实参的形参将会赋值undefined</strong></p>
<p><strong>返回值，就是函数执行的结果。</strong><br>使用return 来设置函数的返回值。<br>语法：return 值;<br>该值就会成为函数的返回值，可以通过一个变量来接收返回值<br>return后边的代码都不会执行，一旦执行到return语句时，函数将会立刻退出。<br>return后可以跟任意类型的值，可以是基本数据类型，也可以是一个对象。<br><strong>如果return后不跟值，或者是不写return则函数默认返回undefined。</strong><br>break、continue和return<br>break<br>退出循环<br>continue<br>跳过当次循环<br>return<br>退出函数</p>
<p><strong>参数，函数的实参也可以是任意的数据类型。</strong></p>
<p><strong>方法（method）</strong><br>可以将一个函数设置为一个对象的属性，<br>当一个对象的属性是一个函数时，<br>我们称这个函数是该对象的方法。<br>对象.方法名();<br>函数名()</p>
<h4 id="4-函数的属性和方法"><a href="#4-函数的属性和方法" class="headerlink" title="4.函数的属性和方法"></a>4.函数的属性和方法</h4><p>call()<br>apply()<br><strong>这两个方法都是函数对象的方法需要通过函数对象来调用</strong><br>通过两个方法可以直接调用函数，并且<strong>可以通过第一个实参来指定函数中this</strong><br>不同的是call是直接传递函数的实参而apply需要将实参封装到一个数组中传递<br><strong>arguments</strong><br>arguments和this类似，都是函数中的隐含的参数<br>arguments是一个类数组元素，它用来封装函数执行过程中的实参<br>所以即使不定义形参，也可以通过arguments来使用实参<br><strong>arguments中有一个属性callee表示当前执行的函数对象</strong></p>
<p>this（调用函数的那个对象）<br>this是函数的上下文对象，根据函数的调用方式不同会执向不同的对象<br>1.以函数的形式调用时，this是window<br>2.以方法的形式调用时，this是调用方法的对象<br>3.以构造函数的形式调用时，this是新建的那个对象<br>4.使用call和apply调用时，this是指定的那个对象<br>5.在全局作用域中this代表window</p>
<h4 id="5-作用域"><a href="#5-作用域" class="headerlink" title="5.作用域"></a>5.作用域</h4><p>作用域简单来说就是一个变量的作用范围。<br>在JS中作用域分成两种：</p>
<h6 id="1-全局作用域"><a href="#1-全局作用域" class="headerlink" title="1.全局作用域"></a>1.全局作用域</h6><p>直接在script标签中编写的代码都运行在全局作用域中<br><strong>全局作用域在打开页面时创建，在页面关闭时销毁。</strong><br>全局作用域中有一个全局对象window，window对象由浏览器提供，<br>可以在页面中直接使用，它代表的是整个的浏览器的窗口。<br><strong>在全局作用域中创建的变量都会作为window对象的属性保存</strong><br>在全局作用域中创建的函数都会作为window对象的方法保存<br>在全局作用域中创建的变量和函数可以在页面的任意位置访问。<br>在函数作用域中也可以访问到全局作用域的变量。<br>尽量不要在全局中创建变量</p>
<h6 id="2-函数作用域"><a href="#2-函数作用域" class="headerlink" title="2.函数作用域"></a>2.函数作用域</h6><p>函数作用域是函数执行时创建的作用域，每次调用函数都会创建一个新的函数作用域。<br>函数作用域在函数执行时创建，在函数执行结束时销毁。<br>在函数作用域中创建的变量，不能在全局中访问。<br>当在函数作用域中使用一个变量时，它会先在自身作用域中寻找，<br>如果找到了则直接使用，如果没有找到则到上一级作用域中寻找，<br>如果找到了则使用，找不到则继续向上找，一直会</p>
<p><strong>变量的声明提前</strong><br>在全局作用域中，使用<strong>var关键字声明的变量会在所有的代码执行之前被声明，但是不会赋值。</strong><br>所以我们可以在变量声明前使用变量。但是不使用var关键字声明的变量不会被声明提前。<br>在函数作用域中，也具有该特性，使用var关键字声明的变量会在函数所有的代码执行前被声明，<br>如果没有使用var关键字声明变量，则变量会变成全局变量</p>
<p><strong>函数的声明提前</strong><br>在全局作用域中，使用<strong>函数声明创建的函数（function fun(){}）,会在所有的代码执行之前被创建</strong>，<br>也就是我们可以在函数声明前去调用函数，但是使用函数表达式(var fun = function(){})创建的函数没有该特性<br>在函数作用域中，使用函数声明创建的函数，会在所有的函数中的代码执行之前就被创建好了。</p>
<h4 id="6-this-上下文对象"><a href="#6-this-上下文对象" class="headerlink" title="6.this(上下文对象)"></a>6.this(上下文对象)</h4><p>我们每次调用函数时，解析器都会将一个上下文对象作为隐含的参数传递进函数。<br>使用this来引用上下文对象，根据函数的调用形式不同，this的值也不同。</p>
<p>指向当前对象</p>
<p>this的不同的情况：<br>1.以函数的形式调用时，this是window<br>2.以方法的形式调用时，this就是调用方法的对象<br>3.以构造函数的形式调用时，this就是新创建的对象</p>
<h4 id="7-构造函数"><a href="#7-构造函数" class="headerlink" title="7.构造函数"></a>7.构造函数</h4><p>构造函数是专门用来创建对象的函数<br><strong>一个构造函数我们也可以称为一个类</strong><br>通过一个构造函数创建的对象，我们称该对象时这个构造函数的实例<br>通过同一个构造函数创建的对象，我们称为一类对象<br>构造函数就是一个普通的函数，只是他的调用方式不同，<br>如果直接调用，它就是一个普通函数<br>如果使用new来调用，则它就是一个构造函数</p>
<p>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function Person(name , age , gender)&#123;  </span><br><span class="line">    this.name = name;  </span><br><span class="line">    this.age = age;  </span><br><span class="line">    this.gender = gender;  </span><br><span class="line">    this.sayName = function()&#123;  </span><br><span class="line">        alert(this.name);  </span><br><span class="line">    &#125;;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>构造函数的执行流程：<br>1.创建一个新的对象<br>2.将新的对象作为函数的上下文对象（this）<br>3.执行函数中的代码<br>4.将新建的对象返回</p>
<p><strong>instanceof 用来检查一个对象是否是一个类的实例</strong><br>语法：对象 instanceof 构造函数<br>如果该对象时构造函数的实例，则返回true，否则返回false<br><strong>Object是所有对象的祖先，所以任何对象和Object做instanceof都会返回true</strong></p>
<p>枚举对象中的属性<br>for…in<br>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for(var 属性名 in 对象)&#123;  </span><br><span class="line">  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>for…in语句的循环体会执行多次，对象中有几个属性就会执行几次，<br>每次讲一个属性名赋值给我们定义的变量，我们可以通过它来获取对象中的属性</p>
<h4 id="8-原型（prototype）"><a href="#8-原型（prototype）" class="headerlink" title="8.原型（prototype）"></a>8.原型（prototype）</h4><p>创建一个函数以后，<strong>解析器都会默认在函数中添加一个数prototype</strong><br>prototype属性指向的是一个对象，这个对象我们称为原型对象。<br>当函数作为构造函数使用，<strong>它所创建的对象中都会有一个隐含的属性执行该原型对象。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">这个隐含的属性可以通过对象.__proto__来访问。  </span><br></pre></td></tr></table></figure>

<p><strong>原型对象就相当于一个公共的区域，凡是通过同一个构造函数创建的对象他们通常都可以访问到相同的原型对象。</strong><br>我们可以将对象中共有的属性和方法统一添加到原型对象中，<br>这样我们只需要添加一次，就可以使所有的对象都可以使用。<br>当我们去访问对象的一个属性或调用对象的一个方法时，它会先自身中寻找，<br>如果在自身中找到了，则直接使用。<br>如果没有找到，则去原型对象中寻找，如果找到了则使用，<br><strong>如果没有找到，则去原型的原型中寻找，依此类推。直到找到Object的原型为止，Object的原型的原型为null，如果依然没有找到则返回undefinedhasOwnProperty()这个方法可以用来检查对象自身中</strong>是否含有某个属性<br>语法：对象.hasOwnProperty(“属性名”)</p>
<h4 id="9-toString方法"><a href="#9-toString方法" class="headerlink" title="9.toString方法"></a>9.toString方法</h4><p>当我们直接在页面中打印一个对象时，事件上是输出的对象的toString()方法的返回值</p>
<p>如果我们希望在输出对象时不输出[object Object]，可以为对象添加一个toString()方法</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//修改Person原型的toString  </span><br><span class="line">Person.prototype.toString = function()&#123;  </span><br><span class="line">	return &quot;Person[name=&quot;+this.name+&quot;,age=&quot;+this.age+&quot;,gender=&quot;+this.gender+&quot;]&quot;;  </span><br><span class="line">&#125;;  </span><br></pre></td></tr></table></figure>

<h4 id="10-垃圾回收（PC）"><a href="#10-垃圾回收（PC）" class="headerlink" title="10.垃圾回收（PC）"></a>10.垃圾回收（PC）</h4><p>就像人生活的时间长了会产生垃圾一样，程序运行过程中也会产生垃圾<br>这些垃圾积攒过多以后，会导致程序运行的速度过慢，<br>所以我们需要一个垃圾回收的机制，来处理程序运行过程中产生垃圾<br>当一个对象没有任何的变量或属性对它进行引用，此时我们将永远无法操作该对象，<br>此时这种对象就是一个垃圾，这种对象过多会占用大量的内存空间，导致程序运行变慢，<br>所以这种垃圾必须进行清理。<br>在JS中拥有自动的垃圾回收机制，会自动将这些垃圾对象从内存中销毁，<br>我们不需要也不能进行垃圾回收的操作<br>我们需要做的只是要将不再使用的对象设置null即可</p>
<h2 id="十、数组"><a href="#十、数组" class="headerlink" title="十、数组"></a>十、数组</h2><p>数组也是一个对象，是一个用来存储数据的对象和Object类似，但是它的存储效率比普通对象要高<br>数组中保存的内容我们称为元素<br>数组使用索引（index）来操作元素<br>索引指由0开始的整数</p>
<h4 id="1-数组的操作"><a href="#1-数组的操作" class="headerlink" title="1.数组的操作"></a>1.数组的操作</h4><p>创建数组</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var arr = new Array();  </span><br><span class="line">var arr = [];  </span><br></pre></td></tr></table></figure>

<p>向数组中添加元素<br>语法；<br>数组对象[索引] = 值;</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">arr[0] = 123;  </span><br><span class="line">arr[1] = &quot;hello&quot;;  </span><br></pre></td></tr></table></figure>

<p>创建数组时直接添加元素<br>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var arr = [元素1,元素2....元素N]; </span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var arr = [123,&quot;hello&quot;,true,null];  </span><br></pre></td></tr></table></figure>

<p>获取和修改数组的长度<br>使用length属性来操作数组的长度<br>获取长度：<br>数组.length<br>length获取到的是数组的最大索引+1<br>对于连续的数组，length获取到的就是数组中元素的个数<br>修改数组的长度<br>数组.length = 新长度<br>如果修改后的length大于原长度，则多出的部分会空出来<br>如果修改后的length小于原长度，则原数组中多出的元素会被删除<br>向数组的最后添加元素<br>数组[数组.length] = 值;</p>
<h4 id="2-数组的方法"><a href="#2-数组的方法" class="headerlink" title="2.数组的方法"></a>2.数组的方法</h4><table>
<thead>
<tr>
<th>functionName</th>
<th>function</th>
<th>usage</th>
</tr>
</thead>
<tbody><tr>
<td>push()</td>
<td>用来向数组的末尾添加一个或多个元素，并返回数组新的长度</td>
<td>语法：数组.push(元素1,元素2,元素N)pop()</td>
</tr>
<tr>
<td>pop()</td>
<td>用来删除数组的最后一个元素，并返回被删除的元素</td>
<td></td>
</tr>
<tr>
<td>unshift()</td>
<td>向数组的开头添加一个或多个元素，并返回数组的新的长度</td>
<td></td>
</tr>
<tr>
<td>shift()</td>
<td>删除数组的开头的一个元素，并返回被删除的元素</td>
<td></td>
</tr>
<tr>
<td>reverse()</td>
<td>可以用来反转一个数组，它会对原数组产生影响</td>
<td></td>
</tr>
<tr>
<td>concat()</td>
<td>可以连接两个或多个数组，它不会影响原数组，而是新数组作为返回值返回</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h6 id="slice-sart-end"><a href="#slice-sart-end" class="headerlink" title="slice(sart,[end])"></a>slice(sart,[end])</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以从一个数组中截取指定的元素  </span><br><span class="line">该方法不会影响原数组，而是将截取到的内容封装为一个新的数组并返回  </span><br><span class="line">参数：  </span><br><span class="line">1.截取开始位置的索引（包括开始位置）  </span><br><span class="line">2.截取结束位置的索引（不包括结束位置）  </span><br><span class="line">	 第二个参数可以省略不写，如果不写则一直截取到最后  </span><br><span class="line"> 参数可以传递一个负值，如果是负值，则从后往前数  </span><br></pre></td></tr></table></figure>

<h6 id="splice"><a href="#splice" class="headerlink" title="splice()"></a>splice()</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">可以用来删除数组中指定元素，并使用新的元素替换  </span><br><span class="line">该方法会将删除的元素封装到新数组中返回  </span><br><span class="line">参数：  </span><br><span class="line">1.删除开始位置的索引  </span><br><span class="line">2.删除的个数  </span><br><span class="line">3.三个以后，都是替换的元素，这些元素将会插入到开始位置索引的前边  </span><br></pre></td></tr></table></figure>

<h6 id="join-splitor"><a href="#join-splitor" class="headerlink" title="join([splitor])"></a>join([splitor])</h6><p>可以将一个数组转换为一个字符串<br>参数：<br>需要一个字符串作为参数，这个字符串将会作为连接符来连接数组中的元素<br>如果不指定连接符则默认使用,</p>
<h6 id="sort"><a href="#sort" class="headerlink" title="sort()"></a>sort()</h6><p>可以对一个数组中的内容进行排序，默认是按照Unicode编码进行排序<br>调用以后，会直接修改原数组。<br>可以自己指定排序的规则，需要一个回调函数作为参数：</p>
<p>我们可以自己来指定排序的规则<br>我们可以在sort()添加一个回调函数，来指定排序规则，<br>回调函数中需要定义两个形参,<br>浏览器将会分别使用数组中的元素作为实参去调用回调函数<br>使用哪个元素调用不确定，但是肯定的是在数组中a一定在b前边</p>
<ul>
<li>浏览器会根据回调函数的返回值来决定元素的顺序，<br>如果返回一个大于0的值，则元素会交换位置<br>如果返回一个小于0的值，则元素位置不变<br>如果返回一个0，则认为两个元素相等，也不交换位置</li>
<li>如果需要升序排列，则返回 a-b<br>如果需要降序排列，则返回b-a</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function(a,b)&#123;  </span><br><span class="line">	//升序排列  </span><br><span class="line">	//return a-b;  </span><br><span class="line">	  </span><br><span class="line">	//降序排列  </span><br><span class="line">	return b-a;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="3-遍历数组"><a href="#3-遍历数组" class="headerlink" title="3.遍历数组"></a>3.遍历数组</h4><p>遍历数组就是将数组中元素都获取到<br>一般情况我们都是使用for循环来遍历数组</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for(var i=0 ; i&lt;数组.length ; i++)&#123;  </span><br><span class="line">    //数组[i]  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p>使用forEach()方法来遍历数组（不兼容IE8）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">数组.forEach(function(value , index , obj)&#123;  </span><br><span class="line">  </span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure>

<p>forEach()方法需要一个回调函数作为参数，<br>数组中有几个元素，回调函数就会被调用几次，<br>每次调用时，都会将遍历到的信息以实参的形式传递进来，<br>我们可以定义形参来获取这些信息。<br>value:正在遍历的元素<br>index:正在遍历元素的索引<br>obj:被遍历对象</p>
<h2 id="十一、常用的类和方法"><a href="#十一、常用的类和方法" class="headerlink" title="十一、常用的类和方法"></a>十一、常用的类和方法</h2><h4 id="1-包装类"><a href="#1-包装类" class="headerlink" title="1.包装类"></a>1.包装类</h4><p>在JS中为我们提供了<strong>三个包装类：</strong><br>String() Boolean() Number()<br>通过这三个包装类可以创建基本数据类型的对象<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var num = new Number(2);  </span><br><span class="line">var str = new String(&quot;hello&quot;);  </span><br><span class="line">var bool = new Boolean(true); </span><br></pre></td></tr></table></figure>

<p>但是在实际应用中千万不要这么干。</p>
<p>当我们去操作一个基本数据类型的属性和方法时，<br><strong>解析器会临时将其转换为对应的包装类，然后再去操作属性和方法，</strong><br>操作完成以后再将这个临时对象进行销毁。</p>
<h4 id="2-Date"><a href="#2-Date" class="headerlink" title="2.Date"></a>2.Date</h4><p>日期的对象，在JS中通过Date对象来表示一个时间<br>创建对象<br>创建一个当前的时间对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var d = new Date();  </span><br></pre></td></tr></table></figure>

<p>创建一个指定的时间对象</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var d = new Date(&quot;月/日/年 时:分:秒&quot;);  </span><br></pre></td></tr></table></figure>

<h5 id="方法："><a href="#方法：" class="headerlink" title="方法："></a>方法：</h5><table>
<thead>
<tr>
<th>name</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>getDate()</td>
<td>当前日期对象是几日（1-31）</td>
</tr>
<tr>
<td>getDay()</td>
<td>返回当前日期对象时周几（0-6） 0 周日 1 周一 。。。</td>
</tr>
<tr>
<td>getMonth()</td>
<td>返回当前日期对象的月份（0-11） 0 一月 1 二月 。。。</td>
</tr>
<tr>
<td>getFullYear()</td>
<td>从 Date 对象以四位数字返回年份。</td>
</tr>
<tr>
<td>getHours()</td>
<td>返回 Date 对象的小时 (0 ~ 23)。</td>
</tr>
<tr>
<td>getMinutes()</td>
<td>返回 Date 对象的分钟 (0 ~ 59)。</td>
</tr>
<tr>
<td>getSeconds()</td>
<td>返回 Date 对象的秒数 (0 ~ 59)。</td>
</tr>
<tr>
<td>getMilliseconds()</td>
<td>返回 Date 对象的毫秒(0 ~ 999)。</td>
</tr>
<tr>
<td>getTime()</td>
<td>返回当前日期对象的时间戳 时间戳，指的是从1970年月1日 0时0分0秒，<strong>到现在时间的毫秒数</strong> 计算机底层保存时间都是以时间戳的形式保存的。</td>
</tr>
<tr>
<td>Date.now()</td>
<td>可以获取当前代码执行时的时间戳</td>
</tr>
</tbody></table>
<h4 id="3-Math"><a href="#3-Math" class="headerlink" title="3.Math"></a>3.Math</h4><p>Math属于一个工具类，它不需要我们创建对象，它里边封装了属性运算相关的常量和方法<br>我们可以直接使用它来进行数学运算相关的操作<br>方法：<br>Math.PI<br>常量，圆周率<br>Math.abs()<br>绝对值运算<br>Math.ceil()<br>向上取整<br>Math.floor()<br>向下取整<br>Math.round()<br>四舍五入取整<br>Math.random()<br>生成一个01之间的随机数<br>生成一个xy之间的随机数<br>Math.round(Math.random()*(y-x)+x);<br>Math.pow(x,y)<br>求x的y次幂<br>Math.sqrt()<br>对一个数进行开方<br>Math.max()<br>求多个数中最大值<br>Math.min()<br>求多个数中的最小值</p>
<h4 id="4-字符串的相关方法"><a href="#4-字符串的相关方法" class="headerlink" title="4.字符串的相关方法"></a>4.字符串的相关方法</h4><p>使用ES6中的字符串新方法</p>
<p><strong>String.prototype.padStart(maxLength, fillString=’’)</strong> 或 **String.prototype.padEnd(maxLength, fillString=’’)**来填充字符串；</p>
<p>length<br>获取字符串的长度<br>charAt()<br>根据索引获取指定的字符<br>charCodeAt()<br>根据索引获取指定的字符编码<br><strong>String.fromCharCode()</strong><br><strong>根据字符编码获取字符</strong><br>indexOf()<br>lastIndexOf()<br>从一个字符串中检索指定内容<br>需要一个字符串作为参数，这个字符串就是要检索的内容，<br>如果找到该内容，则会返回其第一次出现的索引，如果没有找到则返回-1。<br>可以指定一个第二个参数，来表示开始查找的位置<br>indexOf()是从前向后找<br>lastIndexOf()是从后向前找<br>slice(start,[end])<br>可以从一个字符串中截取指定的内容，并将截取到内容返回，不会影响原变量<br>参数：<br>第一个：截取开始的位置（包括开始）<br>第二个：截取结束的位置<strong>（不包括结束）</strong><br>可以省略第二个参数，如果省略则一直截取到最后<br>可以传负数，如果是负数则从后往前数<br>substr()<br>和slice()基本一致，不同的是它第二个参数不是索引，而是截取的数量</p>
<p>substring()<br>和slice()基本一致，不同的是它不能接受负值作为参数，如果设置一个负值，则会自动修正为0，<br><strong>substring()中如果第二个参数小于第一个，自动调整位置</strong><br>toLowerCase()<br>将字符串转换为小写并返回<br>toUpperCase()<br>将字符串转换为大写并返回</p>
<h4 id="5-正则表达的相关方法"><a href="#5-正则表达的相关方法" class="headerlink" title="5.正则表达的相关方法"></a>5.正则表达的相关方法</h4><p><strong>split()</strong><br>可以根据指定内容将一个字符串拆分为一个数组<br>参数：<br>需要一个字符串作为参数，将会根据字符串去拆分数组<br>可以接收一个正则表达式，此时会根据正则表达式去拆分数组</p>
<p><strong>match()</strong><br>可以根据正则表达式，从一个字符串中将符合条件的内容提取出来<br>默认情况下我们的match只会找到第一个符合要求的内容，找到以后就停止检索<br>我们可以设置正则表达式为全局匹配模式，这样就会匹配到所有的内容<br>可以为一个正则表达式设置多个匹配模式，且顺序无所谓<br>match()会将匹配到的内容封装到一个数组中返回，即使只查询到一个结果</p>
<p><strong>replace()</strong><br>可以将字符串中指定内容替换为新的内容<br>参数：<br>1.被替换的内容，可以接受一个正则表达式作为参数<br><strong>2.新的内容</strong> 空串则为删除””<br>默认只会替换第一个</p>
<p>search()<br>可以搜索字符串中是否含有指定内容<br>如果搜索到指定内容，则会返回第一次出现的索引，如果没有搜索到返回1<br>它可以接受一个正则表达式作为参数，然后会根据正则表达式去检索字符串<br>serach()只会查找第一个，即使设置全局匹配也没用</p>
<h2 id="十二、正则表达式"><a href="#十二、正则表达式" class="headerlink" title="十二、正则表达式"></a>十二、正则表达式</h2><p>正则用来定义一些字符串的规则，程序可以根据这些规则来判断一个字符串是否符合规则，<br>也可以将一个字符串中符合规则的内容提取出来。<br><strong>创建正则表达式</strong><br>var reg = new RegExp(“正则”,”匹配模式”); 注意：使用构造函数时，由于它的参数是一个字符串，而\是字符串中转义字符，如果要使用\则需要使用\来代替</p>
<p>var reg = /正则表达式/匹配模式 （匹配模式可以多个一起写：/gi）</p>
<h4 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h4><p>匹配模式：<br>i:忽略大小写（ignore）<br>g:全局匹配模式（默认为1次）<br>设置匹配模式时，可以都不设置，也可以设置1个，也可以全设置，设置时没有顺序要求</p>
<p>正则语法<br>| 或<br>[] 或<br>[^ ] 除了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">**[x-y] x的ascii到y的ascii码之间的值**  </span><br></pre></td></tr></table></figure>

<p>[a-z] 小写字母 <strong>（也可以[e-i])</strong><br>[A-Z] 大写字母<br>[A-z] 任意字母,<strong>但是还包括了其他ASCII在此之中的</strong><br>[0-9] 任意数字</p>
<p>元符号</p>
<p>检查一个字符串中是否含有 .<br>. 表示任意字符<br>在正则表达式中使用\作为转义字符<br>. 来表示.<br>\ 表示\</p>
<p>\w<br>任意字母、数字、_ [A-z0-9_]<br>\W<br>除了字母、数字、_ [ ^A-z0-9_]<br>\d<br>任意的数字 [0-9]<br>\D<br>除了数字 [ ^0-9]<br>\s<br>空格<br>\S<br>除了空格<br>\b<br>单词边界<br>\B<br>除了单词边界</p>
<p><strong>量词</strong><br>通过量词可以设置一个内容出现的次数<br>量词只对它前边的一个内容起作用<br>{n} 正好出现n次<br>{m,n} 出现mn次<br>{m,} m次以上</p>
<p>+至少一个，相当于{1,}<br>*个或多个，相当于{0,}<br>? 0个或1个，相当于{0,1}</p>
<p><strong>边界表达式</strong>（不要在java中用，javaScript中用）<br>^:正则开始<br>$:正则结束 ：<strong>注意结束前一个才是结束匹配</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">reg = /^a/;  </span><br><span class="line">reg = /b$/;  </span><br></pre></td></tr></table></figure>

<h4 id="2-方法"><a href="#2-方法" class="headerlink" title="2.方法"></a>2.方法</h4><p>test()<br>可以用来检查一个字符串是否符合正则表达式<br>如果符合返回true，否则返回false<br>例子</p>
<p>去掉两端的空格:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var s = &quot;        	f    afa    &quot;;   </span><br><span class="line">s = s.replace(/^\s*|\s*$/g,&quot;&quot;);  </span><br></pre></td></tr></table></figure>

<h2 id="十三、DOM"><a href="#十三、DOM" class="headerlink" title="十三、DOM"></a>十三、DOM</h2><p>Document Object Model<br>文档对象模型，通过DOM可以来任意来修改网页中各个内容<br>文档<br>文档指的是网页，一个网页就是一个文档<br>对象<br>对象指将网页中的每一个节点都转换为对象<br>转换完对象以后，就可以以一种纯面向对象的形式来操作网页了<br>模型<br>模型用来表示节点和节点之间的关系，方便操作页面<br>节点（Node）<br>节点是构成网页的最基本的单元，网页中的每一个部分都可以称为是一个节点<br>虽然都是节点，但是节点的类型却是不同的<br>常用的节点<br>文档节点 （Document），代表整个网页<br>元素节点（Element），代表网页中的标签<br>属性节点（Attribute），代表标签中的属性<br>文本节点（Text），代表网页中的文本内容</p>
<h4 id="1-DOM操作"><a href="#1-DOM操作" class="headerlink" title="1.DOM操作"></a>1.DOM操作</h4><p>DOM查询<br>在网页中浏览器已经为我们提供了<strong>document对象</strong>，<br><strong>它代表的是整个网页，它是window对象的属性，可以在页面中直接使用。</strong><br>document查询方法：<br>根据元素的id属性查询一个元素节点对象：<br>document.getElementById(“id属性值”);<br>根据元素的name属性值查询一组元素节点对象:<br>document.getElementsByName(“name属性值”);<br>根据标签名来查询一组元素节点对象：<br>document.getElementsByTagName(“标签名”);</p>
<p>元素的属性：<br><strong>读取元素的属性：</strong><br>语法：元素.属性名<br>例子：ele.name<br>ele.id<br>ele.value<br>ele.className<br>注意：class属性不能采用这种方式，<br><strong>读取class属性时需要使用 元素.classNam</strong>e</p>
<p>修改元素的属性：<br>语法：元素.属性名 = 属性值</p>
<p>innerHTML<br>使用该属性可以获取或设置元素内部的HTML代码</p>
<h4 id="2-事件（event）"><a href="#2-事件（event）" class="headerlink" title="2.事件（event）"></a>2.事件（event）</h4><p>事件指的是用户和浏览器之间的交互行为。比如：点击按钮、关闭窗口、鼠标移动。。。<br>我们可以为事件来绑定回调函数来响应事件。<br>绑定事件的方式：<br>1.可以在标签的事件属性中设置相应的JS代码<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;button onclick=&quot;js代码。。。&quot;&gt;按钮&lt;/button&gt;  </span><br></pre></td></tr></table></figure>

<p>2.可以通过为对象的指定事件属性设置回调函数的形式来处理事件<br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;button id=&quot;btn&quot;&gt;按钮&lt;/button&gt;  </span><br><span class="line">&lt;script&gt;  </span><br><span class="line">    var btn = document.getElementById(&quot;btn&quot;);  </span><br><span class="line">    btn.onclick = function()&#123;  </span><br><span class="line">  </span><br><span class="line">    &#125;;  </span><br><span class="line">&lt;/script&gt;  </span><br></pre></td></tr></table></figure>

<p>文档的加载<br>浏览器在加载一个页面时，是按照自上向下的顺序加载的，加载一行执行一行。<br>如果将js代码编写到页面的上边，当代码执行时，页面中的DOM对象还没有加载，<br>此时将会无法正常获取到DOM对象，导致DOM操作失败。<br>解决方式一：<br>可以将js代码编写到body的下边</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;  </span><br><span class="line">		&lt;button id=&quot;btn&quot;&gt;按钮&lt;/button&gt;  </span><br><span class="line">  </span><br><span class="line">		&lt;script&gt;  </span><br><span class="line">			var btn = document.getElementById(&quot;btn&quot;);  </span><br><span class="line">			btn.onclick = function()&#123;  </span><br><span class="line">		  </span><br><span class="line">			&#125;;  </span><br><span class="line">	&lt;/script&gt;  </span><br><span class="line">&lt;/body&gt;  </span><br></pre></td></tr></table></figure>

<p>解决方式二：<br>将js代码编写到window.onload = function(){}中<br>window.onload 对应的回调函数会在整个页面加载完毕以后才执行，<br>所以可以确保代码执行时，DOM对象已经加载完毕了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;  </span><br><span class="line">    window.onload = function()&#123;  </span><br><span class="line">        var btn = document.getElementById(&quot;btn&quot;);  </span><br><span class="line">        btn.onclick = function()&#123;  </span><br><span class="line">        &#125;;  </span><br><span class="line">    &#125;;  </span><br><span class="line">&lt;/script&gt;	    </span><br></pre></td></tr></table></figure>

<h4 id="3-DOM查询"><a href="#3-DOM查询" class="headerlink" title="3.DOM查询"></a>3.DOM查询</h4><p>通过具体的元素节点来查询<br>元素.getElementsByTagName()<br>通过标签名查询当前元素的指定后代元素</p>
<p><strong>子节点包括便签元素中的文本，子元素自包含标签元素</strong></p>
<p>元素.childNodes<br>获取当前元素的<strong>所有子节点</strong><br><strong>会获取到空白的文本子节点</strong></p>
<p>childNodes属性会获取包括文本节点在呢的所有节点<br>根据DOM标签标签间空白也会当成文本节点<br>注意：在IE8及以下的浏览器中，不会将空白文本当成子节点，<br>所以该属性在IE8中会返回4个子元素而其他浏览器是9个</p>
<p>元素.children<br>获取当前元素的<strong>所有子元素</strong></p>
<p>元素.firstChild<br>获取当前元素的<strong>第一个子节点</strong>，会获取到空白的文本子节点</p>
<p>元素.lastChild<br>获取当前元素的<strong>最后一个子节点</strong></p>
<p>元素.parentNode<br>获取当前元素的父元素</p>
<p>元素.previousSibling<br>获取当前元素的前一个兄弟节点</p>
<p>previousElementSibling获取前一个兄弟元素，IE8及以下不支持</p>
<p>元素.nextSibling<br>获取当前元素的后一个兄弟节点</p>
<p>firstElementChild获取当前元素的第一个子元素<br>firstElementChild不支持IE8及以下的浏览器，<br>如果需要兼容他们尽量不要使用</p>
<p>innerHTML和innerText<br>这两个属性并没有在DOM标准定义，但是大部分浏览器都支持这两个属性<br>两个属性作用类似，都可以获取到标签内部的内容，<br><strong>不同是innerHTML会获取到html标签，而innerText会自动去除标签</strong><br>如果使用这两个属性来设置标签内部的内容时，没有任何区别的</p>
<p><strong>读取标签内部的文本内容</strong></p>
<p>h1中的文本内容</p>
<p>元素.firstChild.nodeValue</p>
<h4 id="4-document对象的其他属性和方法"><a href="#4-document对象的其他属性和方法" class="headerlink" title="4.document对象的其他属性和方法"></a>4.document对象的其他属性和方法</h4><p>document.all<br><strong>获取页面中的所有元素</strong>，相当于document.getElementsByTagName(“*”);</p>
<p>document.documentElement<br><strong>获取页面中html根元素</strong></p>
<p>document.body<br>获取页面中的body元素</p>
<p>document.getElementsByClassName()<br><strong>根据元素的class属性值查询一组元素节点对象</strong><br>这个方法不支持IE8及以下的浏览器</p>
<p>document.querySelector()<br><strong>根据CSS选择器去页面中查询一个元素</strong><br>如果匹配到的元素有多个，则它会返回查询到的第一个元素</p>
<p>document.querySelectorAll()<br>根据CSS选择器去页面中查询一组元素<br>会将匹配到所有元素封装到一个数组中返回，即使只匹配到一个</p>
<h4 id="5-DOM修改"><a href="#5-DOM修改" class="headerlink" title="5.DOM修改"></a>5.DOM修改</h4><p>document.createElement(“TagName”)<br>可以用于创建一个元素节点对象，<br>它需要一个标签名作为参数，将会根据该标签名创建元素节点对象，<br>并将创建好的对象作为返回值返回<br>document.createTextNode(“textContent”)<br>可以根据文本内容创建一个文本节点对象</p>
<p><strong>父节点.appendChild(子节点)</strong><br>向父节点中添加指定的子节点<br><strong>父节点.insertBefore(新节点,旧节点)</strong><br>将一个新的节点插入到旧节点的前边<br>父节点.replaceChild(新节点,旧节点)<br>使用一个新的节点去替换旧节点</p>
<p><strong>父节点.removeChild(子节点)</strong><br>删除指定的子节点<br>推荐方式：<strong>子节点.parentNode.removeChild(子节点)</strong></p>
<p><strong>以上方法，实际就是改变了相应元素（标签）的innerHTML的值。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">myClick(&quot;btn07&quot;,function()&#123;  </span><br><span class="line">    //向city中添加广州  </span><br><span class="line">    var city = document.getElementById(&quot;city&quot;);  </span><br><span class="line">  </span><br><span class="line">    /*  </span><br><span class="line">	* 使用innerHTML也可以完成DOM的增删改的相关操作  </span><br><span class="line">	* 一般我们会两种方式结合使用  </span><br><span class="line">	*/  </span><br><span class="line">    //city.innerHTML += &quot;&lt;li&gt;广州&lt;/li&gt;&quot;;  </span><br><span class="line">  </span><br><span class="line">    //创建一个li  </span><br><span class="line">    var li = document.createElement(&quot;li&quot;);  </span><br><span class="line">    //向li中设置文本  </span><br><span class="line">    li.innerHTML = &quot;广州&quot;;  </span><br><span class="line">    //将li添加到city中  </span><br><span class="line">    city.appendChild(li);  </span><br><span class="line">  </span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure>

<h4 id="6-DOM对CSS的操作"><a href="#6-DOM对CSS的操作" class="headerlink" title="6.DOM对CSS的操作"></a>6.DOM对CSS的操作</h4><h5 id="（1）读取和修改内联样式"><a href="#（1）读取和修改内联样式" class="headerlink" title="（1）读取和修改内联样式"></a>（1）读取和修改内联样式</h5><p>使用style属性来操作元素的内联样式<br>读取内联样式：<br>语法：元素.style.样式名<br>例子：<br>元素.style.width<br>元素.style.height<br>注意：<strong>如果样式名中带有-，则需要将样式名修改为驼峰命名法将-去掉，然后后的字母改大写</strong><br>比如：backgroundcolor &gt; backgroundColor<br>borderwidth &gt; borderWidth<br>修改内联样式：<br>语法：元素.style.样式名 = 样式值<br><strong>通过style修改和读取的样式都是内联样式</strong>，由于内联样式的优先级比较高，<br>所以我们通过JS来修改的样式，往往会立即生效，<br><strong>但是如果样式中设置了!important，则内联样式将不会生效。</strong></p>
<h5 id="（2）读取元素的当前样式"><a href="#（2）读取元素的当前样式" class="headerlink" title="（2）读取元素的当前样式"></a>（2）读取元素的当前样式</h5><p>正常浏览器<br><strong>使用getComputedStyle()</strong><br>这个方法是window对象的方法，可以返回一个对象，这个对象中保存着当前元素生效样式<br>参数：<br>1.要获取样式的元素<br>2.可以传递一个伪元素，一般传null<br>例子：<br>获取元素的宽度<br>getComputedStyle(box , null)[“width”];<br>通过该方法读取到样式都是只读的不能修改</p>
<p>IE8<br><strong>使用currentStyle</strong><br>语法：<br>元素.currentStyle.样式名<br>例子：<br>box.currentStyle[“width”]<br>通过这个属性读取到的样式是只读的不能修改</p>
<h5 id="（3）实现兼容性"><a href="#（3）实现兼容性" class="headerlink" title="（3）实现兼容性"></a>（3）实现兼容性</h5><p>//对象.属性不存在，不会报错，如果直接寻找对象，（当前作用域到全局作用域）找不到会报错</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*  </span><br><span class="line">* 定义一个函数，用来获取指定元素的当前的样式  </span><br><span class="line">* 参数：  </span><br><span class="line">* 		obj 要获取样式的元素  </span><br><span class="line">* 		name 要获取的样式名  </span><br><span class="line">*/  </span><br><span class="line">function getStyle(obj , name)&#123;  </span><br><span class="line">//对象.属性不存在，不会报错，如果直接寻找对象，（当前作用域到全局作用域）找不到会报错  </span><br><span class="line">    if(window.getComputedStyle)&#123;  </span><br><span class="line">        //正常浏览器的方式，具有getComputedStyle()方法  </span><br><span class="line">        return getComputedStyle(obj , null)[name];  </span><br><span class="line">    &#125;else&#123;  </span><br><span class="line">        //IE8的方式，没有getComputedStyle()方法  </span><br><span class="line">        return obj.currentStyle[name];  </span><br><span class="line">    &#125;  </span><br><span class="line">    //return window.getComputedStyle?getComputedStyle(obj , null)[name]:obj.currentStyle[name];			  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h5 id="（4）其他的样式相关的属性"><a href="#（4）其他的样式相关的属性" class="headerlink" title="（4）其他的样式相关的属性"></a>（4）其他的样式相关的属性</h5><p>注意：以下样式都是只读的,未指明偏移量都是相对于当前窗口左上角</p>
<p>clientHeight<br>元素的可见高度，包括元素的内容区和内边距的高度<br>clientWidth<br>元素的可见宽度，包括元素的内容区和内边距的宽度<br>offsetHeight<br>整个元素的高度，包括内容区、内边距、边框<br>offfsetWidth<br>整个元素的宽度，包括内容区、内边距、边框<br>offsetParent<br>当前元素的定位父元素<br>离他最近的开启了定位的祖先元素，如果所有的元素都没有开启定位，则返回body<br>offsetLeft<br>offsetTop<br>当前元素和定位父元素之间的偏移量<br>offsetLeft水平偏移量 offsetTop垂直偏移量</p>
<p>scrollHeight<br>scrollWidth<br>获取元素滚动区域的高度和宽度</p>
<p>scrollTop<br>scrollLeft<br>获取元素垂直和水平滚动条滚动的距离</p>
<p>判断滚动条是否滚动到底<br>垂直滚动条<br>scrollHeight -scrollTop = clientHeight</p>
<p>水平滚动<br>scrollWidth -scrollLeft = clientWidth</p>
<h2 id="十四、事件（event）"><a href="#十四、事件（event）" class="headerlink" title="十四、事件（event）"></a>十四、事件（event）</h2><p>素上的事件被触发时，将会导致其祖先元素上的同类事件也会触发。<br>事件的冒泡大部分情况下都是有益的，如果需要取消冒泡，则需要使用事件对象来取消<br><strong>可以将事件对象的cancelBubble设置为true，即可取消冒泡</strong><br>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">元素.事件 = function(event)&#123;  </span><br><span class="line">    event = event || window.event;  </span><br><span class="line">    event.cancelBubble = true;  </span><br><span class="line">&#125;;  </span><br></pre></td></tr></table></figure>

<h4 id="1-事件的委派"><a href="#1-事件的委派" class="headerlink" title="1.事件的委派"></a>1.事件的委派</h4><p>指将事件统一绑定给元素的共同的祖先元素，这样当后代元素上的事件触发时，会一直冒泡到祖先元素，从而通过祖先元素的响应函数来处理事件。</p>
<p>事件委派是利用了冒泡，通过委派可以减少事件绑定的次数，提高程序的性能</p>
<p>我们希望，只绑定一次事件，即可应用到多个的元素上，即使元素是后添加的<br>我们可以尝试将其绑定给元素的共同的祖先元素</p>
<p><strong>target</strong> : event中的target表示的触发事件的对象</p>
<h4 id="2-事件的绑定"><a href="#2-事件的绑定" class="headerlink" title="2.事件的绑定"></a>2.事件的绑定</h4><p>addEventListener()<br>通过这个方法也可以为元素绑定响应函数<br>参数：<br>1.事件的字符串，不要on<br>2.回调函数，当事件触发时该函数会被调用<br>3.是否在捕获阶段触发事件，需要一个布尔值，一般都传false</p>
<p>使用addEventListener()可以同时为一个元素的相同事件同时绑定多个响应函数，<br>这样当事件被触发时，响应函数将会按照函数的绑定顺序执行</p>
<p>这个方法不支持IE8及以下的浏览器</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">btn01.addEventListener(&quot;click&quot;,function()&#123;  </span><br><span class="line">	alert(1);  </span><br><span class="line">&#125;,false);  </span><br><span class="line">  </span><br><span class="line">btn01.addEventListener(&quot;click&quot;,function()&#123;  </span><br><span class="line">	alert(2);  </span><br><span class="line">&#125;,false);					  </span><br></pre></td></tr></table></figure>

<p>attachEvent()</p>
<p>在IE8中可以使用attachEvent()来绑定事件<br>参数：<br>1.事件的字符串，要on<br>2.回调函数</p>
<p>这个方法也可以同时为一个事件绑定多个处理函数，<br>不同的是它是后绑定先执行，执行顺序和addEventListener()相反</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">btn01.attachEvent(&quot;onclick&quot;,function()&#123;  </span><br><span class="line">alert(1);  </span><br><span class="line">&#125;);  </span><br><span class="line">  </span><br><span class="line">btn01.attachEvent(&quot;onclick&quot;,function()&#123;  </span><br><span class="line">alert(2);  </span><br><span class="line">&#125;);	  </span><br><span class="line">//定义一个函数，用来为指定元素绑定响应函数  </span><br><span class="line">/*  </span><br><span class="line">			 * addEventListener()中的this，是绑定事件的对象  </span><br><span class="line">			 * attachEvent()中的this，是window  </span><br><span class="line">			 *  需要统一两个方法this  </span><br><span class="line">			 */  </span><br><span class="line">/*  </span><br><span class="line">			 * 参数：  </span><br><span class="line">			 * 	obj 要绑定事件的对象  </span><br><span class="line">			 * 	eventStr 事件的字符串(不要on)  </span><br><span class="line">			 *  callback 回调函数  </span><br><span class="line">			 */  </span><br><span class="line">function bind(obj , eventStr , callback)&#123;  </span><br><span class="line">    if(obj.addEventListener)&#123;  </span><br><span class="line">        //大部分浏览器兼容的方式  </span><br><span class="line">        obj.addEventListener(eventStr , callback , false);  </span><br><span class="line">    &#125;else&#123;  </span><br><span class="line">        /*  </span><br><span class="line">					 * this是谁由调用方式决定  </span><br><span class="line">					 * callback.call(obj)  </span><br><span class="line">					 */  </span><br><span class="line">        //IE8及以下  </span><br><span class="line">        obj.attachEvent(&quot;on&quot;+eventStr , function()&#123;  </span><br><span class="line">            //在匿名函数中调用回调函数  </span><br><span class="line">            callback.call(obj);  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="3-事件的传播"><a href="#3-事件的传播" class="headerlink" title="3.事件的传播"></a>3.事件的传播</h4><p>关于事件的传播网景公司和微软公司有不同的理解<br>微软公司认为事件应该是由内向外传播，也就是当事件触发时，应该先触发当前元素上的事件，<br>然后再向当前元素的祖先元素上传播，也就说事件应该在冒泡阶段执行。<br>网景公司认为事件应该是由外向内传播的，也就是当前事件触发时，应该先触发当前元素的最外层的祖先元素的事件，<br>然后在向内传播给后代元素<br>W3C综合了两个公司的方案，将事件传播分成了三个阶段<br>1.捕获阶段<br>在捕获阶段时从最外层的祖先元素，向目标元素进行事件的捕获，但是默认此时不会触发事件<br>2.目标阶段<br>事件捕获到目标元素，捕获结束开始在目标元素上触发事件<br>3.冒泡阶段<br>事件从目标元素向他的祖先元素传递，依次触发祖先元素上的事件</p>
<p>如果希望在捕获阶段就触发事件，可以将addEventListener()的第三个参数设置为true<br>一般情况下我们不会希望在捕获阶段触发事件，所以这个参数一般都是false</p>
<p>IE8及以下的浏览器中没有捕获阶段</p>
<h4 id="4-常用事件"><a href="#4-常用事件" class="headerlink" title="4.常用事件"></a>4.常用事件</h4><h5 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h5><p>拖拽事件</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;  </span><br><span class="line">    &lt;html&gt;  </span><br><span class="line">    &lt;head&gt;  </span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;  </span><br><span class="line">        &lt;title&gt;&lt;/title&gt;  </span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    #box1&#123;  </span><br><span class="line">width: 100px;  </span><br><span class="line">height: 100px;  </span><br><span class="line">background-color: red;  </span><br><span class="line">position: absolute;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">#box2&#123;  </span><br><span class="line">width: 100px;  </span><br><span class="line">height: 100px;  </span><br><span class="line">background-color: yellow;  </span><br><span class="line">position: absolute;  </span><br><span class="line">  </span><br><span class="line">left: 200px;  </span><br><span class="line">top: 200px;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">    &lt;/style&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    window.onload = function()&#123;  </span><br><span class="line">    /*  </span><br><span class="line">				 * 拖拽box1元素  </span><br><span class="line">				 *  - 拖拽的流程  </span><br><span class="line">				 * 		1.当鼠标在被拖拽元素上按下时，开始拖拽  onmousedown  </span><br><span class="line">				 * 		2.当鼠标移动时被拖拽元素跟随鼠标移动 onmousemove  </span><br><span class="line">				 * 		3.当鼠标松开时，被拖拽元素固定在当前位置	onmouseup  </span><br><span class="line">				 */  </span><br><span class="line">  </span><br><span class="line">    //获取box1  </span><br><span class="line">    var box1 = document.getElementById(&quot;box1&quot;);  </span><br><span class="line">    var box2 = document.getElementById(&quot;box2&quot;);  </span><br><span class="line">    var img1 = document.getElementById(&quot;img1&quot;);  </span><br><span class="line">  </span><br><span class="line">    //开启box1的拖拽  </span><br><span class="line">    drag(box1);  </span><br><span class="line">    //开启box2的  </span><br><span class="line">    drag(box2);  </span><br><span class="line">  </span><br><span class="line">    drag(img1);  </span><br><span class="line">  </span><br><span class="line">&#125;;  </span><br><span class="line">  </span><br><span class="line">/*  </span><br><span class="line">			 * 提取一个专门用来设置拖拽的函数  </span><br><span class="line">			 * 参数：开启拖拽的元素  </span><br><span class="line">			 */  </span><br><span class="line">function drag(obj)&#123;  </span><br><span class="line">    //当鼠标在被拖拽元素上按下时，开始拖拽  onmousedown  </span><br><span class="line">    obj.onmousedown = function(event)&#123;  </span><br><span class="line">  </span><br><span class="line">        //设置box1捕获所有鼠标按下的事件  </span><br><span class="line">        /*  </span><br><span class="line">					 * setCapture()  </span><br><span class="line">					 * 	- 只有IE支持，但是在火狐中调用时不会报错，  </span><br><span class="line">					 * 		而如果使用chrome调用，会报错  </span><br><span class="line">					 */  </span><br><span class="line">        /*if(box1.setCapture)&#123;  </span><br><span class="line">						box1.setCapture();  </span><br><span class="line">					&#125;*/  </span><br><span class="line">        obj.setCapture &amp;&amp; obj.setCapture();  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">        event = event || window.event;  </span><br><span class="line">        //div的偏移量 鼠标.clentX - 元素.offsetLeft  </span><br><span class="line">        //div的偏移量 鼠标.clentY - 元素.offsetTop  </span><br><span class="line">        var ol = event.clientX - obj.offsetLeft;  </span><br><span class="line">        var ot = event.clientY - obj.offsetTop;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">        //为document绑定一个onmousemove事件  </span><br><span class="line">        document.onmousemove = function(event)&#123;  </span><br><span class="line">            event = event || window.event;  </span><br><span class="line">            //当鼠标移动时被拖拽元素跟随鼠标移动 onmousemove  </span><br><span class="line">            //获取鼠标的坐标  </span><br><span class="line">            var left = event.clientX - ol;  </span><br><span class="line">            var top = event.clientY - ot;  </span><br><span class="line">  </span><br><span class="line">            //修改box1的位置  </span><br><span class="line">            obj.style.left = left+&quot;px&quot;;  </span><br><span class="line">            obj.style.top = top+&quot;px&quot;;  </span><br><span class="line">  </span><br><span class="line">        &#125;;  </span><br><span class="line">  </span><br><span class="line">        //为document绑定一个鼠标松开事件  </span><br><span class="line">        document.onmouseup = function()&#123;  </span><br><span class="line">            //当鼠标松开时，被拖拽元素固定在当前位置	onmouseup  </span><br><span class="line">            //取消document的onmousemove事件  </span><br><span class="line">            document.onmousemove = null;  </span><br><span class="line">            //取消document的onmouseup事件  </span><br><span class="line">            document.onmouseup = null;  </span><br><span class="line">            //当鼠标松开时，取消对事件的捕获  </span><br><span class="line">            obj.releaseCapture &amp;&amp; obj.releaseCapture();  </span><br><span class="line">        &#125;;  </span><br><span class="line">  </span><br><span class="line"> /*  </span><br><span class="line">* 当我们拖拽一个网页中的内容时，浏览器会默认去搜索引擎中搜索内容，  </span><br><span class="line">* 	此时会导致拖拽功能的异常，这个是浏览器提供的默认行为，  </span><br><span class="line">* 	如果不希望发生这个行为，则可以通过return false来取消默认行为  </span><br><span class="line">*   </span><br><span class="line">* 但是这招对IE8不起作用  </span><br><span class="line">*/  </span><br><span class="line">        return false;  </span><br><span class="line">    &#125;;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&lt;/script&gt;  </span><br><span class="line">&lt;/head&gt;  </span><br><span class="line">&lt;body&gt;  </span><br><span class="line">  </span><br><span class="line">    我是一段文字  </span><br><span class="line">  </span><br><span class="line">&lt;div id=&quot;box1&quot;&gt;&lt;/div&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;div id=&quot;box2&quot;&gt;&lt;/div&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;img src=&quot;img/an.jpg&quot; id=&quot;img1&quot; style=&quot;position: absolute;&quot;/&gt;  </span><br><span class="line">    &lt;/body&gt;  </span><br><span class="line">&lt;/html&gt;  </span><br></pre></td></tr></table></figure>

<h5 id="滚轮事件："><a href="#滚轮事件：" class="headerlink" title="滚轮事件："></a>滚轮事件：</h5><p>onwheel都支持</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;  </span><br><span class="line">    &lt;html&gt;  </span><br><span class="line">    &lt;head&gt;  </span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;  </span><br><span class="line">        &lt;title&gt;&lt;/title&gt;  </span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    #box1&#123;  </span><br><span class="line">width: 100px;  </span><br><span class="line">height: 100px;  </span><br><span class="line">background-color: red;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">    &lt;/style&gt;  </span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    window.onload = function()&#123;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    //获取id为box1的div  </span><br><span class="line">    var box1 = document.getElementById(&quot;box1&quot;);  </span><br><span class="line">  </span><br><span class="line">    //为box1绑定一个鼠标滚轮滚动的事件  </span><br><span class="line">    /*  </span><br><span class="line">				 * onmousewheel鼠标滚轮滚动的事件，会在滚轮滚动时触发，  </span><br><span class="line">				 * 	但是火狐不支持该属性  </span><br><span class="line">				 *   </span><br><span class="line">				 * 在火狐中需要使用 DOMMouseScroll 来绑定滚动事件  </span><br><span class="line">				 * 	注意该事件需要通过addEventListener()函数来绑定  </span><br><span class="line">				 */  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    box1.onmousewheel = function(event)&#123;  </span><br><span class="line">  </span><br><span class="line">        event = event || window.event;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">        //event.wheelDelta 可以获取鼠标滚轮滚动的方向  </span><br><span class="line">        //向上滚 120   向下滚 -120  </span><br><span class="line">        //wheelDelta这个值我们不看大小，只看正负  </span><br><span class="line">  </span><br><span class="line">        //alert(event.wheelDelta);  </span><br><span class="line">  </span><br><span class="line">        //wheelDelta这个属性火狐中不支持  </span><br><span class="line">        //在火狐中使用event.detail来获取滚动的方向  </span><br><span class="line">        //向上滚 -3  向下滚 3  </span><br><span class="line">        //alert(event.detail);  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">        /*  </span><br><span class="line">					 * 当鼠标滚轮向下滚动时，box1变长  </span><br><span class="line">					 * 	当滚轮向上滚动时，box1变短  </span><br><span class="line">					 */  </span><br><span class="line">        //判断鼠标滚轮滚动的方向  </span><br><span class="line">        if(event.wheelDelta &gt; 0 || event.detail &lt; 0)&#123;  </span><br><span class="line">            //向上滚，box1变短  </span><br><span class="line">            box1.style.height = box1.clientHeight - 10 + &quot;px&quot;;  </span><br><span class="line">  </span><br><span class="line">        &#125;else&#123;  </span><br><span class="line">            //向下滚，box1变长  </span><br><span class="line">            box1.style.height = box1.clientHeight + 10 + &quot;px&quot;;  </span><br><span class="line">        &#125;  </span><br><span class="line">  </span><br><span class="line">        /*  </span><br><span class="line">					 * 使用addEventListener()方法绑定响应函数，取消默认行为时不能使用return false  </span><br><span class="line">					 * 需要使用event来取消默认行为event.preventDefault();  </span><br><span class="line">					 * 但是IE8不支持event.preventDefault();这个玩意，如果直接调用会报错  </span><br><span class="line">					 */  </span><br><span class="line">        event.preventDefault &amp;&amp; event.preventDefault();  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">        /*  </span><br><span class="line">					 * 当滚轮滚动时，如果浏览器有滚动条，滚动条会随之滚动，  </span><br><span class="line">					 * 这是浏览器的默认行为，如果不希望发生，则可以取消默认行为  </span><br><span class="line">					 */  </span><br><span class="line">        return false;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    &#125;;  </span><br><span class="line">  </span><br><span class="line">    //为火狐绑定滚轮事件  </span><br><span class="line">    bind(box1,&quot;DOMMouseScroll&quot;,box1.onmousewheel);  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;;  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">function bind(obj , eventStr , callback)&#123;  </span><br><span class="line">    if(obj.addEventListener)&#123;  </span><br><span class="line">        //大部分浏览器兼容的方式  </span><br><span class="line">        obj.addEventListener(eventStr , callback , false);  </span><br><span class="line">    &#125;else&#123;  </span><br><span class="line">        /*  </span><br><span class="line">					 * this是谁由调用方式决定  </span><br><span class="line">					 * callback.call(obj)  </span><br><span class="line">					 */  </span><br><span class="line">        //IE8及以下  </span><br><span class="line">        obj.attachEvent(&quot;on&quot;+eventStr , function()&#123;  </span><br><span class="line">            //在匿名函数中调用回调函数  </span><br><span class="line">            callback.call(obj);  </span><br><span class="line">        &#125;);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">&lt;/script&gt;  </span><br><span class="line">&lt;/head&gt;  </span><br><span class="line">&lt;body style=&quot;height: 2000px;&quot;&gt;  </span><br><span class="line">  </span><br><span class="line">    &lt;div id=&quot;box1&quot;&gt;&lt;/div&gt;  </span><br><span class="line">  </span><br><span class="line">&lt;/body&gt;  </span><br><span class="line">&lt;/html&gt;  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h5 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h5><p>键盘事件：<br>onkeydown<br>按键被按下<br>对于onkeydown来说如果一直按着某个按键不松手，则事件会一直触发<br>当onkeydown连续触发时，第一次和第二次之间会间隔稍微长一点，其他的会非常的快，这种设计是为了防止误操作的发生。<br>onkeyup<br>按键被松开</p>
<p>键盘事件一般都会绑定给一些可以获取到焦点的对象或者是document</p>
<p>keyCode</p>
<p>可以通过keyCode来获取按键的编码<br>通过它可以判断哪个按键被按下<br>除了keyCode，事件对象中还提供了几个属性<br>altKey<br>ctrlKey<br>shiftKey<br>这个三个用来判断alt ctrl 和 shift是否被按下<br>如果按下则返回true，否则返回false</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//console.log(event.keyCode);  </span><br><span class="line">  </span><br><span class="line">//判断一个y是否被按下  </span><br><span class="line">//判断y和ctrl是否同时被按下  </span><br><span class="line">if(event.keyCode === 89 &amp;&amp; event.ctrlKey)&#123;  </span><br><span class="line">	console.log(&quot;ctrl和y都被按下了&quot;);  </span><br><span class="line">&#125;  </span><br><span class="line">input.onkeydown = function(event) &#123;  </span><br><span class="line">    event = event || window.event;  </span><br><span class="line">    //数字 48 - 57  </span><br><span class="line">    //使文本框中不能输入数字  </span><br><span class="line">    if(event.keyCode &gt;= 48 &amp;&amp; event.keyCode &lt;= 57) &#123;  </span><br><span class="line">        //在文本框中输入内容，属于onkeydown的默认行为  </span><br><span class="line">        //如果在onkeydown中取消了默认行为，则输入的内容，不会出现在文本框中  </span><br><span class="line">        return false;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;;  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h2 id="十五、BOM"><a href="#十五、BOM" class="headerlink" title="十五、BOM"></a>十五、BOM</h2><p>浏览器对象模型(browser object model)<br>BOM可以使我们通过JS来操作浏览器<br>在BOM中为我们提供了一组对象，用来完成对浏览器的操作<br>BOM对象<br>Window<br>代表的是整个浏览器的窗口，同时window也是网页中的全局对象<br>Navigator<br>代表的当前浏览器的信息，通过该对象可以来识别不同的浏览器<br>Location<br>代表当前浏览器的地址栏信息，通过Location可以获取地址栏信息，或者操作浏览器跳转页面<br>History<br>代表浏览器的历史记录，可以通过该对象来操作浏览器的历史记录<br>由于隐私原因，该对象不能获取到具体的历史记录，只能操作浏览器向前或向后翻页<br>而且该操作只在当次访问时有效<br>Screen<br>代表用户的屏幕的信息，通过该对象可以获取到用户的显示器的相关的信息</p>
<p>这些BOM对象在浏览器中都是作为window对象的属性保存的，<br>可以通过window对象来使用，也可以直接使用</p>
<h4 id="1-Navigator"><a href="#1-Navigator" class="headerlink" title="1.Navigator"></a>1.Navigator</h4><p>代表的当前浏览器的信息，通过该对象可以来识别不同的浏览器<br>由于历史原因，Navigator对象中的大部分属性都已经不能帮助我们识别浏览器了<br>一般我们只会使用userAgent来判断浏览器的信息，<br>userAgent是一个字符串，这个字符串中包含有用来描述浏览器信息的内容，<br>不同的浏览器会有不同的userAgent</p>
<p>火狐的userAgent<br>Mozilla5.0 (Windows NT 6.1; WOW64; rv:50.0) Gecko20100101 Firefox50.0</p>
<p>Chrome的userAgent<br>Mozilla5.0 (Windows NT 6.1; Win64; x64) AppleWebKit537.36 (KHTML, like Gecko) Chrome52.0.2743.82 Safari537.36</p>
<p>IE8<br>Mozilla4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; Trident7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E)</p>
<p>IE9<br>Mozilla5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E)</p>
<p>IE10<br>Mozilla5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E)</p>
<p>IE11<br>Mozilla5.0 (Windows NT 6.1; WOW64; Trident7.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; rv:11.0) like Gecko<br>在IE11中已经将微软和IE相关的标识都已经去除了，所以我们基本已经不能通过UserAgent来识别一个浏览器是否是IE了</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alert(navigator.appName);  </span><br><span class="line">  </span><br><span class="line">var ua = navigator.userAgent;  </span><br><span class="line">  </span><br><span class="line">console.log(ua);  </span><br><span class="line">  </span><br><span class="line">if(firefoxi.test(ua))&#123;  </span><br><span class="line">alert(&quot;你是火狐！！！&quot;);  </span><br><span class="line">&#125;else if(chromei.test(ua))&#123;  </span><br><span class="line">alert(&quot;你是Chrome&quot;);  </span><br><span class="line">&#125;else if(msiei.test(ua))&#123;  </span><br><span class="line">alert(&quot;你是IE浏览器~~~&quot;);  </span><br><span class="line">&#125;else if(&quot;ActiveXObject&quot; in window)&#123;  </span><br><span class="line">alert(&quot;你是IE11，枪毙了你~~~&quot;);  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="2-History"><a href="#2-History" class="headerlink" title="2.History"></a>2.History</h4><p>对象可以用来操作浏览器向前或向后翻页<br>length<br>属性，可以获取到当成访问的链接数量<br>back()<br>可以用来回退到上一个页面，作用和浏览器的回退按钮一样<br>forward()<br>可以跳转下一个页面，作用和浏览器的前进按钮一样<br>go()<br>可以用来跳转到指定的页面<br>它需要一个整数作为参数<br>1:表示向前跳转一个页面 相当于forward()<br>2:表示向前跳转两个页面<br>-1:表示向后跳转一个页面<br>-2:表示向后跳转两个页面</p>
<h4 id="3-Location"><a href="#3-Location" class="headerlink" title="3.Location"></a>3.Location</h4><p>该对象中封装了浏览器的地址栏的信息<br>如果直接打印location，则可以获取到地址栏的信息（当前页面的完整路径）<br>alert(location);<br>如果直接将location属性修改为一个完整的路径，或相对路径<br>则我们页面会自动跳转到该路径，并且会生成相应的历史记录<br>location = “http:<a href="http://www.baidu.com/">www.baidu.com</a>“;<br>location = “01.BOM.html”;<br>assign()<br>用来跳转到其他的页面，作用和直接修改location一样<br>reload()<br>用于重新加载当前页面，作用和刷新按钮一样<br>如果在方法中传递一个true，作为参数，则会强制清空缓存刷新页面<br>location.reload(true);<br>replace()<br>可以使用一个新的页面替换当前页面，调用完毕也会跳转页面<br>不会生成历史记录，不能使用回退按钮回退</p>
<h4 id="4-window"><a href="#4-window" class="headerlink" title="4.window"></a>4.window</h4><h5 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h5><p><strong>setInterval()</strong><br>定时调用<br>可以将一个函数，每隔一段时间执行一次<br>参数：<br>1.回调函数，该函数会每隔一段时间被调用一次<br>2.每次调用间隔的时间，单位是毫秒</p>
<p>返回值：<br>返回一个Number类型的数据<br>这个数字用来作为定时器的唯一标识<br><strong>clearInterval()可以用来关闭一个定时器</strong><br>方法中需要一个定时器的标识作为参数，这样将关闭标识对应的定时器</p>
<p>clearInterval()可以接收任意参数，<br>如果参数是一个有效的定时器的标识，则停止对应的定时器<br>如果参数不是一个有效的标识，则什么也不做</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var num = 1;  </span><br><span class="line">var timer = setInterval(function() &#123;  </span><br><span class="line">	count.innerHTML = num++;  </span><br><span class="line">	if(num == 11) &#123;  </span><br><span class="line">		//关闭定时器  </span><br><span class="line">		clearInterval(timer);  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;, 1000);  </span><br></pre></td></tr></table></figure>

<h5 id="延时调用"><a href="#延时调用" class="headerlink" title="延时调用"></a>延时调用</h5><p><strong>setTimeout</strong></p>
<p>延时调用一个函数不马上执行，而是隔一段时间以后在执行，而且只会执行一次<br>延时调用和定时调用的区别，定时调用会执行多次，而延时调用只会执行一次<br>延时调用和定时调用实际上是可以互相代替的，在开发中可以根据自己需要去选择</p>
<p>var timer = setTimeout(function(){<br>console.log(num++);<br>},3000);</p>
<p>使用clearTimeout()来关闭一个延时调用<br>clearTimeout(timer);</p>
<p>#类的操作</p>
<p><strong>直接修改元素的类css：</strong></p>
<p>通过style属性来修改元素的样式，每修改一个样式，浏览器就需要重新渲染一次页面。 这样的执行的性能是比较差的，而且这种形式当我们要修改多个样式时，也不太方便 我希望一行代码，可以同时修改多个样式</p>
<p>我们可以通过修改元素的class属性来间接的修改样式.这样一来，我们只需要修改一次，即可同时修改多个样式，浏览器只需要重新渲染页面一次，性能比较好，<br>并且这种方式，可以使表现和行为进一步的分离</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">box.className += &quot; b2&quot;;	//注意有空格，添加class属性  </span><br><span class="line">//定义一个函数，用来向一个元素中添加指定的class属性值  </span><br><span class="line">/*  </span><br><span class="line"> * 参数:  </span><br><span class="line"> * 	obj 要添加class属性的元素  </span><br><span class="line"> *  cn 要添加的class值  </span><br><span class="line"> * 	  </span><br><span class="line"> */  </span><br><span class="line">function addClass(obj, cn) &#123;  </span><br><span class="line">	if (!hasClass(obj, cn)) &#123;  </span><br><span class="line">		obj.className += &quot; &quot; + cn;  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;  </span><br><span class="line">/*  </span><br><span class="line"> * 判断一个元素中是否含有指定的class属性值  </span><br><span class="line"> * 	如果有该class，则返回true，没有则返回false  </span><br><span class="line"> * 	  </span><br><span class="line"> */  </span><br><span class="line">function hasClass(obj, cn) &#123;  </span><br><span class="line">	var reg = new RegExp(&quot;\\b&quot; + cn + &quot;\\b&quot;);  </span><br><span class="line">	return reg.test(obj.className);  </span><br><span class="line">&#125;  </span><br><span class="line">/*  </span><br><span class="line"> * 删除一个元素中的指定的class属性  </span><br><span class="line"> */  </span><br><span class="line">function removeClass(obj, cn) &#123;  </span><br><span class="line">	//创建一个正则表达式  </span><br><span class="line">	var reg = new RegExp(&quot;\\b&quot; + cn + &quot;\\b&quot;);  </span><br><span class="line">	//删除class  </span><br><span class="line">	obj.className = obj.className.replace(reg, &quot;&quot;);  </span><br><span class="line">&#125;  </span><br><span class="line">/*  </span><br><span class="line"> * toggleClass可以用来切换一个类  </span><br><span class="line"> * 	如果元素中具有该类，则删除  </span><br><span class="line"> * 	如果元素中没有该类，则添加  </span><br><span class="line"> */  </span><br><span class="line">function toggleClass(obj , cn)&#123;	  </span><br><span class="line">	//判断obj中是否含有cn  </span><br><span class="line">	if(hasClass(obj , cn))&#123;  </span><br><span class="line">		//有，则删除  </span><br><span class="line">		removeClass(obj , cn);  </span><br><span class="line">	&#125;else&#123;  </span><br><span class="line">		//没有，则添加  </span><br><span class="line">		addClass(obj , cn);  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h2 id="十六、JSON"><a href="#十六、JSON" class="headerlink" title="十六、JSON"></a>十六、JSON</h2><p><strong>JavaScript Object Notation</strong> JS对象表示法</p>
<h4 id="JSON-格式"><a href="#JSON-格式" class="headerlink" title="JSON 格式"></a>JSON 格式</h4><ol>
<li>复合类型的值只能是数组或对象，不能是函数、正则表达式对象、日期对象。</li>
<li>原始类型的值只有四种：字符串、数值（必须以十进制表示）、布尔值和<code>null</code>（不能使用<code>NaN</code>, <code>Infinity</code>, <code>-Infinity</code>和<code>undefined</code>）。</li>
<li>字符串<strong>必须使用双引号表示</strong>，不能使用单引号。</li>
<li>对象的键名必须放在双引号里面。</li>
<li>数组或对象最后一个成员的后面，不能加逗号。</li>
</ol>
<p>JS中的对象只有JS自己认识，其他的语言都不认识<br><strong>JSON就是一个特殊格式的字符串</strong>，这个字符串可以被任意的语言所识别，<br>并且可以转换为任意语言中的对象，JSON在开发中主要用来数据的交互<br>JSON和JS对象的格式一样，只不过<strong>JSON字符串中的属性名必须加双引号</strong><br>其他的和JS语法一致<br>JSON分类：<br>1.对象 {}<br>2.数组 []</p>
<p>JSON中允许的值：<br>1.字符串<br>2.数值<br>3.布尔值<br>4.null<br>5.对象<br>6.数组</p>
<p>举例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var arr = &#x27;[1,2,3,&quot;hello&quot;,true]&#x27;;  </span><br><span class="line">			  </span><br><span class="line">var obj2 = &#x27;&#123;&quot;arr&quot;:[1,2,3]&#125;&#x27;;  </span><br><span class="line">  </span><br><span class="line">var arr2 =&#x27;[&#123;&quot;name&quot;:&quot;孙悟空&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;男&quot;&#125;,&#123;&quot;name&quot;:&quot;孙悟空&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;男&quot;&#125;]&#x27;;  </span><br></pre></td></tr></table></figure>

<p>JSON工具类</p>
<p>json &gt; js对象<br>JSON.parse()<br>可以将以JSON字符串转换为js对象<br>它需要一个JSON字符串作为参数，会将该字符串转换为JS对象并返回</p>
<p>var o = JSON.parse(json);<br>var o2 = JSON.parse(arr);</p>
<p>var obj3 = {name:”猪八戒” , age:28 , gender:”男”};</p>
<p>JS对象 &gt; JSON<br>JSON.stringify() -ify/fy，表示”使……化。<br>可以将一个JS对象转换为JSON字符串<br>需要一个js对象作为参数，会返回一个JSON字符串</p>
<p>var str = JSON.stringify(obj3);<br>console.log(str);</p>
<p>JSON这个对象在IE7及以下的浏览器中不支持，所以在这些浏览器中调用时会报错</p>
<h2 id="十七、other"><a href="#十七、other" class="headerlink" title="十七、other"></a>十七、other</h2><h4 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h4><p>只读的<code>localStorage</code> 属性允许你访问一个<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document"><code>Document</code></a> 源（origin）的对象 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Storage"><code>Storage</code></a>；其存储的数据能在跨浏览器会话保留。<code>localStorage</code> 类似 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/sessionStorage"><code>sessionStorage</code></a>，但其区别在于：存储在 <code>localStorage</code> 的数据可以长期保留；而当页面会话结束——也就是说，当页面被关闭时，存储在 <code>sessionStorage</code> 的数据会被清除 。</p>
<h4 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h4><p>eval()<br>这个函数可以用来执行一段字符串形式的JS代码，并将执行结果返回<br>如果使用eval()执行的字符串中含有{},它会将{}当成是代码块<br>如果不希望将其当成代码块解析，则需要在字符串前后各加一个()</p>
<p>eval()这个函数的功能很强大，可以直接执行一个字符串中的js代码，<br>但是在开发中尽量不要使用，首先它的执行性能比较差，然后它还具有安全隐患</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var str = &#x27;&#123;&quot;name&quot;:&quot;孙悟空&quot;,&quot;age&quot;:18,&quot;gender&quot;:&quot;男&quot;&#125;&#x27;;  </span><br><span class="line">var obj = eval(&quot;(&quot;+str+&quot;)&quot;);  </span><br></pre></td></tr></table></figure>

<p>编码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;  </span><br><span class="line">&lt;html&gt;  </span><br><span class="line">	&lt;head&gt;  </span><br><span class="line">		&lt;meta charset=&quot;UTF-8&quot;&gt;  </span><br><span class="line">		&lt;title&gt;&lt;/title&gt;  </span><br><span class="line">		&lt;script type=&quot;text/javascript&quot;&gt;  </span><br><span class="line">			  </span><br><span class="line">			/*  </span><br><span class="line">			 * 在字符串中使用转义字符输入Unicode编码  </span><br><span class="line">			 * 	\u四位编码  </span><br><span class="line">			 */  </span><br><span class="line">			console.log(&quot;\u2620&quot;);	  </span><br><span class="line">		&lt;/script&gt;  </span><br><span class="line">	&lt;/head&gt;  </span><br><span class="line">	&lt;body&gt;		  </span><br><span class="line">		&lt;!--在网页中使用Unicode编码  </span><br><span class="line">			&amp;#编码; 这里的编码需要的是10进制  </span><br><span class="line">		--&gt;  </span><br><span class="line">		&lt;h1 style=&quot;font-size: 200px;&quot;&gt;&amp;#9760;&lt;/h1&gt;  </span><br><span class="line">		&lt;h1 style=&quot;font-size: 200px;&quot;&gt;&amp;#9856;&lt;/h1&gt;		  </span><br><span class="line">	&lt;/body&gt;  </span><br><span class="line">&lt;/html&gt;  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p>confirm()用于弹出一个带有确认和取消按钮的提示框<br>需要一个字符串作为参数，该字符串将会作为提示文字显示出来<br>如果用户点击确认则会返回true，如果点击取消则返回false<br>var flag = confirm(“确认删除”+name+”吗?”);</p>
<h2 id="十八、原生js"><a href="#十八、原生js" class="headerlink" title="十八、原生js"></a>十八、原生js</h2><h4 id="原生js实现复制内容到剪切板"><a href="#原生js实现复制内容到剪切板" class="headerlink" title="原生js实现复制内容到剪切板"></a>原生js实现复制内容到剪切板</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">copy() &#123;  </span><br><span class="line">    const input = document.createElement(&quot;input&quot;);  </span><br><span class="line">    document.body.appendChild(input);  </span><br><span class="line">    input.setAttribute(&quot;value&quot;,this.solution.code);  </span><br><span class="line">    input.select();  </span><br><span class="line">    if (document.execCommand(&quot;copy&quot;)) &#123;  </span><br><span class="line">        document.execCommand(&quot;copy&quot;);  </span><br><span class="line">        // console.log(&quot;复制成功&quot;);  </span><br><span class="line">    &#125;  </span><br><span class="line">    document.body.removeChild(input);  </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>vue</title>
    <url>/2021/09/02/vue/</url>
    <content><![CDATA[<h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h4 id="一、vue初体验"><a href="#一、vue初体验" class="headerlink" title="一、vue初体验"></a>一、vue初体验</h4><p><img src="/2021/09/02/vue/40.png"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">name</span>:<span class="string">&quot;code&quot;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//vue3</span></span><br><span class="line">   <span class="comment">// const app=Vue.createApp(&#123;</span></span><br><span class="line">   <span class="comment">//</span></span><br><span class="line">   <span class="comment">// &#125;);</span></span><br><span class="line">   <span class="comment">// //挂载</span></span><br><span class="line">   <span class="comment">// const vm=app.mount(&quot;#app&quot;);</span></span><br><span class="line">   <span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">       <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="keyword">return</span>&#123;</span><br><span class="line">               <span class="attr">message</span>:<span class="string">&#x27;this is a text&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;).mount(<span class="string">&quot;#app&quot;</span>);</span><br><span class="line"></span><br><span class="line">   app.message = <span class="string">&quot;hello vuejs&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="二、vue-列表展示"><a href="#二、vue-列表展示" class="headerlink" title="二、vue 列表展示"></a>二、vue 列表展示</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in movies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">movies</span>:[<span class="string">&#x27;大话西游&#x27;</span>,<span class="string">&#x27;海王&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="三、vue案例——计数器"><a href="#三、vue案例——计数器" class="headerlink" title="三、vue案例——计数器"></a>三、vue案例——计数器</h4><p>1.新的属性：methods该属性用于在Vue对象中定义方法 2.新的指令：@click，该指令用于监听某个元素的点击事件，并且需要指定当发生点击时，执行的方法（方法通常是methods中定义的方法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>当前计数：&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">counter</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">add</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">console</span>.log(<span class="string">&#x27;增加&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.counter++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">sub</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">console</span>.log(<span class="string">&#x27;减少&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.counter--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="四、vue中的MVVM"><a href="#四、vue中的MVVM" class="headerlink" title="四、vue中的MVVM"></a>四、vue中的MVVM</h4><p>model-view-viewModel</p>
<h4 id="五、vue生命周期"><a href="#五、vue生命周期" class="headerlink" title="五、vue生命周期"></a>五、vue生命周期</h4><h4 id="六、创建Vue实例传入的options"><a href="#六、创建Vue实例传入的options" class="headerlink" title="六、创建Vue实例传入的options"></a>六、创建Vue实例传入的options</h4><ol>
<li>el:</li>
</ol>
<ul>
<li>类型：string | HTMLElement</li>
<li>作用：决定之后Vue实例会管理哪一个DOM</li>
</ul>
<ol>
<li>data:</li>
</ol>
<ul>
<li>类型：Object | Function</li>
<li>作用：Vue实例对应的数据对象</li>
</ul>
<ol>
<li>methods:</li>
</ol>
<ul>
<li>类型：{[key:string]:Function}</li>
<li>作用：定义属于Vue的一些方法，可以在其他地方调用，也可以在指令中使用</li>
</ul>
<h4 id="七、插值操作"><a href="#七、插值操作" class="headerlink" title="七、插值操作"></a>七、插值操作</h4><p>1.Mustache语法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;messgae&#125;&#125;,李银河！<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;!--mustache语法中，不仅仅可以直接协变量，也可以写简单地表达式--&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName+lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter *2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">firstName</span>:<span class="string">&#x27;fyyeg&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">lastName</span>:<span class="string">&#x27;hfui&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">counter</span>:<span class="number">100</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>2.v-once指令</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-once&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app=new Vue(&#123;</span><br><span class="line">        el:&quot;#app&quot;,</span><br><span class="line">        data:&#123;</span><br><span class="line">            message:&#x27;你好啊&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>3.v-text指令（会覆盖）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message&quot;</span>&gt;</span>,李银河<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>4.v-html指令</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">url</span>:<span class="string">&#x27;&lt;a href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>5.v-pre指令</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:&#123;</span><br><span class="line">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>6.v-cloak指令</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    [v-cloak]&#123;</span><br><span class="line">        <span class="attr">display</span>:none;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">//在vue解析之前，div中有一个属性v-cloak</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">//在vue解析之后，div中没有</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,<span class="number">1000</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="八、动态绑定属性"><a href="#八、动态绑定属性" class="headerlink" title="八、动态绑定属性"></a>八、动态绑定属性</h4><p>1.v-bind指令</p>
<ul>
<li>作用：动态绑定属性</li>
<li>缩写：：</li>
<li>预期：any(with argument)|Object(without argument)</li>
<li>参数：attrOrProp(optional)</li>
</ul>
<p>1.v-bind的基本使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;!--错误的做法：这里不可以使用mustache语法--&gt;</span><br><span class="line">    &lt;!--&lt;img src=&quot;&#123;&#123;imgURL&#125;&#125;&quot; alt=&quot;&quot;&gt;--&gt;</span><br><span class="line">    &lt;!--正确的做法：使用v-bind指令--&gt;</span><br><span class="line">    &lt;img v-bind:src=&quot;imgURL&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;a v-bind:href=&quot;imgHref&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--语法糖的写法--&gt;</span><br><span class="line">    &lt;img :src=&quot;imgURL&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;a :href=&quot;imgHref&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app=new Vue(&#123;</span><br><span class="line">        el:&quot;#app&quot;,</span><br><span class="line">        data:&#123;</span><br><span class="line">            message:&#x27;你好啊&#x27;,</span><br><span class="line">              imgURL:&#x27;https://img0.baidu.com/it/u=251614576,2693916083&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;,</span><br><span class="line">            imgHref:&#x27;http://www.baidu.com&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.v-bind动态绑定（一）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;key1:value2,key2:value2&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;类名1:boolean,类名2:boolean&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     --&gt;</span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;active:isActive,line:isLine&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;getClasses()&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">isActive</span>:<span class="literal">true</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">isLine</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">btnClick</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.isActive=!<span class="built_in">this</span>.isActive;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">getClasses</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span> &#123;<span class="attr">active</span>:<span class="built_in">this</span>.isActive,<span class="attr">line</span>:<span class="built_in">this</span>.isLine&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.v-bind动态绑定（对象语法）</p>
<ul>
<li>绑定方式：对象语法 对象语法的含义是：class后面跟的是一个对象</li>
<li>对象语法有下面这些语法： （1）直接通过绑定{}绑定一个类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123;&#x27;active&#x27;:isActive&#125;&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）也可以通过判断，传入多个值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123;&#x27;active:isActive,&#x27;line&#x27;:isLine&#125;&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(3)和普通的类同时存在，并不冲突 注：如果isActive和isLine都为true，那么会有title/active/line三个类</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123;&#x27;active:isActive,&#x27;line&#x27;:isLine&#125;&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(4)如果过于复杂，可以放在一个methods或者computed 注：classes是一个计算属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;classes&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.v-bind动态绑定（数组语法）</p>
<ul>
<li>绑定方式：数组语法 数组语法的含义是：class后面跟的是一个数组</li>
<li>数组语法有下面这些用法： （1）直接通过绑定{}绑定一个类</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;active&#x27;]&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）也可以传入多个值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;active&#x27;,&#x27;line&#x27;]&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(3)和普通的类同时存在，并不冲突 注：会有title/active/line三个类</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;active&#x27;,&#x27;line&#x27;]&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(4)如果过于复杂，可以放在一个methods或者computed 注：classes是一个计算属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;classes&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>5.v-bind绑定style(二) （1）绑定方式一：对象语法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">:style=<span class="string">&quot;&#123;color:currentColor,fontSize:fontSize+&#x27;px&#x27;&#125;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>style后面跟的是一个对象类型</p>
<ul>
<li>对象的key是CSS属性名称</li>
<li>对象的value是具体赋的值，值可以来自于data中的属性 （2）绑定方式二：数组语法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div v-bind:style=<span class="string">&quot;[baseStyles,overridingStyles]&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>style后面跟的是一个数组类型</p>
<ul>
<li>多个值以分割即可</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;key(属性名):value(属性值)&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        &lt;!--<span class="string">&#x27;50px&#x27;</span>必须加上单引号，否则当做一个变量去解析--&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:&#x27;50px&#x27;&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        &lt;!--finalSize当成一个变量使用--&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:finalSize&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:finalSize+&#x27;px&#x27;,backgroundColor:finalColor&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">finalSize</span>:<span class="number">100</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">finalColor</span>:<span class="string">&#x27;red&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[baseStyle]&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">baseStyle</span>:&#123;<span class="attr">backgroundColor</span>:<span class="string">&#x27;red&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="九、计算属性"><a href="#九、计算属性" class="headerlink" title="九、计算属性"></a>九、计算属性</h4><p>1.计算属性的基本使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFullName()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">firstName</span>:<span class="string">&#x27;dhuewh&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">lastName</span>:<span class="string">&#x27;dhuieh&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">fullName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="function"><span class="title">getFullName</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.计算属性的复杂操作</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>总价格：&#123;&#123;totalPrice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">books</span>:[</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">110</span>,<span class="attr">name</span>:<span class="string">&#x27;fhuirw&#x27;</span>,<span class="attr">price</span>:<span class="number">110</span>&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">111</span>,<span class="attr">name</span>:<span class="string">&#x27;fhfefw&#x27;</span>,<span class="attr">price</span>:<span class="number">170</span>&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">112</span>,<span class="attr">name</span>:<span class="string">&#x27;fewfwerw&#x27;</span>,<span class="attr">price</span>:<span class="number">710</span>&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">113</span>,<span class="attr">name</span>:<span class="string">&#x27;fgrgrew&#x27;</span>,<span class="attr">price</span>:<span class="number">180</span>&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">totalPrice</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">let</span> result=<span class="number">0</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                result+=i.price;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">return</span> result;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.计算属性的setter和getter</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFullName()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">firstName</span>:<span class="string">&#x27;dhuewh&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">lastName</span>:<span class="string">&#x27;dhuieh&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// fullName:function()&#123;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">//     return this.firstName+&#x27; &#x27;+this.lastName;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">//计算属性一般是没有set方法，只读属性</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">fullName</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">const</span> names=newValue.split(<span class="string">&#x27; &#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.firstName=names[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.lastName=names[<span class="number">1</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="function"><span class="title">getFullName</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十、v-on（事件监听）"><a href="#十、v-on（事件监听）" class="headerlink" title="十、v-on（事件监听）"></a>十、v-on（事件监听）</h4><p>1.v-on介绍</p>
<ul>
<li>作用：绑定事件监听器</li>
<li>缩写：@</li>
<li>预期：Function | Inline Statement |Object</li>
<li>参数：event</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span> --&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">counter</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">decrement</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.v-on的参数问题</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--事件调用的方法没有参数--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click()&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        &lt;!--在事件定义时，写方法时省略了小括号，但是方法本身需要一个参数的，这个时候，</span><br><span class="line">        Vue会默认将浏览器生产的event事件对象作为参数与传入到方法--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click(123)&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click()&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        &lt;!--方法定义时，我们需要event对象，同时又需要其他参数--&gt;</span><br><span class="line">        &lt;!--在调用方式，如何手动的获取到浏览器参数的event对象：$event--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click(a,$event)&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">a</span>:<span class="number">123</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn1Click</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;btn1Click&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn2Click</span>(<span class="params">event</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;----------&quot;</span>,event);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn3Click</span>(<span class="params">a,event</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;======&quot;</span>,a,event);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.v-on的修饰符</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--<span class="number">1.</span>.stop修饰符的使用--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            aaaaa</span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        &lt;!--<span class="number">2.</span>.prevent修饰符的使用--&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;baidu&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;submitClick&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--3..enter监听某个键盘的键帽--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;keyUp&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--4..once修饰符的使用--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;btn2Click&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;btnClick&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">divClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;divClick&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">submitClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;submitClick&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">keyUp</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;keyUp&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn2Click</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;btn2Click&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<h4 id="十一、条件判断"><a href="#十一、条件判断" class="headerlink" title="十一、条件判断"></a>十一、条件判断</h4><p>1.v-if的使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isShow</span>:<span class="literal">false</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.v-if和v-else的使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>isShow为false时，显示我<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isShow</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.v-if和v-else-if和v-else的使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;score&gt;=90&quot;</span>&gt;</span>优秀<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score&gt;=80&quot;</span>&gt;</span>良好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score&gt;=60&quot;</span>&gt;</span>及格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>不及格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;result&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">score</span>:<span class="number">90</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">result</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">let</span> showMessage=<span class="string">&#x27;&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">if</span>(<span class="built_in">this</span>.score&gt;=<span class="number">90</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;优秀&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">this</span>.score&gt;=<span class="number">80</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;良好&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">this</span>.score&gt;=<span class="number">60</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;及格&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;不及格&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">return</span> showMessage;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125; </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.用户登录切换小案例</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;isUser&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>用户账号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户账号&quot;</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>用户邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户邮箱&quot;</span> <span class="attr">key</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isUser =!isUser&quot;</span>&gt;</span>切换类型<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isUser</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>5.v-show的使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--v-<span class="keyword">if</span>:当条件为<span class="literal">false</span>时，包含v-<span class="keyword">if</span>指令的元素，根本就不会存在dom中--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">id</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        &lt;!--v-show:当条件为<span class="literal">false</span>时，v-show只是给我们的元素添加一个行内样式：display:none--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">id</span>=<span class="string">&quot;bbb&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isShow</span>:<span class="literal">false</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十一、循环遍历"><a href="#十一、循环遍历" class="headerlink" title="十一、循环遍历"></a>十一、循环遍历</h4><p>1.v-for循环遍历数组</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--<span class="number">1.</span>在遍历的过程中，没有使用索引值（下标值）--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in names&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">        &lt;!--<span class="number">2.</span>在遍历的过程中，获取索引值--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in names&quot;</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">names</span>:[<span class="string">&#x27;fuew&#x27;</span>,<span class="string">&#x27;few&#x27;</span>,<span class="string">&#x27;ruf&#x27;</span>,<span class="string">&#x27;kjeg&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.v-for循环遍历对象</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">         &lt;!--<span class="number">1.</span>在遍历对象的过程中，如果只是获取一个值，那么获取到的是value--&gt;</span><br><span class="line">         <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in info&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">        &lt;!--<span class="number">2.</span>获取key和value 格式：(value,key)--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;--&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">         &lt;!--<span class="number">3.</span>获取key和value和index 格式：(value,key,index)--&gt;</span><br><span class="line">         <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key,index) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;--&#123;&#123;key&#125;&#125;--&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">info</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">name</span>:<span class="string">&#x27;why&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">age</span>:<span class="number">18</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">height</span>:<span class="number">1.99</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.v-for使用过程添加key</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!--key的作用是为了高效地更新DOM--&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="comment">&lt;!--保证唯一性--&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">letters</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.哪些数组是响应式的</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">letters</span>:[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//1.push方法</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.push(<span class="string">&#x27;AAA&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//2.通过索引值修改值（无法修改）</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters[<span class="number">0</span>]=<span class="string">&#x27;djiw&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//3.pop()删除数组最后一个元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.pop();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//4.shift()删除数组第一个元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.shift();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//5.unshift()在数组最前面添加元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.unshift(<span class="string">&#x27;aaa&#x27;</span>,<span class="string">&#x27;fw&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//6.splice作用：删除元素/插入元素/替换元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//删除元素：第二个参数传入你要删除几个元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//替换元素：第二个参数，表示我们要替换几个元素，后面适用于替换前面的元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//插入元素：第二个元素，传入0，并且后面跟上要插入的元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">// splice(start);</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.splice(<span class="number">2</span>,<span class="built_in">this</span>.letters.length-<span class="number">2</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.splice(<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;p&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="string">&#x27;x&#x27;</span>,<span class="string">&#x27;y&#x27;</span>,<span class="string">&#x27;z&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//7.sort()</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.sort();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//8.reverse()</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.reverse();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>5.作业(v-for和v-bind的结合)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .active&#123;</span><br><span class="line">        <span class="attr">color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;!--作业需求：点击列表中的哪一项，那么该项的文字变成红色--&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in movies&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:currentIndex==index&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;liClick(index)&quot;</span>&gt;</span>&#123;&#123;index&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">movies</span>:[<span class="string">&#x27;海王&#x27;</span>,<span class="string">&#x27;海尔兄弟&#x27;</span>,<span class="string">&#x27;火影忍者&#x27;</span>,<span class="string">&#x27;进击的巨人&#x27;</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">currentIndex</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="function"><span class="title">liClick</span>(<span class="params">index</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.currentIndex=index;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>6.表单控件v-model（实现表单元素和数据的双向绑定） （1）v-model其实是一个语法糖，它的背后本质上是包含两个操作：</p>
<ul>
<li>v-bind绑定一个value属性</li>
<li>v-on指令给当前元素绑定input事件</li>
</ul>
<p>（2）v-model的基本使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;&#123;message&#125;&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（3）v-model的原理</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- &lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt; --&gt;</span><br><span class="line">        &lt;!-- &lt;input type=&quot;text&quot; :value=&quot;message&quot; @input=&quot;valueChange&quot;&gt; --&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; :value=&quot;message&quot; @input=&quot;message=event.target.value&quot;&gt;</span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        const app=new Vue(&#123;</span><br><span class="line">            el:&quot;#app&quot;,</span><br><span class="line">            data:&#123;</span><br><span class="line">                message:&quot;你好vuejs&quot;,</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                valueChange(event)&#123;</span><br><span class="line">                    this.message=event.target.value;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>案例的解析</p>
<ul>
<li>当我们在输入框输入内容时</li>
<li>因为input中的v-model绑定了message，所以会实时将输入的内容传递给message,message发生改变</li>
<li><ul>
<li><ul>
<li>当message发生改变时，因为上面我们使用Mustachce语法，将message的值插入到DOM中，所以DOM会发生响应的改变</li>
</ul>
</li>
</ul>
</li>
<li>所以通过v-model实现了双向的绑定</li>
<li>也可以将v-model用于textareea匀速</li>
</ul>
<p>7.v-model结合radio类型</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">       &lt;!--加上name才会互斥，但是现在有加上v-model绑定同一个属性，就可以不用加，因为也会实现互斥--&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男</span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>女 </span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">label</span>&gt;</span> </span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您的性别是:&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>8.v-model结合checkbox类型 （1）checkbox单选框</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--checkbox单选框--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;agree&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;agree&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;isAgree&quot;</span>&gt;</span>同意协议</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的是：&#123;&#123;isAgree&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">&quot;!isAgree&quot;</span>&gt;</span>下一步<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isAgree</span>:<span class="literal">false</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）checkbox多选框</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--checkbox多选框--&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;篮球&quot; v-model=&quot;hobbies&quot;&gt;篮球</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;足球&quot; v-model=&quot;hobbies&quot;&gt;足球</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;羽毛球&quot; v-model=&quot;hobbies&quot;&gt;羽毛球</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;乒乓球&quot; v-model=&quot;hobbies&quot;&gt;乒乓球</span><br><span class="line">        &lt;h2&gt;您的爱好是：&#123;&#123;hobbies&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;label v-for=&quot;item in originHobbies&quot; :for=&quot;item&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :value=&quot;item&quot; :id=&quot;item&quot; v-model=&quot;hobbies&quot;&gt;&#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        const app=new Vue(&#123;</span><br><span class="line">            el:&quot;#app&quot;,</span><br><span class="line">            data:&#123;</span><br><span class="line">                message:&quot;你好vuejs&quot;,</span><br><span class="line">                isAgree:false,</span><br><span class="line">                hobbies:[],</span><br><span class="line">                originHobbies:[&#x27;篮球&#x27;,&#x27;足球&#x27;,&#x27;乒乓球&#x27;,&#x27;羽毛球&#x27;,&#x27;台球&#x27;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>9.v-model结合select类型 （1）选择一个</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--选择一个--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruit&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;香蕉&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;榴莲&quot;</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;葡萄&quot;</span>&gt;</span>葡萄<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>选择的是：&#123;&#123;fruit&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">fruit</span>:<span class="string">&#x27;香蕉&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）选择多个</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">       &lt;!--选择多个--&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruits&quot;</span> <span class="attr">multiple</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;香蕉&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;榴莲&quot;</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;葡萄&quot;</span>&gt;</span>葡萄<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>选择的是：&#123;&#123;fruits&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">fruits</span>:[]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10.v-model修饰符</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--<span class="number">1.</span>修饰符：lazy--&gt;</span><br><span class="line">        &lt;!--按enter再改变，不是边打边改变--&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model.lazy=&quot;message&quot;&gt;</span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">        &lt;!--2.修饰符：number--&gt;</span><br><span class="line">        &lt;input type=&quot;number&quot; v-model.number=&quot;age&quot;&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;age&#125;&#125;-&#123;&#123;typeof age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;!--3.修饰符：trim--&gt;</span><br><span class="line">        &lt;!--可以忽略前面输入的空格和后面的空格--&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model.trim=&quot;name&quot;&gt;</span><br><span class="line">        &lt;h2&gt;您输入的名字是：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        const app=new Vue(&#123;</span><br><span class="line">            el:&quot;#app&quot;,</span><br><span class="line">            data:&#123;</span><br><span class="line">                message:&quot;你好vuejs&quot;,</span><br><span class="line">                age:0,</span><br><span class="line">                name:&#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十二、书籍购物车案例"><a href="#十二、书籍购物车案例" class="headerlink" title="十二、书籍购物车案例"></a>十二、书籍购物车案例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.js文件</span></span><br><span class="line"><span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">books</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">1</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《算法导论》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2006-9&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">85.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">2</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《UNIX编程艺术》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2006-2&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">59.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">3</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《编程珠玑》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2008-10&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">39.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">4</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《代码大全》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2006-3&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">128.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="comment">// getFinalPrice(price)&#123;</span></span><br><span class="line">        <span class="comment">//     return &#x27;￥&#x27;+price.toFixed(2);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="function"><span class="title">increment</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.books[index].count++;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">decrement</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.books[index].count--;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">removeHandle</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.books.splice(index,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">filters</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">showPrice</span>(<span class="params">price</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;￥&#x27;</span>+price.toFixed(<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">computed</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">totalPrice</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">                totalPrice+=p.price*p.count;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> totalPrice;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//css文件</span></span><br><span class="line">table&#123;</span><br><span class="line">    <span class="attr">border</span>:1px solid #e9e9e9;</span><br><span class="line">    border-collapse: collapse;</span><br><span class="line">    border-spacing: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">th,td&#123;</span><br><span class="line">    <span class="attr">padding</span>:8px 16px;</span><br><span class="line">    border:1px solid #e9e9e9;</span><br><span class="line">    text-align:center;</span><br><span class="line">&#125;</span><br><span class="line">th&#123;</span><br><span class="line">    background-color:#f7f7f7;</span><br><span class="line">    color:#5c6b77;</span><br><span class="line">    font-weight: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//html文件</span></span><br><span class="line">&lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;style.css&quot;</span>&gt;</span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;books.length&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>书籍名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>出版日期<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>价格<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>购买数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in books&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.date&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="comment">&lt;!-- &lt;td&gt;&#123;&#123;&#x27;￥&#x27;+item.price.toFixed(2)&#125;&#125;&lt;/td&gt; --&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="comment">&lt;!-- &lt;td&gt;&#123;&#123; getFinalPrice(item.price)&#125;&#125;&lt;/td&gt; --&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="comment">&lt;!-- &lt;td&gt;&#123;&#123;item.price|过滤器&#125;&#125;&lt;/td&gt;将前面的数据过滤 --&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.price|showPrice&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement(index)&quot;</span> <span class="attr">v-bind:disabled</span>=<span class="string">&quot;item.count&lt;=1&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">                            &#123;&#123;item.count&#125;&#125;</span></span><br><span class="line"><span class="xml">                            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment(index)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeHandle(index)&quot;</span>&gt;</span>移除<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>总价格：&#123;&#123;totalPrice|showPrice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>购物车为空<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十三、js高阶函数的使用"><a href="#十三、js高阶函数的使用" class="headerlink" title="十三、js高阶函数的使用"></a>十三、js高阶函数的使用</h4><p>1.普通的for循环</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.books.lenght;i++)&#123;</span><br><span class="line">    totalPrice+=<span class="built_in">this</span>.books[i].price*<span class="built_in">this</span>.books[i].count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.for(let i in this.books)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">    <span class="keyword">const</span> book=<span class="built_in">this</span>.books[i];</span><br><span class="line">    totalPrice+=book.price*book.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.for(let i of this.books)</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">    totalPrice+=item.price*item.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.需求 （1）传统做法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">111</span>,<span class="number">222</span>,<span class="number">444</span>,<span class="number">40</span>,<span class="number">50</span>];</span><br><span class="line"><span class="comment">//1.需求：取出所有小于100的数字</span></span><br><span class="line"><span class="keyword">let</span> newNums=[]; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> nums)&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">100</span>)&#123;</span><br><span class="line">        newNums.push(n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.将所有小于100的数字进行转换：全部*2</span></span><br><span class="line"><span class="keyword">let</span> new2Nums=[]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> newNums)&#123;</span><br><span class="line">    new2Nums.push(n*<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(new2Nums);</span><br><span class="line"><span class="comment">//3.需求：将所有new2Nums数字相加，得到最重的</span></span><br><span class="line"><span class="keyword">let</span> total=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> new2Nums)&#123;</span><br><span class="line">    total +=n</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(total)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(2)filter/map/reduce filter中的回调函数有一个要求：必须返回一个boolean值 true:当返回true时，函数内部会自动将这次回调的n加入到新的数组中 false:当返回false时，函数内部会过滤这次的n</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">111</span>,<span class="number">222</span>,<span class="number">444</span>,<span class="number">40</span>,<span class="number">50</span>];</span><br><span class="line"><span class="comment">//1.filter函数的使用</span></span><br><span class="line"><span class="comment">//10,20,40,50</span></span><br><span class="line"><span class="keyword">let</span> newNums=nums.filter(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n&lt;<span class="number">100</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newNums)</span><br><span class="line"><span class="comment">//2.map函数的使用</span></span><br><span class="line"><span class="keyword">let</span> new2Nums=newNums.map(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(new2Nums);</span><br><span class="line"><span class="comment">//3.reduce函数的使用</span></span><br><span class="line"><span class="comment">//reduce作用对数组中所有的内容进行汇总</span></span><br><span class="line">new2Nums.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> preValue+n</span><br><span class="line">&#125;,<span class="number">0</span>)<span class="comment">//这个0是初始值</span></span><br><span class="line"><span class="comment">//第一次：preValue 0 n 20</span></span><br><span class="line"><span class="comment">//第二次：preValue 20 n 40</span></span><br><span class="line"><span class="comment">//第三次：preValue 60 n 80</span></span><br><span class="line"><span class="comment">//第四次：preValue 140 n 100</span></span><br><span class="line"><span class="comment">//最终代码</span></span><br><span class="line"><span class="keyword">let</span> total=nums.filter(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n&lt;<span class="number">100</span></span><br><span class="line">&#125;).map(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n*<span class="number">2</span></span><br><span class="line">&#125;).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prevValue,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prevValue+n</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//最终版</span></span><br><span class="line"><span class="keyword">let</span> total=nums.filter(<span class="function"><span class="params">n</span>=&gt;</span>n&lt;<span class="number">100</span>).map(<span class="function"><span class="params">n</span>=&gt;</span>n*<span class="number">2</span>).reduce(<span class="function">(<span class="params">preValue,n</span>)=&gt;</span>preValue+n);</span><br><span class="line"></span><br><span class="line"><span class="comment">//案例的</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.books.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre,book</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre+book.price*book.count</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十四、组件化"><a href="#十四、组件化" class="headerlink" title="十四、组件化"></a>十四、组件化</h4><p><img src="/2021/09/02/vue/41.png"></p>
<p>1.组件化的实现和使用步骤</p>
<p>组件的使用分成三个步骤：</p>
<ul>
<li><p>创建组件构造器</p>
</li>
<li><p>注册组件</p>
</li>
<li><p>使用组件</p>
<p><img src="/2021/09/02/vue/2.png"></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">		&lt;!--使用--&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1.创建组件构造器对象</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> cpnC=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                    &lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">            `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//2.注册组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,cpnC)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.注册步骤解析</p>
<p>（1）Vue.extend()</p>
<ul>
<li>调用Vue.extend()创建的是一个组件构造器</li>
<li>通常在创建组件构造器时，传入template代表我们自定义组件的模板</li>
<li>该模板就是在使用到组件的地方，要显示的HTML代码</li>
<li>事实上，这种写法在Vue2.x的文档中几乎已经看不到了，它会直接使用语法糖</li>
</ul>
<p>（2）Vue.component():</p>
<ul>
<li>调用Vue.component()是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称</li>
<li>所以需要传递两个参数：1、注册组件的标签名 2、组件构造器</li>
</ul>
<p>3.全局组件和局部组件</p>
<p>（1）当我们通过调用Vue.component()注册组件时，组件的注册是全局的，这意味着该组件可以在任意Vue实例下使用</p>
<p>（2）如果我们注册的组件时挂载在某个实例中，那么就是一个局部组件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//1.创建组件构造器对象</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> cpnC=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">             `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//  //2.注册组件(全局组件，意味着可以在多个Vue的实例下面应用)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//  Vue.component(&#x27;cpn&#x27;,cpnC)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="comment">//cpn使用时的标签名</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">cpn</span>:cpnC</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.父组件和子组件</p>
<p>（1）组件和组件之间存在层级关系</p>
<p>（2）而其中一种非常重要的关系就是父子组件的关系</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn2</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn2</span>&gt;</span></span></span><br><span class="line"><span class="xml">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//1.创建第一个组件构造器（子组件）</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> cpnC1=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;h2&gt;我是标题1&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">             `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//2.创建第二个组件构造器（父组件）</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> cpnC2=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;h2&gt;我是标题2&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;cpn1&gt;&lt;/cpn1&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">             `</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="comment">//在哪里注册，就只能在哪里使用而已</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">cpn1</span>:cpnC1</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//他也是一个组件，root</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">cpn2</span>:cpnC2</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>5.注册组件的语法糖写法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn1</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn1</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn2</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1.全局组件注册的语法糖</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1.创建组件构造器</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// const cpn1=Vue.extend()</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//2.注册组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn1&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                    &lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">            `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">cpn2</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                        &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                            &lt;h2&gt;我是标题2&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                        &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                    `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>6.组件模板抽离的写法</p>
<p>提供了两种方法 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;!--<span class="number">1.</span>script标签，注意：类型必须是text/x-template--&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/x-template&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span><span class="handlebars"><span class="xml"></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">    </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> --&gt;</span><br><span class="line">    &lt;!--template标签--&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//注册一个全局组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>7.组件可以访问Vue实例数据？（不可以）</p>
<p>（1）组件是一个单独功能模块的封装：</p>
<p>这个模块有属于自己的HTML模板，也应该有属性自己的数据data</p>
<p>（2）组件中的数据时保存在哪里？顶层的Vue实例中吗？</p>
<p><img src="/2021/09/02/vue/1.png"></p>
<p>8.组件中的数据存放问题</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//注册一个全局组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">title</span>:<span class="string">&#x27;adc&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>9.为什么组件data必须是一个函数</p>
<p>当我们的data是一个函数的时候，每一个实例的data属性都是独立的，不会相互影响了</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数：&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">counter</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter++</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">decrement</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter--</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hekk&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10.父子组件的通信</p>
<p>在开发中，往往一些数据确实需要从上层传递到下层：</p>
<p>比如在一个页面中，我们从服务器请求到了很多的数据。其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示，这个时候，并不会让子组件再次发送一个网络请求，而是直接让大组件（父组件）将数据传递给小组件（子组件）</p>
<p>如何进行父子组件间的通信</p>
<ul>
<li>通过props向子组件传递数据</li>
<li>通过事件向父组件发送消息</li>
</ul>
<p><img src="/2021/09/02/vue/myBlog\source_posts\vue\3.png"></p>
<p>（1）在组件中，使用选项props来声明需要从父级接受到的数据</p>
<p>props的值有两种方式：</p>
<ul>
<li>方式一：字符串数组，数组中的字符串就是传递时的名称</li>
<li>方式二：对象，对象可以设置传递时的类型，也可以设置默认值等</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">cpn</span> <span class="attr">v-bind:cmovies</span>=<span class="string">&quot;movies&quot;</span> <span class="attr">:cmessage</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in cmovies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//父传子：props</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> cpn=&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">template</span>:<span class="string">&#x27;#cpn&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="comment">// props:[&#x27;cmovies&#x27;,&#x27;cmessage&#x27;]</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">props</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">//1.类型限制</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">// cmovies:Array,</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">// cmessage:String</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">//2.提供一些默认值</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">cmessage</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">type</span>:<span class="built_in">String</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">default</span>:<span class="string">&#x27;aaaa&#x27;</span>,<span class="comment">//设置默认的类型</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">required</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">//类型是对象或者数组时，默认值必须是一个函数</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">cmovies</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">type</span>:<span class="built_in">Array</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="comment">// default:[]//会报错，在vue2.5.17以上</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="function"><span class="title">default</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                       <span class="keyword">return</span> []</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">message</span>:<span class="string">&#x27;hekk&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">movies</span>:[<span class="string">&#x27;海王&#x27;</span>,<span class="string">&#x27;冒险家&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               cpn</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;my-component&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>:&#123;</span><br><span class="line">        <span class="comment">//基础的类型检查（&#x27;null&#x27;匹配任何类型）</span></span><br><span class="line">        <span class="attr">propA</span>:<span class="built_in">Number</span>,</span><br><span class="line">        <span class="comment">//多个可能的类型</span></span><br><span class="line">        <span class="attr">props</span>:[<span class="built_in">String</span>,<span class="built_in">Number</span>],</span><br><span class="line">        <span class="comment">//必填的字符串</span></span><br><span class="line">        <span class="attr">propC</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line">            <span class="attr">requires</span>:<span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//带有默认值的数字</span></span><br><span class="line">        <span class="attr">propD</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="built_in">Number</span>,</span><br><span class="line">            <span class="attr">default</span>:<span class="number">100</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//带有默认值的对象</span></span><br><span class="line">        <span class="attr">propE</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="built_in">Object</span>,</span><br><span class="line">            <span class="comment">//对象或数组默认值必须从一个工厂函数获取</span></span><br><span class="line">            <span class="attr">default</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;<span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//自定义验证函数</span></span><br><span class="line">        <span class="attr">propF</span>:&#123;</span><br><span class="line">            <span class="attr">validator</span>:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">                <span class="comment">//这个值必须匹配下列字符串中的一个</span></span><br><span class="line">                <span class="keyword">return</span> [<span class="string">&#x27;success&#x27;</span>,<span class="string">&#x27;warning&#x27;</span>,<span class="string">&#x27;danger&#x27;</span>].indexOf(value)!=-<span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）props驼峰标识</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:c-info</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:c-message</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cInfo&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cMessage&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cpn=&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">template</span>:<span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">props</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cInfo</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">type</span>:<span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">default</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="attr">cMessage</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">type</span>:<span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">default</span>:<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">info</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">name</span>:<span class="string">&#x27;why&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">height</span>:<span class="number">1.88</span></span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;aaa&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                cpn</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（3）子级向父级传递</p>
<p>通过自定义事件来完成</p>
<ul>
<li>什么时候需要自定义事件呢？<ul>
<li>当子组件需要向父组件传递数据时，就要用到自定义事件了</li>
<li>我们之间学习的v-on不仅仅可以用于监听DOM事件，也可以用于组件间的自定义事件</li>
</ul>
</li>
<li>自定义事件的流程：<ul>
<li>在子组件中，通过$emit()来触发事件</li>
<li>在父组件中，通过v-on来监听子组件事件</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">itemclick</span>=<span class="string">&quot;cpnClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">&quot;item in categories&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick(item)&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">       <span class="comment">//1.子组件</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">const</span> cpn=&#123;</span></span><br><span class="line"><span class="javascript">           <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">           <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="attr">categories</span>:[</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;aaa&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;手机管家&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;bbb&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;热门推荐&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;ccc&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;家用家电&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;ddd&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;电脑办公&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                   ]</span></span><br><span class="line"><span class="javascript">               &#125;</span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">               <span class="comment">//发射事件。自定义事件</span></span></span><br><span class="line"><span class="javascript">               <span class="function"><span class="title">btnClick</span>(<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="built_in">this</span>.$emit(<span class="string">&#x27;itemclick&#x27;</span>,item);</span></span><br><span class="line"><span class="javascript">               &#125;</span></span><br><span class="line"><span class="javascript">           &#125;</span></span><br><span class="line"><span class="javascript">       &#125;</span></span><br><span class="line"><span class="javascript">       <span class="comment">//2.父组件</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">           <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">               <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">               cpn</span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">               <span class="function"><span class="title">cpnClick</span>(<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="built_in">console</span>.log(<span class="string">&quot;cpnClick&quot;</span>,item);</span></span><br><span class="line"><span class="javascript">               &#125;</span></span><br><span class="line"><span class="javascript">           &#125;</span></span><br><span class="line"><span class="javascript">       &#125;)</span></span><br><span class="line"><span class="javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>例子</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">childincrement</span>=<span class="string">&quot;changetotal&quot;</span> @<span class="attr">childdecrement</span>=<span class="string">&quot;changetotal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>点击次数:&#123;&#123;total&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment()&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement()&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//子组件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cpn=&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">counter</span>:<span class="number">0</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.counter++;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;childincrement&#x27;</span>,<span class="built_in">this</span>.counter);</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">decrement</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.counter--;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;childdecrement&#x27;</span>,<span class="built_in">this</span>.counter);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//父组件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">total</span>:<span class="number">0</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                cpn</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">changetotal</span>(<span class="params">counter</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.total=counter;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>11.组件访问方式</p>
<ul>
<li>父组件访问子组件：使用$children或$refs<ul>
<li>this.$children是一个数组类型，它包含所有子组件对象</li>
</ul>
</li>
<li>子组件访问父组件：使用$parent</li>
</ul>
<p>（1）父访问子</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">ref</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//1.$children</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// console.log(this.$children);</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// this.$children[0].showMessage();</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// console.log(this.$children[0].name);</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//2.$refs--&gt;对象类型，默认是一个空的对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.aaa.name)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="attr">name</span>:<span class="string">&#x27;hhh&#x27;</span></span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="function"><span class="title">showMessage</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="string">&quot;showMessage&quot;</span>);</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）子访问父</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(this.$parent.message);</span></span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="built_in">this</span>.$root.message);</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十五、组件化高级"><a href="#十五、组件化高级" class="headerlink" title="十五、组件化高级"></a>十五、组件化高级</h4><p>1.为什么使用slot</p>
<ul>
<li>组件的插槽也是为了让我们封装的组件更加具有扩展性</li>
<li>让使用者可以决定组件内部的一些内容到底展示什么</li>
<li>抽取共性，保留不同</li>
</ul>
<p>插槽的基本使用：<slot></slot></p>
<p>插槽的默认值<slot>button</slot></p>
<p>如果有多个值，同时放入到组件进行替换时，一起替换元素</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.具名插槽</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">&quot;left&quot;</span>&gt;</span>黑盒<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;rigth&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.vue3中组件的生命周期</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例刚刚被创建&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例已经创建完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;模板编译之前&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">mouted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;模板编译完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">beforeUpdate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;数据更新之前&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">updated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;数据更新完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">activated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;keep-alive缓存的组件激活时调用&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">deactivated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;keep-alive缓存的组件停用时调用&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">beforeUnmount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例销毁之间&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">unmounted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例销毁完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/42.png"></p>
<h4 id="十六、编译作用域"><a href="#十六、编译作用域" class="headerlink" title="十六、编译作用域"></a>十六、编译作用域</h4><p>在自己的模板找作用域</p>
<p>父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译</p>
<p>它的作用域是父组件，使用的属性也会是父组件的</p>
<h4 id="十七、作用域插槽的使用"><a href="#十七、作用域插槽的使用" class="headerlink" title="十七、作用域插槽的使用"></a>十七、作用域插槽的使用</h4><p>父组件替换插槽的标签，但是内容由子组件来提供</p>
<p><img src="/2021/09/02/vue/4.png"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--目的是获取子组件中的language--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;slot&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;slot.data.join(&quot;*&quot;)&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--不一定要写data也可以写成别的--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:data</span>=<span class="string">&quot;language&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in language&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="attr">language</span>:[<span class="string">&#x27;java&#x27;</span>,<span class="string">&#x27;c++&#x27;</span>,<span class="string">&#x27;python&#x27;</span>]</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十八、webpack的介绍与安装"><a href="#十八、webpack的介绍与安装" class="headerlink" title="十八、webpack的介绍与安装"></a>十八、webpack的介绍与安装</h4><p>1.从本质上来讲，webpack是一个现代的javascript应用的静态模块打包工具</p>
<p>2.css、图片、json文件等等都会在webpack当做模块来使用</p>
<p><img src="/2021/09/02/vue/8.png"></p>
<p><img src="/2021/09/02/vue/9.png"></p>
<p><img src="/2021/09/02/vue/10.png"></p>
<p>3.chunk?正在打包的代码-》bundle.js</p>
<p>多个chunk可能组织到bundle.js</p>
<p>4.安装webpack5</p>
<ul>
<li>npm -v</li>
<li>npm init -y 生成package.json文件</li>
<li>npm i webpack webpack-cli -D</li>
</ul>
<p>5.运行</p>
<ul>
<li>webpack –mode development生成dist（开发模式）</li>
<li>node dist/main.js 得到结果</li>
<li>webpack –mode production（生产模式）发行出去</li>
</ul>
<p>6.webpack.config.js配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;resolve&#125;=<span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">   <span class="comment">//1.entry 入口（entry）指示webpack以哪个文件作为入口起点开始打包，分析构建内部依赖图</span></span><br><span class="line">    <span class="comment">// 如果只有一个入口，使用字符串，指定一个入口文件，打包一个chunk，输出一个bundle,chunk的名称是默认的</span></span><br><span class="line">    <span class="comment">//Array 多入口，多入口个文件，所有的入口文件形成一个chunk,名称是默认的，输出也是只有一个bundle</span></span><br><span class="line">    <span class="comment">//entry:[&#x27;./src/index.js&#x27;,&quot;./src/main.js&quot;]</span></span><br><span class="line">    <span class="comment">//Object:多入口，有几个入口文件就会生成几个chunk，并输出几个bundle,chunk的名称是key</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * entry:&#123;</span></span><br><span class="line"><span class="comment">    *   one:&#x27;./src/index.js&#x27;,</span></span><br><span class="line"><span class="comment">    *   two:&#x27;/src/main.js&#x27;</span></span><br><span class="line"><span class="comment">    * &#125;</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="comment">//特殊用法</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * entry:&#123;</span></span><br><span class="line"><span class="comment">    *   onea:[&#x27;./src/main.js&#x27;,&#x27;./src/index.js&#x27;],</span></span><br><span class="line"><span class="comment">    *   twob:&#x27;./src/index.js&#x27;</span></span><br><span class="line"><span class="comment">    * &#125;</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="attr">entry</span>:<span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">    <span class="comment">//2.output 输出(input)指示webpack打包后的资源bundles输出到哪里，以及如何命名</span></span><br><span class="line">    <span class="attr">output</span>:&#123;</span><br><span class="line">        <span class="attr">filename</span>:<span class="string">&quot;build.js&quot;</span>,<span class="comment">//输出文件名</span></span><br><span class="line">        <span class="attr">path</span>:resolve(__dirname,<span class="string">&#x27;build&#x27;</span>)<span class="comment">//输出的位置</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//3.loader 让webpack能狗去处理那些非javascript资源css,img等，将它们处理成webpack能够识别的资源</span></span><br><span class="line">    <span class="attr">module</span>:&#123;</span><br><span class="line">        <span class="attr">rules</span>:[</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//4.plugins 插件可以用于执行范围更广的任务。包括，从打包优化和压缩</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.mode</span></span><br><span class="line">    <span class="comment">// mode:&#x27;production&#x27; //生产模式</span></span><br><span class="line">    <span class="attr">mode</span>:<span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>7.webpack打包html资源</p>
<p><img src="/2021/09/02/vue/11.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引用插件html-webpack-plugin</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin=<span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">plugins:[</span><br><span class="line">        <span class="comment">//默认会创建一个空的，目的就是自动会引入打包的资源</span></span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            <span class="attr">template</span>:<span class="string">&quot;./src/index.html&quot;</span>,</span><br><span class="line">            <span class="attr">filename</span>:<span class="string">&quot;demo.html&quot;</span>,</span><br><span class="line">            <span class="attr">minify</span>:&#123;</span><br><span class="line">                <span class="comment">//移除空格</span></span><br><span class="line">                <span class="attr">collapseWhitespace</span>:<span class="literal">true</span>,</span><br><span class="line">                <span class="comment">//移除注释</span></span><br><span class="line">                <span class="attr">removeComments</span>:<span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>8.webpack打包css资源</p>
<p><img src="/2021/09/02/vue/12.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line">       <span class="attr">rules</span>:[</span><br><span class="line">           &#123;   <span class="attr">test</span>:<span class="regexp">/.css$/</span>,</span><br><span class="line">               <span class="comment">//从右到左的，从上到下，要先加载css-loader</span></span><br><span class="line">               use:[<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">       ]</span><br><span class="line">   &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>9.webpack打包less和sass资源</p>
<p><img src="/2021/09/02/vue/13.png"></p>
<ul>
<li>npm i less less-loader -D</li>
<li>npm i node-sass sass-loader -D</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//打包less</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>:<span class="regexp">/\.less$/</span>,</span><br><span class="line">                use:[<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>,<span class="string">&#x27;less-loader&#x27;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//打包sass</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>:<span class="regexp">/\.scss$/</span>,</span><br><span class="line">                use:[<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>,<span class="string">&#x27;sass-loader&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10.提取css为单独文件</p>
<p><img src="/2021/09/02/vue/14.png"></p>
<ul>
<li>npm i mini-css-extract-plugin -D</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin=<span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>);</span><br><span class="line">&#123;   <span class="attr">test</span>:<span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="comment">//从右到左的，从上到下，要先加载css-loader</span></span><br><span class="line">                <span class="comment">// use:[&#x27;style-loader&#x27;,&#x27;css-loader&#x27;]</span></span><br><span class="line">                use:[MiniCssExtractPlugin.loader,<span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;demo.css&#x27;</span><span class="comment">//还不能分成多个</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10.处理CSS的兼容性</p>
<p><img src="/2021/09/02/vue/15.png"></p>
<p>11.压缩css</p>
<p>这是webpack4及以下 的</p>
<p><img src="/2021/09/02/vue/16.png"></p>
<p>webpack5</p>
<ul>
<li>npm i css-minimizer-webpack-plugin    -D</li>
</ul>
<p>12.打包图片资源</p>
<p><img src="/2021/09/02/vue/17.png"></p>
<ul>
<li>npm i url-loader file-loader -D</li>
<li>npm i html-loader -D//让html可以引用打包后的图片</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">                test:/\.(png|jpg|jpeg|gif)$/,</span><br><span class="line">                loader:&#x27;url-loader&#x27;,</span><br><span class="line">                options:&#123;</span><br><span class="line">                    publicPath:&#x27;./images&#x27;,</span><br><span class="line">                    outputPath:&#x27;images/&#x27;,</span><br><span class="line">                    limit:1024*8,</span><br><span class="line">                    name:&#x27;[name][hash:10].[ext]&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            //处理html中的图片</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.html$/,</span><br><span class="line">                loader:&#x27;html-loader&#x27;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>13.打包其他资源字体图标</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//处理其他资源</span><br><span class="line">           &#123;</span><br><span class="line">               exclude:/\.(js|json|html|css|less|scss|png|jpg|jpeg)$/,</span><br><span class="line">               loader:&#x27;file-loader&#x27;,</span><br><span class="line">               options: &#123;</span><br><span class="line">                   outputPath: &#x27;font/&#x27;,</span><br><span class="line">                   publicPath: &#x27;./font&#x27;,</span><br><span class="line">                   name:&#x27;[name][hash:8].[ext]&#x27;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>14.对js语法配置eslint进行检查</p>
<p><img src="/2021/09/02/vue/18.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//eslint检查js语法</span></span><br><span class="line">           &#123;</span><br><span class="line">               <span class="attr">test</span>:<span class="regexp">/\.js$/</span>,</span><br><span class="line">               <span class="comment">//只检查自己写的代码，不检查第三方库的代码</span></span><br><span class="line">               exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">               loader: <span class="string">&#x27;eslint-loader&#x27;</span>,</span><br><span class="line">               <span class="attr">options</span>: &#123;</span><br><span class="line">                   <span class="comment">//帮我们修复</span></span><br><span class="line">                   <span class="attr">fix</span>:<span class="literal">true</span></span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在自己的代码中写注释eslint-disable-next-line</p>
<h4 id="十九、配置开发服务器devServer"><a href="#十九、配置开发服务器devServer" class="headerlink" title="十九、配置开发服务器devServer"></a>十九、配置开发服务器devServer</h4><p><img src="/2021/09/02/vue/19.png"></p>
<ul>
<li>npm i webpack-dev-server -D</li>
<li>webpack serve打开编译</li>
</ul>
<p><img src="/2021/09/02/vue/20.png"></p>
<ul>
<li>npm run build(生产模式)</li>
<li>npm run dev(开发模式)</li>
</ul>
<h4 id="二十、环境的优化"><a href="#二十、环境的优化" class="headerlink" title="二十、环境的优化"></a>二十、环境的优化</h4><p><img src="/2021/09/02/vue/21.png"></p>
<p><img src="/2021/09/02/vue/22.png"></p>
<p><img src="/2021/09/02/vue/23.png"></p>
<h4 id="二十一、axios异步网络请求"><a href="#二十一、axios异步网络请求" class="headerlink" title="二十一、axios异步网络请求"></a>二十一、axios异步网络请求</h4><p>1.认识axios</p>
<ul>
<li>axios简单的理解就是ajax的封装</li>
<li>axios是一个基于promise的HTTP库</li>
<li>支持node端和浏览器端</li>
<li>使用promise管理异步，告别传统casllback方式</li>
<li>丰富的配置项，支持拦截器等高级配置</li>
<li>转换请求数据和响应数据</li>
</ul>
<p>2.为axios应用准备RestFul标准API</p>
<p><img src="/2021/09/02/vue/24.png"></p>
<p>使用接口是前后端分离</p>
<p>3.Postman的安装和基本使用</p>
<p>一款非常流行的API调试工具</p>
<p>最早是作用chrome浏览器插件存在的</p>
<p>4.promise</p>
<p>处理并发请求</p>
<p><img src="/2021/09/02/vue/25.png"></p>
<p>5.axios的入门应用</p>
<p>6.生产环境用axios</p>
<p><img src="/2021/09/02/vue/26.png"></p>
<ul>
<li>建一个文件夹</li>
<li>npm init -y</li>
<li>npm i axios -S(生产环境)</li>
<li>npm i html-webpack-plugin -D</li>
</ul>
<p><img src="/2021/09/02/vue/27.png"></p>
<p>7.axios处理并发请求</p>
<p><img src="/2021/09/02/vue/28.png"></p>
<p><img src="/2021/09/02/vue/29.png"></p>
<p><img src="/2021/09/02/vue/30.png"></p>
<p>8.axios的全局配置</p>
<p><img src="/2021/09/02/vue/31.png"></p>
<p><img src="/2021/09/02/vue/32.png"></p>
<p>9.axios的实例封装</p>
<p><img src="/2021/09/02/vue/33.png"></p>
<p><img src="/2021/09/02/vue/34.png"></p>
<p><img src="/2021/09/02/vue/35.png"></p>
<p>10.axios的拦截器</p>
<p><img src="/2021/09/02/vue/36.png"></p>
<p><img src="/2021/09/02/vue/37.png"></p>
<p><img src="/2021/09/02/vue/38.png"></p>
<h4 id="二十二、vue-cli脚手架"><a href="#二十二、vue-cli脚手架" class="headerlink" title="二十二、vue-cli脚手架"></a>二十二、vue-cli脚手架</h4><p>默认已经帮我们搭建好了一套利用Webpack管理vue的项目结构</p>
<ul>
<li>npm i -g @vue/cli   进行全局安装</li>
</ul>
<p>创建项目</p>
<ul>
<li>vue create demo1</li>
<li>安装后的目录内容<ul>
<li>package.json 是装npm 装软件的，这个版本是不确定的</li>
<li>package-lock.json这个版本是确定的，固定的</li>
<li></li>
</ul>
</li>
</ul>
<h4 id="二十三、在vue中使用axios请求服务器"><a href="#二十三、在vue中使用axios请求服务器" class="headerlink" title="二十三、在vue中使用axios请求服务器"></a>二十三、在vue中使用axios请求服务器</h4><p>1.封装网络请求</p>
<p>request.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>:<span class="string">&#x27;http://api.eduwork.cn/admin&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>:<span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//get请求封装</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url,params</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.get(url,&#123;</span><br><span class="line">        params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">get().then().catch()</span><br><span class="line"></span><br><span class="line"><span class="comment">//封装post方法</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params">url,params</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.post(url,params,&#123;</span><br><span class="line">        <span class="comment">//转换方法</span></span><br><span class="line">        <span class="attr">transformRequest</span>:[</span><br><span class="line">            </span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.delet(url)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>qs的应用：</p>
<p>npm 下载qs库：npm i qs<br>在vue项目页面或者封装的axios中引用： import Qs from ‘qs’；<br>qs主要有两种使用方法：qu.stringify()和qs.parse();<br>qu.stringify():将对象序列化成url的形式；以&amp;进行拼接<br>qs.parse():将url解析成对象形式；</p>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>html+css+js</title>
    <url>/2021/09/10/%E9%9D%A2%E8%AF%95/</url>
    <content><![CDATA[<h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><h4 id="1-预编译习题"><a href="#1-预编译习题" class="headerlink" title="1.预编译习题"></a>1.预编译习题</h4><p>作用域的创建阶段-&gt;预编译的阶段</p>
<p>预编译的时候做了哪些事情：</p>
<p>函数作用域创建阶段</p>
<ul>
<li>js的变量对象-&gt;AO对象，供js引擎自己去访问的</li>
</ul>
<p>预编译的四个步骤：</p>
<ul>
<li>创建了AO对象</li>
<li>找形参和变量的声明，作为ao对象的属性名，值是undefined</li>
<li>实参和形参相统一</li>
<li>找函数声明，如果函数声明和变量声明一致会覆盖变量声明</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)<span class="comment">//function a()&#123;&#125;</span></span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">123</span></span><br><span class="line">    <span class="built_in">console</span>.log(a)<span class="comment">//123</span></span><br><span class="line">    <span class="built_in">console</span>.log(c)<span class="comment">//function c()&#123;&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125; <span class="comment">//函数声明</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">false</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> d=<span class="number">678</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(d)<span class="comment">//undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(b)<span class="comment">//undefined</span></span><br><span class="line">    <span class="keyword">var</span> b=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;<span class="comment">//函数表达式</span></span><br><span class="line">    <span class="built_in">console</span>.log(b)<span class="comment">//function()&#123;&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(c)<span class="comment">//function c()&#123;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AO：&#123;</span><br><span class="line">	<span class="attr">a</span>:<span class="literal">undefined</span> <span class="number">1</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="attr">c</span>:<span class="literal">undefined</span> <span class="number">2</span> <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="attr">d</span>:<span class="literal">undefined</span></span><br><span class="line">    <span class="attr">b</span>:<span class="literal">undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-js-this"><a href="#2-js-this" class="headerlink" title="2.js-this"></a>2.js-this</h4><p>方法：</p>
<ul>
<li>在函数中直接使用时指向window</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">content</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(content)</span><br><span class="line">&#125;</span><br><span class="line">get(<span class="string">&#x27;你好&#x27;</span>)</span><br><span class="line">get.call(<span class="built_in">window</span>,<span class="string">&#x27;你好&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>函数作为对象的方法被调用（谁调用我 我就指向谁）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">run</span>:<span class="function"><span class="keyword">function</span>(<span class="params">time</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>在跑步，用了<span class="subst">$&#123;time&#125;</span>min`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">person.run(<span class="number">30</span>)</span><br><span class="line">perosn.run.call(person,<span class="number">30</span>)</span><br></pre></td></tr></table></figure>

<p>例题：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="number">222</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="number">111</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun=a.say</span><br><span class="line">fun()<span class="comment">//这个是函数，那么this指向window,222</span></span><br><span class="line">a.say()<span class="comment">//作为对象方法调用，this.name=111</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="number">333</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function"><span class="keyword">function</span>(<span class="params">fun</span>)</span>&#123;</span><br><span class="line">        fun()<span class="comment">//这是函数，指向window,222</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">b.say(a.say)</span><br><span class="line">b.say=a.say<span class="comment">//意思是将console.log(this.name)替换fun()</span></span><br><span class="line">b.say()<span class="comment">//b.say.call(b) 333</span></span><br></pre></td></tr></table></figure>

<h4 id="3-箭头函数的this技巧"><a href="#3-箭头函数的this技巧" class="headerlink" title="3.箭头函数的this技巧"></a>3.箭头函数的this技巧</h4><ul>
<li>箭头函数中的this是在定义函数的时候绑定，而不是在执行函数的时候绑定</li>
<li>箭头函数中，this指向的固定化，并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，导致内部的this就是外层代码块的this。正式因为它没有this，所以也就不能用作构造函数</li>
<li>箭头函数中的this是在定义函数的时候绑定</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x=<span class="number">11</span>;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">	<span class="attr">x</span>:<span class="number">22</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.x)<span class="comment">//11</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.say();</span><br></pre></td></tr></table></figure>

<ul>
<li>所谓的定义时候绑定，就是this是继承自父执行上下文中的this，比如这里的箭头函数中的this.x，箭头函数本身与say平级以key:value的形式，也就是箭头函数本身所在的对象为obj，而obj的父执行上下文就是window，因此这里的this.x实际上表示的是window.x,因此输出的是1</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="attr">birth</span>:<span class="number">1900</span>,</span><br><span class="line">    <span class="attr">getAge</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b=<span class="built_in">this</span>.birth;<span class="comment">//1900</span></span><br><span class="line">        <span class="keyword">var</span> fn=<span class="function">()=&gt;</span><span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear()-<span class="built_in">this</span>.birth;<span class="comment">//this指向obj对象</span></span><br><span class="line">        <span class="keyword">return</span> fn()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge();</span><br></pre></td></tr></table></figure>

<ul>
<li>例子中箭头函数本身是在getAge方法中定义的，因此，getAge方法的父执行上下文是obj，因此这里的this指向则为obj对象</li>
</ul>
<h4 id="4-js的深浅拷贝"><a href="#4-js的深浅拷贝" class="headerlink" title="4.js的深浅拷贝"></a>4.js的深浅拷贝</h4><p><strong>浅拷贝</strong></p>
<ul>
<li>创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝</li>
<li>如果属性是基本类型，拷贝的就是基本类型的值</li>
<li>如果属性是引用类型，拷贝的就是内存</li>
<li>所以，如果其中一个对象改变了整个地址，就会影响到另一个对象</li>
</ul>
<p><strong>深拷贝</strong></p>
<ul>
<li>将一个对象从内存中完整的拷贝一份出来，从堆内存中开辟一个新的区域存放新对象，且修改新对象不会影响原对象</li>
</ul>
<p><strong>针对引用类型来说   赋值   深拷贝  浅拷贝的区别</strong></p>
<p>赋值都会影响，浅拷贝影响引用类型，深拷贝都不会影响</p>
<ul>
<li>赋值<ul>
<li>当我们把一个对象赋值给一个新的变量时，赋的其实是该对象在栈中的地址，而不是堆中的数据。也就是两个对象指向的是同一个存储空间，无论哪个对象发生个改变，其实都是改变的存储空间的内容，因此，两个对象是联动的</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>:[<span class="string">&#x27;学习&#x27;</span>,[<span class="string">&#x27;玩游戏&#x27;</span>,<span class="string">&#x27;看电影&#x27;</span>],<span class="string">&#x27;散步&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1=person</span><br><span class="line">person1.name=<span class="string">&quot;hi&quot;</span></span><br><span class="line">person1.hobby[<span class="number">0</span>]=<span class="string">&#x27;玩耍&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(person)</span><br><span class="line"><span class="built_in">console</span>.log(person1)</span><br><span class="line"><span class="comment">//两个的结果都是一样，都是赋值后改变的结果</span></span><br></pre></td></tr></table></figure>

<ul>
<li>浅拷贝<ul>
<li>重新在堆中创建内存，拷贝前后对象的基本数据类型互不影响，但拷贝前后对象的<strong>引用类型</strong>因共享同一块内存，会相互影响</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shallowCopy</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> target=&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    	<span class="keyword">if</span>(obj.hasOwnProperty(i))&#123;</span><br><span class="line">        	target[i]=obj[i]</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1=shallowCopy(person)</span><br><span class="line">person1.name=<span class="string">&quot;hi&quot;</span><span class="comment">//这个部分两个都不一样</span></span><br><span class="line">person1.hobby[<span class="number">0</span>]=<span class="string">&#x27;玩耍&#x27;</span><span class="comment">//都是改变后的</span></span><br><span class="line"><span class="built_in">console</span>.log(person)</span><br><span class="line"><span class="built_in">console</span>.log(person1)</span><br></pre></td></tr></table></figure>

<ul>
<li>深拷贝（代码部分还需加强理解）//递归思想<ul>
<li>从堆内存中开辟一个新的区域存放新对象，对对象中的子对象进行递归拷贝，拷贝前后的两个对象互不影响</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>:[<span class="string">&#x27;学习&#x27;</span>,[<span class="string">&#x27;玩游戏&#x27;</span>,<span class="string">&#x27;看电影&#x27;</span>],<span class="string">&#x27;散步&#x27;</span>],</span><br><span class="line">    <span class="attr">date</span>:<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;\\w+&#x27;</span>),</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cloneObj=<span class="keyword">new</span> obj.constructor()</span><br><span class="line">    <span class="keyword">if</span>(obj===<span class="literal">null</span>) <span class="keyword">return</span> obj</span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(obj)</span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(obj)</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span> obj</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.hasOwnProperty(i))&#123;</span><br><span class="line">            cloneObj[i]=deepClone(obj[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneObj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1=<span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(person))</span><br><span class="line">person1.name=<span class="string">&#x27;王晓星&#x27;</span></span><br><span class="line">person1.hobby[<span class="number">0</span>]=<span class="string">&#x27;玩耍&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(person)</span><br><span class="line"><span class="built_in">console</span>.log(person1)</span><br></pre></td></tr></table></figure>

<h4 id="5-防抖函数的理解和实现"><a href="#5-防抖函数的理解和实现" class="headerlink" title="5.防抖函数的理解和实现"></a>5.防抖函数的理解和实现</h4><p>是闭包的实际应用</p>
<p><strong>防抖函数</strong></p>
<ul>
<li>当持续触发事件，一定时间内没有再触发事件，事件处理函数才会执行一次</li>
<li>如果设定的事件到来之前，又一次触发了事件 ，就重新开始延时</li>
<li>触发事件，一段时间内，没有触发，事件执行，肯定是定时器</li>
<li>在设定的时间内，又一次触发了事件，重新开始延时，代表的就是重新开始定时器，那么意味着上一次还没有结束的定时器要清除掉，重新开始</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> timer</span><br><span class="line"><span class="built_in">clearInterval</span>(timer)</span><br><span class="line">timer=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;,delay)</span><br></pre></td></tr></table></figure>

<p>接下来我们一起来看防抖函数中的代码怎么写吧</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> input=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;input&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="comment">//防抖函数</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//delay是延迟时间，value是我们从键盘敲进去的值</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//function debounce(delay,value)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//我们想要清除的是setTimeout，那我们应该存储这个timer的变量，也就是让定时器重新定时，timer变量要一直保存在内存当中，既然你不想打印之前已经输入的结果，就要清除以前触发的定时器</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// let timer</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// clearTimeout(timer)</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// timer=setTimeout(function()&#123;</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">//     console.log(value)</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// &#125;,delay)</span></span></span><br><span class="line"><span class="javascript">   <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="comment">//为了让timer一直在内存中，我们引入了闭包（函数嵌套着函数）</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">delay,callback</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> timer</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearTimeout</span>(timer)</span></span><br><span class="line"><span class="javascript">                timer=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//console.log(value)</span></span></span><br><span class="line"><span class="javascript">                    callback(value)</span></span><br><span class="line"><span class="javascript">                &#125;,delay)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">           </span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="comment">//我想让结果在外部</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">value</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(value)</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//需要实现的是，输入框的结果只出现一次，是我在键盘抬起不再输入后的1秒</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> debounceFunc=debounce(<span class="number">1000</span>,fn)</span></span><br><span class="line"><span class="javascript">    input.addEventListener(<span class="string">&#x27;keyup&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        debounceFunc(e.target.value)</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>防抖函数的应用</strong></p>
<p>使用echarts时，改变浏览器宽度的时候，希望重新渲染</p>
<p>echarts的图像，可以使用此函数，提升性能（虽然echarts里有自带的resize函数）</p>
<p>典型的案例就是输入搜索：输入结束后n秒才进行搜索请求，n秒内又输入的内容，就重新计时，解决搜索的bug</p>
<h4 id="6-节流函数的理解和实现"><a href="#6-节流函数的理解和实现" class="headerlink" title="6.节流函数的理解和实现"></a>6.节流函数的理解和实现</h4><p>闭包的实际应用</p>
<p>当持续触发事件的时候，保证一段时间内，只调用一次事件处理函数。一段时间内，只做一件事</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;button&quot;</span>&gt;</span></span><br><span class="line">        点击</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">thro</span>(<span class="params">fun,wait</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timeout</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(!timeout)&#123;<span class="comment">//因为刚开始是空的要取反</span></span></span><br><span class="line"><span class="javascript">                timeout=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    func()</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//不做了</span></span></span><br><span class="line"><span class="javascript">                    timeout=<span class="literal">null</span></span></span><br><span class="line"><span class="javascript">                &#125;,wait)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random())</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;button&#x27;</span>).onclick=thro(handle,<span class="number">2000</span>)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="7-js作用域"><a href="#7-js作用域" class="headerlink" title="7.js作用域"></a>7.js作用域</h4><p>作用域：一般理解为一个变量的作用范围</p>
<p><strong>全局作用域</strong></p>
<ul>
<li>全局作用域在页面打开时被创建，页面关闭时被销毁</li>
<li>编写在script标签中的变量和函数，作用域为全局，在页面的任意位置都可以访问到</li>
<li>在全局作用域中有全局对象window，代表一个浏览器窗口，由浏览器创建，可以直接调用</li>
<li>全局作用域中声明的变量和函数会作为window对象的属性和方法保存</li>
</ul>
<p><strong>函数作用域</strong></p>
<ul>
<li>调用函数时，函数作用域被创建，函数执行完毕，函数作用域被销毁</li>
<li>每调用一次函数就会创建一个新的函数作用域，他们之间是相互独立的</li>
<li>在函数作用域中可以访问到全局作用域的变量，在函数外无法访问到函数作用域内的变量</li>
<li>在函数作用域中访问变量、函数时，会先在自身作用域中寻找，若没有找到，则会到函数的上一级作用域中寻找，一直到全局作用域</li>
</ul>
<p><strong>作用域的深层次理解</strong></p>
<ul>
<li>执行期的上下文<ul>
<li>当函数代码执行的前期，会创建一个执行期上下文的内部对象AO（作用域）</li>
<li>这个内部对象是预编译的时候创建出来的，因为当函数被调用的时候，会先进行预编译</li>
<li>在全局代码执行的前期会创建一个执行期的上下文的对象GO</li>
</ul>
</li>
</ul>
<h4 id="8-js作用域链"><a href="#8-js作用域链" class="headerlink" title="8.js作用域链"></a>8.js作用域链</h4><p>作用域链的作用主要用于<strong>查找标识符</strong>，当作用域需要查询变量的时候会沿着作用域链依次查找，如果找到标识符就会停止搜索，否则将会沿着作用域链依次向后查找，直到作用域链的结尾。</p>
<p>内部环境可以通过作用域链来访问外部环境的属性和方法，但是，外部环境不能访问内部环境的任何属性和方法。注意，只能通过<strong>定义函数</strong>来延长作用域链条。</p>
<h4 id="9-js闭包"><a href="#9-js闭包" class="headerlink" title="9.js闭包"></a>9.js闭包</h4><p>闭包就是能够读取其他函数内部变量的函数。由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成“定义在一个函数内部的函数”。所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p>
<p> <strong>作用：</strong>闭包可以用在许多地方。它的最大用处有两个</p>
<ul>
<li>可以读取函数内部的变量</li>
<li>让这些变量的值始终保持在内存中</li>
</ul>
<p>例子：函数b就是一个闭包函数，用于获取函数a内部的变量i。当函数a的内部函数b，被函数a外的一个变量c引用的时候，就创建了一个闭包。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i=<span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(++i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c=a()</span><br><span class="line">c()</span><br></pre></td></tr></table></figure>

<p> <strong>注意事项：</strong></p>
<p>1）由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</p>
<p>2）闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</p>
<h4 id="10-js闭包实现单例模式"><a href="#10-js闭包实现单例模式" class="headerlink" title="10.js闭包实现单例模式"></a>10.js闭包实现单例模式</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//js的单例模式 实现登录</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> createLogin = <span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(a,b,c)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">            div.innerHTML=<span class="string">&#x27;我是登录的弹窗&#x27;</span></span></span><br><span class="line"><span class="javascript">            div.style.display=<span class="string">&#x27;none&#x27;</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.body.appendChild(div)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> div</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> getSingle=<span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> result;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> result || (result=fn.apply(<span class="built_in">this</span>,<span class="built_in">arguments</span>))</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        </span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> create=getSingle(createLogin)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn&#x27;</span>).onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> loginlay=create(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span></span><br><span class="line"><span class="javascript">            loginlay.style.display=<span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="11-js运行机制-arguments对象-内存泄露-手写map方法"><a href="#11-js运行机制-arguments对象-内存泄露-手写map方法" class="headerlink" title="11.js运行机制-arguments对象-内存泄露-手写map方法"></a>11.js运行机制-arguments对象-内存泄露-手写map方法</h4><p><strong>js离不开用户的操作的和用途有关</strong></p>
<ul>
<li>单线程：同一时间做同一件事情</li>
</ul>
<p><strong>arguments的对象是什么</strong></p>
<ul>
<li><p>箭头函数没有arguments对象</p>
</li>
<li><p>类数组对象，有类属性，没有数组的方法</p>
</li>
<li><p>类数组对象怎么转换成数组？</p>
<ul>
<li>es6中的…展开运算符</li>
<li>借助Array.prototype.slice.call(arguments)</li>
</ul>
</li>
</ul>
<p><strong>哪些操作会造成内存泄露</strong></p>
<ul>
<li>闭包</li>
<li>意外的全局变量</li>
<li>被遗忘的定时器</li>
<li>脱离dom的引用</li>
</ul>
<p><strong>什么是高阶函数</strong></p>
<p>将函数作为参数或者返回值的函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">highOrder</span>(<span class="params">params,callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> callback(params)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>手写实现Array.prototype.map方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> array=arr.map(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(array)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">arr,mapCallback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">Array</span>.isArray(arr)||!arr.length||<span class="keyword">typeof</span> mapCallback!==<span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> result=[]</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,len=arr.length;i&lt;len;i++)&#123;</span><br><span class="line">            result.push(mapCallback(arr[i],i,arr))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> res=map(arr,<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure>

<h4 id="12-js的时间循环机制-event-loop"><a href="#12-js的时间循环机制-event-loop" class="headerlink" title="12.js的时间循环机制-event-loop"></a>12.js的时间循环机制-event-loop</h4><p><strong>js语言的特点</strong></p>
<p>单线程</p>
<p><strong>event-loop</strong></p>
<p>事件循环机制 由三部分组成</p>
<p>调用栈 微任务机制 消息队列</p>
<p>event-loop开始的时候会从全局一行一行的执行，遇到函数调用，会压入到调用栈中，被压入的函数被称之为帧，当函数返回后会从调用栈中弹出</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    fun1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">fun2()</span><br></pre></td></tr></table></figure>

<p>图解：</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/1.png"></p>
<p><strong>js中的异步操作</strong></p>
<p>比如fetch setTimeout setInterval 压入到调用栈中的时候里面的消息会进去到消息队列中去，消息队列中的会等到调用栈清空之后再执行</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">    func1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">func2()</span><br></pre></td></tr></table></figure>

<p>图解：</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/2.png"></p>
<p><strong>promise async await的异步操作</strong></p>
<p>会加入到微任务中去，会在调用栈清空的时候立即执行，调用栈中加入的微任务会立马执行</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resovle</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">    resovle(<span class="number">5</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">    func1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">    p.then(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(resolve)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">func2()</span><br></pre></td></tr></table></figure>

<p>图解：</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/3.png"></p>
<h4 id="13-数组扁平化处理"><a href="#13-数组扁平化处理" class="headerlink" title="13.数组扁平化处理"></a>13.数组扁平化处理</h4><p>指将一个多维数组变为一个一维数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[<span class="number">1</span>,[<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]],<span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p><strong>方法一：使用flat()</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=arr.flat(<span class="literal">Infinity</span>)或者是<span class="number">3</span>也可以</span><br></pre></td></tr></table></figure>

<p><strong>方法二：利用正则</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=<span class="built_in">JSON</span>.stringify(arr).replace(<span class="regexp">/\[|\]/g</span>,<span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>但数据类型都会变为字符串</p>
<p><strong>方法三：正则改良版本</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=<span class="built_in">JSON</span>.parse(<span class="string">&#x27;[&#x27;</span>+<span class="built_in">JSON</span>.stringify(arr).replace(<span class="regexp">/\[|\]/g</span>,<span class="string">&#x27;&#x27;</span>)+<span class="string">&#x27;]&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>方法四：使用reduce</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten=<span class="function"><span class="params">arr</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(</span><br><span class="line">    <span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pre.concat(<span class="built_in">Array</span>.isArray(cur)?flatten(cur):cur)</span><br><span class="line">    &#125;,[])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res=flatten(arr)</span><br></pre></td></tr></table></figure>

<p><strong>方法五：函数递归</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=[]</span><br><span class="line"><span class="keyword">const</span> fn=<span class="function"><span class="params">arr</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(arr[i]))&#123;</span><br><span class="line">            fn(arr[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.push(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(arr)</span><br></pre></td></tr></table></figure>

<h4 id="14-reduce的详解"><a href="#14-reduce的详解" class="headerlink" title="14.reduce的详解"></a>14.reduce的详解</h4><p><strong>js数组中的reduce方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,cur,index,arr</span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;,init)</span><br><span class="line">或者</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,cur,index,arr</span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>arr:表示将要原数组</li>
<li>prev:表示上一次调用回调时的返回值，或者初始值init</li>
<li>cur:表示当前正在处理的数组元素</li>
<li>index:表示荡秋千正在处理的数组元素的索引，若提供init值，则索引为0，否则索引为1</li>
<li>init表示初始值</li>
</ul>
<p>cur与index是一起的</p>
<p><strong>常用的参数只有两个：prev和cur</strong></p>
<ul>
<li>数组求和，求乘积</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line"><span class="keyword">var</span> sum=arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;<span class="comment">//最开始pre为1，cur为2；如果有初始值，那么pre=init,cur等于index=0的值即1</span></span><br><span class="line">    <span class="keyword">return</span> pre+cur</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(sum)</span><br><span class="line"></span><br><span class="line"><span class="comment">//求积</span></span><br><span class="line"><span class="keyword">var</span> multiple=arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre*cur</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(multiple)</span><br></pre></td></tr></table></figure>

<ul>
<li>计算数组中每个元素出现的次数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person=[<span class="string">&#x27;张曼玉&#x27;</span>,<span class="string">&#x27;刘嘉玲&#x27;</span>,<span class="string">&#x27;杨幂&#x27;</span>,<span class="string">&#x27;刘嘉玲&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> nameNum=person.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(cur <span class="keyword">in</span> pre)&#123;</span><br><span class="line">        pre[cur]++</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        pre[cur]=<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre</span><br><span class="line">&#125;,&#123;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>数组去重</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr3=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">78</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> res=arr3.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!pre.includes(cur))&#123;</span><br><span class="line">        <span class="keyword">return</span> pre.concat(cur)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pre</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,[])</span><br></pre></td></tr></table></figure>

<ul>
<li>将二维数组转化为一维数组</li>
<li>将多维数组转化成一维数组</li>
<li>对象里的属性求和</li>
</ul>
<h4 id="15-call-apply-bind"><a href="#15-call-apply-bind" class="headerlink" title="15.call   apply    bind"></a>15.call   apply    bind</h4><p><strong>意义</strong>：改变函数执行时的上下文，改变this的指向</p>
<p><strong>区别</strong>：</p>
<ul>
<li>call/apply和bind的区别在于：call/apply是立即执行的，bind不是</li>
<li>call和apply的区别在于：call里面是不能放数组的，要放全部数字但可以放扩展数组，apply就可以放数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;林彦俊&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype=&#123;</span><br><span class="line">    <span class="attr">constructor</span>:Child,</span><br><span class="line">    <span class="attr">showName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child=<span class="keyword">new</span> Child(<span class="string">&#x27;哈哈哈&#x27;</span>)</span><br><span class="line">child.showName()<span class="comment">//哈哈哈</span></span><br><span class="line">child.showName.call(obj)</span><br><span class="line">child.showName.apply(obj)</span><br><span class="line"><span class="keyword">let</span> bind=child.showName.child(obj)</span><br><span class="line">bind()</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.call(<span class="literal">null</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.call(<span class="literal">null</span>,arr1))<span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.call(<span class="literal">null</span>,...arr1))<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr1))<span class="comment">//4</span></span><br></pre></td></tr></table></figure>

<p><strong>应用</strong></p>
<ul>
<li>将伪数组arrayLike转化成数组</li>
</ul>
<p>伪数组：也称为类数组，是一种按照索引存储数据且具有length属性的对象。因为是对象所以不能调用数组的方法</p>
<p>常见的伪数组有：arguments,document.querySelectorAll()等批量选择元素的方法的返回值，<inuput>文件上传后的files</inuput></p>
<p>(1)document的</p>
<p>ie8以下不能用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">let div=document.hetElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">console.log(div)</span><br><span class="line">let arr=Array.prototype.slice.call(div)</span><br><span class="line">console.log(arr)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">listToArray</span>(<span class="params">likeArray</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ary=[]</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        ary=<span class="built_in">Array</span>.prototype.slice.call(likeArray)</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;likeArray.length;i++)&#123;</span><br><span class="line">            ary[ary.length]=likeArray[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(2)arguments</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>))</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>(3)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1=&#123;</span><br><span class="line">	<span class="number">0</span>:<span class="number">0</span>，</span><br><span class="line">    <span class="number">1</span>:<span class="string">&#x27;ddd&#x27;</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="string">&#x27;ss&#x27;</span>,</span><br><span class="line">    <span class="attr">length</span>:<span class="number">3</span><span class="comment">//一定要有的</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.slice.call(obj1))</span><br></pre></td></tr></table></figure>

<ul>
<li>数组的拼接</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr11=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr22=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr11.concat(arr22))<span class="comment">//不会改变原来的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//apply来实现</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr11,arr22)</span><br><span class="line"><span class="built_in">console</span>.log(arr11)</span><br></pre></td></tr></table></figure>

<ul>
<li>判断数据类型</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> array1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object Array]&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object Object]&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object String]&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object Null]&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="16-原型与原型链"><a href="#16-原型与原型链" class="headerlink" title="16.原型与原型链"></a>16.原型与原型链</h4><h5 id="（1）原型"><a href="#（1）原型" class="headerlink" title="（1）原型"></a>（1）原型</h5><p><strong>原型</strong>：<strong>原型是定义了一些公用的属性和方法，利用原型创建出来的新对象实例会共享原型的所有属性和方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//开启严格模式，原型的属性和方法还是会被原型实例所共享的</span></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span></span><br><span class="line"><span class="comment">//创建原型</span></span><br><span class="line"><span class="keyword">var</span> Person=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原型的方法</span></span><br><span class="line">Person.prototype.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name+<span class="string">&quot;,hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化创建新的原型对象，新的原型对象会共享原型的属性和方法</span></span><br><span class="line"><span class="keyword">var</span> person1=<span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line"></span><br><span class="line">person1.sayHello()</span><br></pre></td></tr></table></figure>

<p><strong>通过原型创建的新对象实例是相互独立的，为新对象实例添加的方法只有该实例拥有这个方法，其它实例是没有这个方法的</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建原型</span></span><br><span class="line"><span class="keyword">var</span> Person=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原型的方法</span></span><br><span class="line">Person.prototype.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name+<span class="string">&quot;,hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化创建新的原型对象，新的原型对象会共享原型的属性和方法</span></span><br><span class="line"><span class="keyword">var</span> person1=<span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> person2=<span class="keyword">new</span> Person(<span class="string">&#x27;lisa&#x27;</span>)</span><br><span class="line"></span><br><span class="line">person1.sayHello()</span><br><span class="line">person2.sayHello()</span><br><span class="line"><span class="comment">//为新对象实例添加方法</span></span><br><span class="line"><span class="comment">//通过原型创建的新对象实例是相互独立的</span></span><br><span class="line">person1.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line">person1.getName();<span class="comment">//张三</span></span><br><span class="line">person2.getName();<span class="comment">//无法获取</span></span><br></pre></td></tr></table></figure>

<p><strong>原型的分类</strong>：</p>
<ul>
<li>隐式原型（_proto_）：上面说的这个原型是JavaScript中的内置属性[[prototype]]，此属性继承自object对象，在脚本中没有标准的方式访问[[prototype]]，但Firefox、Safari和Chrome在每个对象上都支持一个属性_proto_，隐式原型的作用是用来构成原型链，实现基于原型的继承</li>
<li>显示原型（prototype）：每一个函数在创建之后，便会拥有一个prototype属性，这个属性指向函数的原型对象，显示原型的作用是用来实现基于原型的继承与属性的共享</li>
</ul>
<p><strong>总结</strong></p>
<ul>
<li>所有引用类型都有一个<code>__proto__</code>(隐式原型)属性，属性值是一个普通的对象</li>
<li>所有函数都有一个prototype(原型)属性，属性值是一个普通的对象</li>
<li>所有引用类型的<code>__proto__</code>属性指向它构造函数的prototype</li>
<li>函数的原型prototype：<strong>函数才有prototype</strong>，prototype是一个对象，指向了当前构造函数的引用地址</li>
<li>函数的原型对象<code>__proto__</code>(隐式原型)：所有对象都有<code>__proto__</code>(隐式原型)属性， 当用构造函数实例化（new）一个对象时，会将新对象的<code>__proto__</code>(隐式原型)属性指向 构造函数的prototype</li>
<li>所有函数的__proto__都是指向Function的prototype</li>
<li>构造函数new出来的对象__proto__指向构造函数的prototype</li>
<li>非构造函数实例化出的对象或者对象的prototype的__proto__指向Object的prototype<br>Object的prototype指向null</li>
<li>所有的原型对象都会自动获得一个 constructor（构造函数）属性，这个属性（是一个指针）指向 prototype 属性所在的函数（Person）</li>
<li>实例的构造函数属性（constructor）指向构造函数 ：person1.constructor == Person</li>
<li>原型对象（Person.prototype）是 构造函数（Person）的一个实例</li>
</ul>
<h5 id="2-原型链"><a href="#2-原型链" class="headerlink" title="(2)原型链"></a>(2)原型链</h5><p>原型链是原型对象创建过程的历史记录，当访问一个对象的某个属性时，会先在这个对象本身属性上查找，如果没有找到，则会去它的__proto__隐式原型上查找，即它的构造函数的prototype，如果还没有找到就会再在构造函数的prototype的__proto__中查找，这样一层一层向上查找就会形成一个链式结构</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/10.png"></p>
<h4 id="17-原型链的继承"><a href="#17-原型链的继承" class="headerlink" title="17.原型链的继承"></a>17.原型链的继承</h4><p>让子类的原型对象指向父类的实例，当子类的实例找不到对应的属性和方法时，它会沿着原型链往上找</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=<span class="string">&#x27;哈哈哈哈&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//子类的原型对象指向父类的实例</span></span><br><span class="line">Child.prototype=<span class="keyword">new</span> Parent()</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="comment">//创建子类的实例</span></span><br><span class="line"><span class="keyword">const</span> child=<span class="keyword">new</span> Child()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child.name)<span class="comment">//哈哈哈</span></span><br><span class="line"><span class="built_in">console</span>.log(child.getName)<span class="comment">//哈哈哈</span></span><br></pre></td></tr></table></figure>

<p><strong>缺点</strong>：父类如果有多个实例，当一个实例改变里面的内容时，另一个也会被改变；没有实现super功能，也就是没有办法对父类传参</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=<span class="string">&#x27;哈哈哈哈&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//子类的原型对象指向父类的实例</span></span><br><span class="line">Child.prototype=<span class="keyword">new</span> Parent()</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="comment">//创建子类的实例</span></span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//heheh</span></span><br></pre></td></tr></table></figure>

<h4 id="18-构造函数继承"><a href="#18-构造函数继承" class="headerlink" title="18.构造函数继承"></a>18.构造函数继承</h4><p>解决原型链继承的缺点1指向同一个实例，但是不能够继承父类原型上的方法和属性</p>
<p>在子类的构造函数中执行父类的构造函数，并且为其绑定子类的this</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[name]</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Parent.call(<span class="built_in">this</span>,<span class="string">&#x27;林彦俊&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//林彦俊</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.getName())<span class="comment">//无法输出</span></span><br></pre></td></tr></table></figure>

<h4 id="19-组合式继承"><a href="#19-组合式继承" class="headerlink" title="19.组合式继承"></a>19.组合式继承</h4><p>缺点：每执行一次就要执行 Parent.call和Child.prototype</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[name]</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Parent.call(<span class="built_in">this</span>,<span class="string">&#x27;林彦俊&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype=<span class="keyword">new</span> Parent()</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//林彦俊</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.getName())<span class="comment">//林彦俊</span></span><br></pre></td></tr></table></figure>

<h4 id="20-寄生式组合继承"><a href="#20-寄生式组合继承" class="headerlink" title="20.寄生式组合继承"></a>20.寄生式组合继承</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[name]</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Parent.call(<span class="built_in">this</span>,<span class="string">&#x27;林彦俊&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//缺点：在子类加方法会影响到父类的操作</span></span><br><span class="line">Child.prototype=Parent.prototype</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="comment">//解决方法：通过浅拷贝</span></span><br><span class="line">Child.prototype=<span class="built_in">Object</span>.create(Parent.prototype)</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//林彦俊</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.getName())<span class="comment">//林彦俊</span></span><br></pre></td></tr></table></figure>

<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><h4 id="1-BFC的理解和作用"><a href="#1-BFC的理解和作用" class="headerlink" title="1.BFC的理解和作用"></a>1.BFC的理解和作用</h4><p><strong>块级格式化上下文</strong>，它是指一个独立的块级渲染区域，只有<strong>块级盒子</strong>参与，该区域拥有一套渲染规则来约束块级盒子的布局，且与区域外部无关</p>
<p><strong>从一个现象说起</strong></p>
<ul>
<li>一个盒子不设置height,当内容子元素都浮动时，无法撑起自身</li>
<li>这个盒子没有形成BFC</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.father</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/* float:left; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* position: absolute; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* display:inline-block; */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>没有设置父元素浮动时，父元素的宽度有，但是高度为0</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/4.png"></p>
<p>设置了父元素浮动或者其他之后</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/5.png"></p>
<p><strong>如何创建BFC（四种方法）</strong></p>
<ul>
<li>float的值不是none</li>
<li>position的值不是static或者relative，那么设置成absolute</li>
<li>display的值是inline-block、flex或者inline-flex</li>
<li>overflow:hidden(这个方法最好)</li>
</ul>
<p><strong>BFC的其他作用</strong></p>
<ul>
<li>BFC可以取消盒子margin塌陷</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.father</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:blue;</span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/6.png"></p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/7.png"></p>
<ul>
<li>BFC可以阻止元素被浮动元素覆盖</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.son-last</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son-last&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/8.png"></p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/9.png"></p>
]]></content>
      <categories>
        <category>面试题</category>
      </categories>
      <tags>
        <tag>面试题</tag>
      </tags>
  </entry>
</search>
