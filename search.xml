<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>BOM</title>
    <url>/2021/09/22/Bom/</url>
    <content><![CDATA[<h3 id="1-window对象"><a href="#1-window对象" class="headerlink" title="1.window对象"></a>1.window对象</h3><p>BOM由多个对象组成，其中代表浏览器窗口的window对象是BOM的顶层对象，其他对象都是该对象的子对象</p>
<p>所有浏览器都支持window对象。</p>
<p>window对象表示浏览器窗口。</p>
<p>所有JavaScript全局对象、函数、变量均自动成为window对象的成员。</p>
<p>全局变量是window对象的属性。</p>
<p>全局函数是window对象的方法</p>
<p><img src="/2021/09/22/Bom/1.png"></p>
<h4 id="1-1window对象的属性"><a href="#1-1window对象的属性" class="headerlink" title="1.1window对象的属性"></a>1.1window对象的属性</h4><table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>screen</td>
<td>有关客户端的屏幕和显示性能的信息</td>
</tr>
<tr>
<td>history</td>
<td>有关客户访问过的URL的信息</td>
</tr>
<tr>
<td>location</td>
<td>有关当前URL的信息</td>
</tr>
<tr>
<td>navigator</td>
<td>包含有关浏览器的信息</td>
</tr>
<tr>
<td>document</td>
<td>窗口中显示的文档对象</td>
</tr>
<tr>
<td>frames</td>
<td>返回窗口中所有命名的框架</td>
</tr>
</tbody></table>
<p>注意：有些window对象的属性本身也是对象。其中，表格中的前五个属性也是对象，具有自己的属性和方法</p>
<h4 id="1-2window对象的常用方法"><a href="#1-2window对象的常用方法" class="headerlink" title="1.2window对象的常用方法"></a>1.2window对象的常用方法</h4><p>window对象中的所有方法均可以省略前面的window</p>
<h5 id="1-2-1window弹窗的输入输出"><a href="#1-2-1window弹窗的输入输出" class="headerlink" title="1.2.1window弹窗的输入输出"></a>1.2.1window弹窗的输入输出</h5><p>1）prompt（）：弹窗接收用户输入</p>
<p>2）alert（）：弹窗警告。</p>
<p>3）confirm（）：带有确认或取消按钮的提示框</p>
<h5 id="1-2-2open-与close"><a href="#1-2-2open-与close" class="headerlink" title="1.2.2open()与close()"></a>1.2.2open()与close()</h5><p>1）open（）：重新打开一个窗口，主要传入三个参数：URL地址、窗口名称、窗口特征。</p>
<p>2）close（）：关闭浏览器的当前选项卡。</p>
<h5 id="1-2-3setTimeout-与clearTimeout"><a href="#1-2-3setTimeout-与clearTimeout" class="headerlink" title="1.2.3setTimeout()与clearTimeout()"></a>1.2.3setTimeout()与clearTimeout()</h5><p>1）setTimeout（）：设置延时执行（以ms为单位计时），只会执行一次。</p>
<p>2）clearTimeout（）：清除延时，传入参数：调用setTimeout时返回一个id，通过变量接收id，传入clearTimeout。</p>
<h5 id="1-2-4setInterval-与clearInterval"><a href="#1-2-4setInterval-与clearInterval" class="headerlink" title="1.2.4setInterval()与clearInterval()"></a>1.2.4setInterval()与clearInterval()</h5><p>1）setInterval（）：设置定时器，循环每个N毫秒执行一次，两个参数：需要执行的function/毫秒数。</p>
<p>2）clearInterval（）：清除定时器，传入参数：调用setInterval时返回一个id，通过变量接收id，传入clearInterval。</p>
<h3 id="2-screen-屏幕对象"><a href="#2-screen-屏幕对象" class="headerlink" title="2.screen:屏幕对象"></a>2.screen:屏幕对象</h3><p>screen对象包含有关客户端显示屏幕的信息，有四个常用属性，分别是屏幕宽度、屏幕高度、可用宽度和可用高度。</p>
<p>screen.width； //屏幕宽度</p>
<p>screen.height； //屏幕高度</p>
<p>screen.availWidth； //屏幕可用宽度</p>
<p>screen.availHeight； //屏幕高度=屏幕高度-底部工具栏</p>
<p><strong>注意:</strong></p>
<p>当Windows桌面的任务栏在底部或上部时，可用高度等于屏幕高度减去底部任务栏高度，可用宽度等于屏幕宽度。</p>
<p>当Windows桌面的任务栏在左侧或右侧时，可用宽度等于屏幕宽度减去底部任务栏高度，可用高度等于屏幕高度。</p>
<h3 id="3-location-地址栏对象"><a href="#3-location-地址栏对象" class="headerlink" title="3.location:地址栏对象"></a>3.location:地址栏对象</h3><p>它存储在window对象的location属性中，表示那个窗口中当前显示的文档的Web地址，可通过window.location属性来访问。</p>
<h4 id="3-1location属性"><a href="#3-1location属性" class="headerlink" title="3.1location属性"></a>3.1location属性</h4><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>href</td>
<td>完整路径</td>
</tr>
<tr>
<td>protocol</td>
<td>使用的协议（http,htpps,ftp,file,mailto）</td>
</tr>
<tr>
<td>pathname</td>
<td>文件路径</td>
</tr>
<tr>
<td>port</td>
<td>端口号</td>
</tr>
<tr>
<td>search</td>
<td>从？开始往后的部分</td>
</tr>
<tr>
<td>hostname</td>
<td>主机名（IP地址)</td>
</tr>
<tr>
<td>host</td>
<td>主机名和端口号</td>
</tr>
<tr>
<td>hash</td>
<td>从#开始的锚点</td>
</tr>
</tbody></table>
<p>location.href； //返回当前完整路径</p>
<p>location.protocol； //返回协议名 http：//</p>
<p>location.host； //返回主机名+端口号 127.0.0.1：8080</p>
<p>location.hostname； //返回主机名 127.0.0.1</p>
<p>location.port； //返回端口号：8080</p>
<p>location.pathname； //返回文件路径</p>
<p>location.search； //返回？开头的参数列表</p>
<p>location.hash； //返回#开头的锚点</p>
<h4 id="3-2location方法"><a href="#3-2location方法" class="headerlink" title="3.2location方法"></a>3.2location方法</h4><p>reload（）方法可以重新装载当前文档；</p>
<p>replace（）方法可以装载一个新文档而无须为它创建一个新的历史记录，即在浏览器的历史列表中，新文档将替换当前文档；</p>
<p>assign（）方法可以加载新的文档</p>
<p><strong>注意</strong>：reload（）传参与不传参情况的区别，当reload（true）时，表示从服务器重新加载当前页面；而当reload（）不传参时，表示在本地刷新当前页面。</p>
<h3 id="4-history-历史记录对象"><a href="#4-history-历史记录对象" class="headerlink" title="4.history:历史记录对象"></a>4.history:历史记录对象</h3><p>它是window对象的一部分，可通过window.history属性对其进行访问</p>
<table>
<thead>
<tr>
<th>属性或方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>length</td>
<td>返回浏览器历史列表中的URL数量</td>
</tr>
<tr>
<td>back()</td>
<td>加载history列表的前一个URL，与在浏览器中单击后退按钮相同</td>
</tr>
<tr>
<td>forward()</td>
<td>加载history列表中的下一个URL，与在浏览器中单击按钮向前相同</td>
</tr>
<tr>
<td>go()</td>
<td>跳转到浏览历史列表的任意位置。位置标志：当前页为第0个，前一个页面第一个，后一个页面-1个</td>
</tr>
</tbody></table>
<h3 id="5-navigator-浏览器配置对象"><a href="#5-navigator-浏览器配置对象" class="headerlink" title="5.navigator:浏览器配置对象"></a>5.navigator:浏览器配置对象</h3><p>navigator对象包含了有关浏览器基本配置的各种信息，所包含的属性较多。navigator对象中的各种属性，仅仅是用来查询显示的</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>appName</td>
<td>产品名称</td>
</tr>
<tr>
<td>appVersion</td>
<td>产品版本号</td>
</tr>
<tr>
<td>userAgent</td>
<td>用户代理信息</td>
</tr>
<tr>
<td>platform</td>
<td>系统平台</td>
</tr>
<tr>
<td>plugins</td>
<td>返回一个数组，检测浏览器安装的所有插件</td>
</tr>
<tr>
<td>MimeTypes</td>
<td>检查浏览器安装的插件支持的文件类型</td>
</tr>
</tbody></table>
<p>plugins属性。它可以查看浏览器安装的所有插件，包括四个属性。</p>
<p>1）description：插件的描述信息。</p>
<p>2）filename：插件在本地磁盘的文件名。</p>
<p>3）length：插件的个数。</p>
<p>4）name：插件名。</p>
]]></content>
      <categories>
        <category>对象模型</category>
      </categories>
      <tags>
        <tag>浏览器对象模型</tag>
      </tags>
  </entry>
  <entry>
    <title>DOM</title>
    <url>/2021/09/22/Dom/</url>
    <content><![CDATA[<h2 id="Core-DOM"><a href="#Core-DOM" class="headerlink" title="Core DOM"></a>Core DOM</h2><h3 id="1-W3C-DOM标准被分为三个不同的部分"><a href="#1-W3C-DOM标准被分为三个不同的部分" class="headerlink" title="1.W3C DOM标准被分为三个不同的部分"></a>1.W3C DOM标准被分为三个不同的部分</h3><p>1）<strong>Core DOM</strong>是核心DOM，定义了一套标准的针对任何结构化文档的对象，包括HTML、XHTML和XML。核心DOM适合操作节点，如创建、删除、查找等。</p>
<p>2）<strong>XML DOM</strong>定义了所有XML元素的对象和属性，以及访问它们的方法。</p>
<p>3）<strong>HTML DOM</strong>定义了所有HTML元素的对象和属性，以及访问它们的方法。HTML DOM适合操作属性，如读取或修改属性的值等。</p>
<p>当网页被加载时，浏览器会创建页面的文档对象模型。Document对象使用户可以从脚本中对HTML页面中的所有元素进行访问。另外，Document对象是window对象的一部分，可通过window.document属性对其进行访问。</p>
<h3 id="2-DOM树结构分析"><a href="#2-DOM树结构分析" class="headerlink" title="2.DOM树结构分析"></a>2.DOM树结构分析</h3><p>DOM节点分为三大类：元素节点、文本节点、属性节点。</p>
<p>其中，元素节点又叫标签节点，指文档中的各种HTML标签；文本节点和属性节点为元素节点的两个子节点，分别表示标签中的文字和标签的属性。通过getElement系列方法，可以取到元素节点。</p>
<p><img src="/2021/09/22/Dom/1.png"></p>
<h3 id="3-操作元素节点"><a href="#3-操作元素节点" class="headerlink" title="3.操作元素节点"></a>3.操作元素节点</h3><h4 id="3-1-getElementById"><a href="#3-1-getElementById" class="headerlink" title="3.1 getElementById"></a>3.1 getElementById</h4><p>getElementById（）方法可返回对拥有指定id的第一个对象的引用</p>
<p>通过id获取唯一的节点，如果存在多个同名id，则只会选取第一个</p>
<p>var divById=getElementById（**”box”**）；</p>
<h4 id="3-2-getElementsByName-getElementsTagName-getElementsClassName"><a href="#3-2-getElementsByName-getElementsTagName-getElementsClassName" class="headerlink" title="3.2 getElementsByName/getElementsTagName/getElementsClassName"></a>3.2 getElementsByName/getElementsTagName/getElementsClassName</h4><p>通过Name、TagName、ClassName取到一个数组，包含多个节点</p>
<p>ar divByName=getElementsByName（**”div1”**）；</p>
<h4 id="3-3-document-querySelector-querySelectorAll"><a href="#3-3-document-querySelector-querySelectorAll" class="headerlink" title="3.3 document.querySelector/querySelectorAll"></a>3.3 document.querySelector/querySelectorAll</h4><p>querySelector（）方法仅仅返回匹配指定CSS选择器的第一个元素。如果需要返回所有的元素，则使用querySelectorAll（）方法替代。</p>
<p>document.querySelector（**”#demo”**）；</p>
<p><strong>注意：</strong></p>
<p>圆括号“（）”中传入参数指定一个或多个匹配元素的CSS选择器。可以使用它们的id、类、类型、属性、属性值等来选取元素。对于多个选择器，使用逗号隔开，返回一个匹配的元素。</p>
<h3 id="4-操作文本节点"><a href="#4-操作文本节点" class="headerlink" title="4.操作文本节点"></a>4.操作文本节点</h3><h4 id="4-1-tagName"><a href="#4-1-tagName" class="headerlink" title="4.1 tagName"></a>4.1 tagName</h4><p>tagName属性返回元素的标签名，即获取节点的标签名。在HTML中，tagName属性的返回值始终是大写字母</p>
<p>div.tagName</p>
<h4 id="4-2-innerHTML"><a href="#4-2-innerHTML" class="headerlink" title="4.2 innerHTML"></a>4.2 innerHTML</h4><p>innerHTML属性设置或返回表格行的开始和结束标签之间的HTML，即设置或者获取节点内部的所有HTML。</p>
<h4 id="4-3-innerText"><a href="#4-3-innerText" class="headerlink" title="4.3 innerText"></a>4.3 innerText</h4><p>innerText属性用来定义对象所要输出的文本，即它可以用来设置或者获取节点内部的所有文字。</p>
<h4 id="4-4innerHTML和innerText区别"><a href="#4-4innerHTML和innerText区别" class="headerlink" title="4.4innerHTML和innerText区别"></a>4.4innerHTML和innerText区别</h4><p>1）innerHTML指的是从对象的起始位置到终止位置的全部内容，包括HTML标签。</p>
<p>2）innerText指的是从起始位置到终止位置的内容，但它去除HTML标签。</p>
<p>innerText只适用于IE浏览器（现在也适应Chrome浏览器），而innerHTML是符合W3C标准的属性。因此，尽可能地使用innerHTML，而少用innerText。</p>
<h3 id="5-操作属性节点"><a href="#5-操作属性节点" class="headerlink" title="5.操作属性节点"></a>5.操作属性节点</h3><h4 id="5-1查看属性节点"><a href="#5-1查看属性节点" class="headerlink" title="5.1查看属性节点"></a>5.1查看属性节点</h4><p>getAttribute（）方法返回指定属性名的属性值，如果以attr对象返回属性，则需要使用getAttributeNode。</p>
<p>基本语法如下：</p>
<p>getAttribute（”属性名”）；</p>
<h4 id="5-2设置属性节点"><a href="#5-2设置属性节点" class="headerlink" title="5.2设置属性节点"></a>5.2设置属性节点</h4><p>setAttribute（）方法添加指定的属性，并为其赋指定的值。如果这个指定的属性已存在，则仅设置或更改属性值。</p>
<p>基本语法如下：</p>
<p>setAttribute（”属性名”，”属性值”）；</p>
<h3 id="6-Javascript修改元素样式"><a href="#6-Javascript修改元素样式" class="headerlink" title="6.Javascript修改元素样式"></a>6.Javascript修改元素样式</h3><h4 id="6-1-className"><a href="#6-1-className" class="headerlink" title="6.1 className"></a>6.1 className</h4><p>使用className直接设置class类，为元素设置一个新的class名字，注意写法是className。</p>
<p>基本语法如下：</p>
<p>div.className=”cls1”；</p>
<h4 id="6-2-style"><a href="#6-2-style" class="headerlink" title="6.2 style"></a>6.2 style</h4><p>使用style设置单个属性，为元素设置一个新的样式，注意属性名要使用小驼峰命名法则。</p>
<p>基本语法如下：</p>
<p>div.style.backgroundColor=”red”；</p>
<h4 id="6-3-style-cssText"><a href="#6-3-style-cssText" class="headerlink" title="6.3 style.cssText"></a>6.3 style.cssText</h4><p>style.cssText为元素同时修改多个样式。使用style或style.cssText可以设置多个样式属性。</p>
<p>基本语法如下：</p>
<p>div.style=”background-color：red；color：yellow；”</p>
<p>div.style.cssText=”background-color：red；color：yellow；” //推荐使用第二种；有输入提示</p>
<h3 id="7-获取层次节点"><a href="#7-获取层次节点" class="headerlink" title="7.获取层次节点"></a>7.获取层次节点</h3><p>文档中所有节点相互之间都有关系，包括父子关系、同胞关系。例如，每个节点都有childNodes属性，保存着一个NodeList对象。NodeList是一种类数组的对象，可以使用childeNode[0]，childNode.item（1）来访问，同时拥有length属性，但并不是Array实例</p>
<h4 id="7-1-childNodes-children"><a href="#7-1-childNodes-children" class="headerlink" title="7.1 childNodes/children"></a>7.1 childNodes/children</h4><p>childNodes：获取元素的所有子节点，包括按Enter键换行等文本节点，结果为数组。</p>
<p>var child=box.childNodes;</p>
<p>children：获取元素的所有元素节点，结果为数组。</p>
<p>var child=box.children;</p>
<p><strong>总结：</strong></p>
<h4 id="7-2-firstChild-firstElementChild"><a href="#7-2-firstChild-firstElementChild" class="headerlink" title="7.2 firstChild/firstElementChild"></a>7.2 firstChild/firstElementChild</h4><p>firstChild：获取元素的第一个子节点，包括按Enter键换行等文本节点；如果存在子元素，则返回第一个子元素，否则返回null。</p>
<p>var child=box.firstChild;</p>
<p>firstElementChild：获取元素的第一个元素子节点，不包括按Enter键换行等文本节点；如果没有元素子节点，则返回null。</p>
<p>var child=box.firstElementChild;</p>
<h4 id="7-3-lastChild-lastElementChild"><a href="#7-3-lastChild-lastElementChild" class="headerlink" title="7.3 lastChild/lastElementChild"></a>7.3 lastChild/lastElementChild</h4><p>lastChild：获取元素的最后一个子节点，包括按Enter键换行等文本节点。</p>
<p>var child=box.lastChild;</p>
<p>lastElementChild：获取元素的最后一个元素子节点，不包括按Enter键换行等文本节点。</p>
<p>var child=box.lastElementChild;</p>
<h4 id="7-4-parentNode"><a href="#7-4-parentNode" class="headerlink" title="7.4 parentNode"></a>7.4 parentNode</h4><p>获取当前节点的父节点</p>
<p>var nodes=box.parentNode;</p>
<h4 id="7-5-previousSibling-previousElementSibling"><a href="#7-5-previousSibling-previousElementSibling" class="headerlink" title="7.5 previousSibling/previousElementSibling"></a>7.5 previousSibling/previousElementSibling</h4><p>previousSibling：获取当前节点的前一个兄弟节点，包括按Enter键换行等文本节点。</p>
<p>previousElementSibling：获取当前节点的前一个兄弟节点，不包括按Enter键换行等文本节点。</p>
<h4 id="7-6-nextSibling-nextElementSibling"><a href="#7-6-nextSibling-nextElementSibling" class="headerlink" title="7.6 nextSibling/nextElementSibling"></a>7.6 nextSibling/nextElementSibling</h4><p>nextSibling：获取当前节点的后一个兄弟节点，包括按Enter键换行等文本节点</p>
<p>nextElementSibling：获取当前节点的后一个兄弟节点，不包括按Enter键换行等文本节点。</p>
<h4 id="7-7-attributes"><a href="#7-7-attributes" class="headerlink" title="7.7 attributes"></a>7.7 attributes</h4><p>获取当前元素节点的所有属性节点,该方法返回的是一个数组</p>
<h3 id="8-创建新节点"><a href="#8-创建新节点" class="headerlink" title="8.创建新节点"></a>8.创建新节点</h3><h4 id="8-1createElement（”标签名”）"><a href="#8-1createElement（”标签名”）" class="headerlink" title="8.1createElement（”标签名”）"></a>8.1createElement（”标签名”）</h4><p>创建一个新的节点，需要配合setAttribute（）方法给新节点设置相关属性。</p>
<p>基本语法如下：</p>
<p>var img=document.createElement（”img”）； //创建一个img节点img.setAttribute（”src”，”kouhao.png”）； //给img节点设置属性值</p>
<h4 id="8-2appendChild（”节点名”）"><a href="#8-2appendChild（”节点名”）" class="headerlink" title="8.2appendChild（”节点名”）"></a>8.2appendChild（”节点名”）</h4><p>appendChild（）方法可向节点的子节点列表的末尾添加新的子节点，即在某元素的最后追加一个新节点。</p>
<p>基本语法如下：</p>
<p>document.body.appendChild（img）； //将设置好的img节点追加到body最后</p>
<h4 id="8-3insertBefore（新节点名，目标节点名）"><a href="#8-3insertBefore（新节点名，目标节点名）" class="headerlink" title="8.3insertBefore（新节点名，目标节点名）"></a>8.3insertBefore（新节点名，目标节点名）</h4><p>将新节点插入到目标节点之前。</p>
<p>基本语法如下：</p>
<p>document.body.insertBefore（img，div1）； //将img节点插到div1之前</p>
<h4 id="8-4cloneNode（true-false）"><a href="#8-4cloneNode（true-false）" class="headerlink" title="8.4cloneNode（true/false）"></a>8.4cloneNode（true/false）</h4><p>cloneNode的作用是复制节点，需要复制哪个节点，就用哪个节点去调用被复制对象；传递参数为true或false，true表示复制当前节点及所有子节点，false表示只复制当前节点，不复制子节点（默认）。</p>
<h3 id="9-删除-替换节点"><a href="#9-删除-替换节点" class="headerlink" title="9.删除/替换节点"></a>9.删除/替换节点</h3><h4 id="9-1removeChild（需删除节点）"><a href="#9-1removeChild（需删除节点）" class="headerlink" title="9.1removeChild（需删除节点）"></a>9.1removeChild（需删除节点）</h4><p>removeChild（）方法指定元素的某个指定的子节点，并从父容器中删除指定节点；以Node对象返回被删除的节点，如果节点不存在则返回null。</p>
<p>基本语法如下：</p>
<p>document.body.removeChild（ul）；//从ul的父容器body中删除ul节点</p>
<h4 id="9-2replaceChild（新节点，被替换节点）"><a href="#9-2replaceChild（新节点，被替换节点）" class="headerlink" title="9.2replaceChild（新节点，被替换节点）"></a>9.2replaceChild（新节点，被替换节点）</h4><p>用新节点替换指定节点。如果新节点是页面中已有节点，则会将此节点删除后，替换到指定节点。</p>
<p>基本语法如下：</p>
<p>document.body.replaceChild（newDiv，oldDiv）； //使用newDiv替换掉oldDiv</p>
<h2 id="HTML-DOM"><a href="#HTML-DOM" class="headerlink" title="HTML DOM"></a>HTML DOM</h2><h3 id="1-HTML-DOM操作表格对象"><a href="#1-HTML-DOM操作表格对象" class="headerlink" title="1.HTML DOM操作表格对象"></a>1.HTML DOM操作表格对象</h3><h4 id="1-1rows属性"><a href="#1-1rows属性" class="headerlink" title="1.1rows属性"></a>1.1rows属性</h4><p>返回表格中的所有行，返回的是一个数组格式</p>
<p>table.rows[]； //返回表格的所有行tr</p>
<p>获得第一行对象：table.rows[0]</p>
<h4 id="1-2insertRow（index）方法"><a href="#1-2insertRow（index）方法" class="headerlink" title="1.2insertRow（index）方法"></a>1.2insertRow（index）方法</h4><p>在表格的第index行，插入一个新行，index表示插入的位置，0＜=index＜=表格的行数</p>
<p>table.insertRow（index）； //index表示插入的位置，0＜=index＜=表格的行数table.insertRow（table.rows.length）； //在表格最后插入一新行</p>
<h4 id="1-3deleteRow（index）方法"><a href="#1-3deleteRow（index）方法" class="headerlink" title="1.3deleteRow（index）方法"></a>1.3deleteRow（index）方法</h4><p>删除表格的第index行，index表示删除的位置，0＜=index＜=表格的行数</p>
<p>table.deleteRow（index）； //0＜=index＜=表格的行数table.deleteRow（table.rows.length-1）； //删除表格最后一行</p>
<h3 id="2-HTML-DOM操作行对象"><a href="#2-HTML-DOM操作行对象" class="headerlink" title="2.HTML DOM操作行对象"></a>2.HTML DOM操作行对象</h3><h4 id="2-1cells属性"><a href="#2-1cells属性" class="headerlink" title="2.1cells属性"></a>2.1cells属性</h4><p>返回当前行中的所有单元格的一个数组，即返回包含行中所有单元格的一个数组</p>
<p>table.rows[0].cells； //返回表格的第一行的所有单元格</p>
<p>获得第一行第一个单元格对象：table.rows[0].cells[0]</p>
<h4 id="2-2rowIndex属性"><a href="#2-2rowIndex属性" class="headerlink" title="2.2rowIndex属性"></a>2.2rowIndex属性</h4><p>返回当前行在表格中的索引顺序，索引从0开始，即返回该行在表中的位置。</p>
<p>table.rows[].rowIndex； //返回该行在表格中的索引值</p>
<h4 id="2-3insertCell（index）方法"><a href="#2-3insertCell（index）方法" class="headerlink" title="2.3insertCell（index）方法"></a>2.3insertCell（index）方法</h4><p>在当前行的第index处插入一个＜td＞，index表示插入的位置，0＜=index＜=表格的行数。</p>
<p>基本语法如下：</p>
<p>tableRow.insertCell（index）； //index表示插入的位置，0＜=index＜=表格的行数</p>
<p>tableRow.insertCell（table.rows.cells.length）； //在行最后插入一新单元格</p>
<h4 id="2-4deleteCell（index）方法"><a href="#2-4deleteCell（index）方法" class="headerlink" title="2.4deleteCell（index）方法"></a>2.4deleteCell（index）方法</h4><p>删除当前行的第index个＜td＞，index表示删除的位置，0＜=index＜=表格的行数。</p>
<p>基本语法如下：</p>
<p>tableRow.deleteCell（index）； //index表示删除的位置，0＜=index＜=表格的行数</p>
<p>tableRow.deleteCell（table.rows.cells.length-1）； //删除该行最后一个单元格</p>
<h3 id="3-HTML-DOM操作单元格对象"><a href="#3-HTML-DOM操作单元格对象" class="headerlink" title="3.HTML DOM操作单元格对象"></a>3.HTML DOM操作单元格对象</h3><h4 id="3-1cellIndex属性"><a href="#3-1cellIndex属性" class="headerlink" title="3.1cellIndex属性"></a>3.1cellIndex属性</h4><p><strong>返回</strong>单元格在该行的索引顺序，从0开始，即返回该单元格在某行单元格集合中的位置。</p>
<p>基本语法如下</p>
<p>：table.rows[0].cells[0].cellIndex； //返回该单元格在某行中的索引值0</p>
<h4 id="3-2innerHTML属性"><a href="#3-2innerHTML属性" class="headerlink" title="3.2innerHTML属性"></a>3.2innerHTML属性</h4><p><strong>返回或设置</strong>当前单元格中的HTML，即设置或返回单元格的开始标签和结束标签之间的HTML。</p>
<p>基本语法如下：</p>
<p>table.rows[].cells[].innerHTML； //返回该当前单元格中的HTML</p>
<h4 id="3-3align属性"><a href="#3-3align属性" class="headerlink" title="3.3align属性"></a>3.3align属性</h4><p><strong>设置或返回</strong>单元格内部数据的水平排列方式，即设置当前单元格的水平对齐方式。基本语法如下：</p>
<p>table.rows[].cells[].align； //返回该行在表格中的索引值</p>
<h4 id="3-4className属性"><a href="#3-4className属性" class="headerlink" title="3.4className属性"></a>3.4className属性</h4><p>设置或返回元素的class属性，即设置或获取单元格的class名称。</p>
<p>基本语法如下：</p>
<p>table.rows[].cells[].className；//返回该行在表格中的索引值</p>
]]></content>
      <categories>
        <category>对象模型</category>
      </categories>
      <tags>
        <tag>文档对象模型</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6</title>
    <url>/2021/09/02/ES6-ES11/</url>
    <content><![CDATA[<h3 id="一、let关键字"><a href="#一、let关键字" class="headerlink" title="一、let关键字"></a>一、let关键字</h3><p>用来声明变量，有几个特点</p>
<ol>
<li>不允许重复声明</li>
<li>块儿级作用域</li>
<li>不存在变量提升</li>
<li>不影响作用域链</li>
</ol>
<h3 id="二、const关键字"><a href="#二、const关键字" class="headerlink" title="二、const关键字"></a>二、const关键字</h3><p>用来声明变量，有以下特点</p>
<ol>
<li>声明必须赋初始值</li>
<li>标识符一般大写</li>
<li>不允许重复声明</li>
<li>值不允许修改</li>
<li>块儿级作用域</li>
</ol>
<p><strong>注意</strong>：对象属性修改和数组元素变化不会触发const错误</p>
<p><strong>应用场景</strong>：声明对象类型使用const，非对象类型声明选择let</p>
<h3 id="三、变量的解构赋值"><a href="#三、变量的解构赋值" class="headerlink" title="三、变量的解构赋值"></a>三、变量的解构赋值</h3><p>从数组和对象中提取值，对变量进行赋值</p>
<p>频繁使用对象方法，数组元素，就可以使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数组的解构赋值</span></span><br><span class="line"><span class="keyword">const</span> arr=[<span class="string">&#x27;张三&#x27;</span>,<span class="string">&#x27;李四&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> [zhangsan,lisi]=arr</span><br><span class="line"><span class="built_in">console</span>.log(zhangsan)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//对象的解构赋值</span></span><br><span class="line"><span class="keyword">const</span> lin=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;林志吟&#x27;</span>,</span><br><span class="line">    <span class="attr">tags</span>:[<span class="string">&#x27;车手&#x27;</span>,<span class="string">&#x27;歌手&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name,tags&#125;=lin</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//复杂解构</span></span><br><span class="line"><span class="keyword">let</span> wangfei=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;网费&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">19</span>,</span><br><span class="line">    <span class="attr">songs</span>:[<span class="string">&#x27;红豆&#x27;</span>,<span class="string">&#x27;流年&#x27;</span>],</span><br><span class="line">    <span class="attr">history</span>:[</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">&#x27;窦唯&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">name</span>:<span class="string">&#x27;李亚鹏&#x27;</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">spngs</span>:[one,two],<span class="attr">history</span>:[first,second]&#125;=wangfei</span><br></pre></td></tr></table></figure>

<h3 id="四、模板字符串"><a href="#四、模板字符串" class="headerlink" title="四、模板字符串"></a>四、模板字符串</h3><p>增强版的字符串，用反引号（`）标识，特点</p>
<ol>
<li>字符串中可以出现换行符</li>
<li>可以使用${xxx}形式输出变量</li>
</ol>
<p>当遇到字符串与变量拼接的情况使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//定义字符串</span></span><br><span class="line"><span class="keyword">let</span> str=<span class="string">`&lt;ul&gt;</span></span><br><span class="line"><span class="string">		&lt;li&gt;善解人意&lt;/li&gt;</span></span><br><span class="line"><span class="string">	&lt;/ul&gt;`</span></span><br><span class="line"><span class="comment">//变量拼接</span></span><br><span class="line"><span class="keyword">let</span> name=<span class="string">&quot;张三&quot;</span></span><br><span class="line"><span class="keyword">let</span> result=<span class="string">`<span class="subst">$&#123;name&#125;</span>哈哈哈`</span></span><br></pre></td></tr></table></figure>

<h3 id="五、简化对象写法"><a href="#五、简化对象写法" class="headerlink" title="五、简化对象写法"></a>五、简化对象写法</h3><p>允许在大括号里面，直接写入变量和函数，作为对象的属性和方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name=<span class="string">&quot;zhangsan&quot;</span></span><br><span class="line"><span class="keyword">let</span> slogan=<span class="string">&quot;fighting&quot;</span></span><br><span class="line"><span class="keyword">let</span> improve=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;加油&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//简写属性和方法</span></span><br><span class="line"><span class="keyword">let</span> zhang=&#123;</span><br><span class="line">    name,</span><br><span class="line">    slogan,</span><br><span class="line">    improve,</span><br><span class="line">    <span class="function"><span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;改变&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="六、箭头函数"><a href="#六、箭头函数" class="headerlink" title="六、箭头函数"></a>六、箭头函数</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//通用写法</span></span><br><span class="line"><span class="keyword">let</span> fn=<span class="function">(<span class="params">arg1,arg2</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ol>
<li>如果形参只有一个，则小括号可以省略</li>
<li>函数体如果只有一条语句，则花括号可以省略，函数的返回值为该条语句的执行结果</li>
<li>箭头函数this指向声明时所在作用域下this的值</li>
<li>箭头函数不能作为构造函数实例化</li>
<li>不能使用arguments</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//如果形参只有一个，则小括号可以省略</span></span><br><span class="line"><span class="keyword">let</span> fn2=<span class="function"><span class="params">num</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num*<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数体如果只有一条语句，则花括号可以省略，函数的返回值为该条语句的执行结果</span></span><br><span class="line"><span class="keyword">let</span> fn3=<span class="function"><span class="params">score</span>=&gt;</span>score*<span class="number">2</span></span><br><span class="line"><span class="comment">//this指向声明时所在作用域下this的值</span></span><br><span class="line"><span class="keyword">let</span> fn4=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> school=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;hhh&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> fn5=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="七、rest参数"><a href="#七、rest参数" class="headerlink" title="七、rest参数"></a>七、rest参数</h3><p>用于获取函数的实参，用来代替arguments</p>
<p>适合不定个数参数函数的场景</p>
<ul>
<li>作用与arguments类似</li>
<li>rest参数必须是最后一个形参</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args)</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minus</span>(<span class="params">a,b,...args</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a,b,args)</span><br><span class="line">&#125;</span><br><span class="line">minus(<span class="number">100</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<h3 id="八、spread扩展运算符"><a href="#八、spread扩展运算符" class="headerlink" title="八、spread扩展运算符"></a>八、spread扩展运算符</h3><p>好比rest参数的逆运算，将一个数组转为用逗号分隔的参数序列，对数组进行解包</p>
<p><strong>应用</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.数组的合并</span></span><br><span class="line"><span class="keyword">const</span> kuaizi=[<span class="string">&#x27;王台了&#x27;</span>,<span class="string">&#x27;小样&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> fenghuan=[<span class="string">&#x27;增益&#x27;</span>,<span class="string">&#x27;零花&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> zuixuan=kuaizi.concat(fenghuan);</span><br><span class="line"><span class="built_in">console</span>.log(zuixuan);</span><br><span class="line"><span class="keyword">const</span> zuixuan=[...kuaizi,...fenghuan];</span><br><span class="line"><span class="built_in">console</span>.log(zuixuan);</span><br><span class="line"><span class="comment">//2.数组的克隆</span></span><br><span class="line"><span class="keyword">const</span> sanzhihua=[<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;G&#x27;</span>,<span class="string">&#x27;M&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> sanyecao=[...sanzhihua];</span><br><span class="line"><span class="built_in">console</span>.log(sanyecao);</span><br><span class="line"><span class="comment">//3.将伪数组转为真正的数组</span></span><br><span class="line"><span class="keyword">const</span> divs=<span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> divArr=[...divs];</span><br><span class="line"><span class="built_in">console</span>.log(divArr);</span><br></pre></td></tr></table></figure>

<h3 id="九、Symbol基本使用"><a href="#九、Symbol基本使用" class="headerlink" title="九、Symbol基本使用"></a>九、Symbol基本使用</h3><h4 id="1-Symbol基本使用"><a href="#1-Symbol基本使用" class="headerlink" title="1.Symbol基本使用"></a>1.Symbol基本使用</h4><p>第七种数据类型，是一种类似于字符串的数据类型</p>
<p><strong>特点：</strong></p>
<ul>
<li>值是唯一的，用来解决命名冲突的问题</li>
<li>值不能与其他数据进行运算</li>
<li>定义的对象属性不能使用for…in 循环遍历，但是可以使用Reflect.ownKeys来获取对象的所有键名</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建symbol</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">console</span>.log(s,<span class="keyword">typeof</span> s);<span class="comment">//Symbol() &#x27;symbol&#x27;</span></span><br><span class="line"><span class="comment">//添加标识的Symbol</span></span><br><span class="line"><span class="keyword">let</span> s2=<span class="built_in">Symbol</span>(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s3=<span class="built_in">Symbol</span>(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s2===s3);<span class="comment">//false</span></span><br><span class="line"><span class="comment">//symbol.for创建</span></span><br><span class="line"><span class="keyword">let</span> s4=<span class="built_in">Symbol</span>.for(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> s5=<span class="built_in">Symbol</span>.for(<span class="string">&#x27;as&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s4===s5);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Symbol内置值（11个）"><a href="#2-Symbol内置值（11个）" class="headerlink" title="2.Symbol内置值（11个）"></a>2.Symbol内置值（11个）</h4><p>Symbol.hasInstance </p>
<p>当其他对象使用 instanceof 运算符，判断是否为该对象的实例时，会调用这个方法 </p>
<p>Symbol.isConcatSpreadable </p>
<p>对象的 Symbol.isConcatSpreadable 属性等于的是一个 布尔值，表示该对象用于 Array.prototype.concat()时， 是否可以展开。 </p>
<p>Symbol.species </p>
<p>创建衍生对象时，会使用该属性 </p>
<p>Symbol.match </p>
<p>当执行 str.match(myObject) 时，如果该属性存在，会 调用它，返回该方法的返回值。 </p>
<p>Symbol.replace </p>
<p>当该对象被 str.replace(myObject)方法调用时，会返回 该方法的返回值。 </p>
<p>Symbol.search </p>
<p>当该对象被 str.search (myObject)方法调用时，会返回 该方法的返回值。 </p>
<p>Symbol.split </p>
<p>当该对象被 str.split(myObject)方法调用时，会返回该方法的返回值。 </p>
<p>Symbol.iterator </p>
<p>对象进行 for…of 循环时，会调用 Symbol.iterator 方法，返回该对象的默认遍历器 </p>
<p>Symbol.toPrimitive </p>
<p>该对象被转为原始类型的值时，会调用这个方法，返 回该对象对应的原始类型值。 </p>
<p>Symbol. toStringTag </p>
<p>在该对象上面调用 toString 方法时，返回该方法的返 回值 </p>
<p>Symbol. unscopables </p>
<p>该对象指定了使用 with 关键字时，哪些属性会被 with 环境排除。</p>
<h3 id="十、迭代器"><a href="#十、迭代器" class="headerlink" title="十、迭代器"></a>十、迭代器</h3><p>它是一种接口，为各种不同的数据结构提供统一的访问机制。任何数据结构只要部署 Iterator 接口，就可以完成遍历操作。</p>
<p>1.ES6 创造了一种新的遍历命令 for…of 循环，Iterator 接口主要供 for…of 消费 </p>
<p>2.原生具备 iterator 接口的数据(可用 for of 遍历) </p>
<p>a) Array </p>
<p>b) Arguments </p>
<p>c) Set </p>
<p>d) Map </p>
<p>e) String </p>
<p>f) TypedArray </p>
<p>g) NodeList </p>
<p>3.工作原理 </p>
<p>a) 创建一个指针对象，指向当前数据结构的起始位置 </p>
<p>b) 第一次调用对象的 next 方法，指针自动指向数据结构的第一个成员 </p>
<p>c) 接下来不断调用 next 方法，指针一直往后移动，直到指向最后一个成员 </p>
<p>d) 每调用 next 方法返回一个包含 value 和 done 属性的对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明一个数组</span></span><br><span class="line"><span class="keyword">const</span> xiyou=[<span class="string">&#x27;唐僧&#x27;</span>,<span class="string">&#x27;孙悟空&#x27;</span>,<span class="string">&#x27;猪八戒&#x27;</span>,<span class="string">&#x27;沙僧&#x27;</span>];</span><br><span class="line"><span class="comment">//使用for.. of 遍历数组</span></span><br><span class="line"><span class="comment">// for(let v of xiyou)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(v);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">let</span> iterator=xiyou[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="comment">//调用对象的next方法</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br><span class="line"><span class="built_in">console</span>.log(iterator.next());</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/ES6-ES11/1.png"></p>
<h3 id="十一、生成器"><a href="#十一、生成器" class="headerlink" title="十一、生成器"></a>十一、生成器</h3><p>生成器函数是 ES6 提供的一种异步编程解决方案，语法行为与传统函数完全不同</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//生成器其实就是一个特殊的函数</span></span><br><span class="line"><span class="comment">//异步编程 纯回调函数 node fs ajax mongodb</span></span><br><span class="line"><span class="comment">//函数代码的分隔符</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;一只没有耳朵&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;一只没有尾部&#x27;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;真奇怪&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> iterator=gen();</span><br><span class="line">    <span class="comment">//遍历</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> gen())&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v);<span class="comment">//一只没有耳朵 一只没有尾部 真奇怪</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1.*的位置没有限制 </p>
<p>2.生成器函数返回的结果是迭代器对象，调用迭代器对象的 next 方法可以得到 yield 语句后的值 </p>
<p>3.yield 相当于函数的暂停标记，也可以认为是函数的分隔符，每调用一次 next 方法，执行一段代码 </p>
<p>4.next 方法可以传递实参，作为 yield 语句的返回值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params">arg</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arg);</span><br><span class="line">    <span class="comment">// yield 111;</span></span><br><span class="line">    <span class="comment">// yield 222;</span></span><br><span class="line">    <span class="comment">// yield 333;</span></span><br><span class="line">    <span class="keyword">let</span> one=<span class="keyword">yield</span> <span class="number">111</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(one);</span><br><span class="line">    <span class="keyword">let</span> two=<span class="keyword">yield</span> <span class="number">222</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(two);</span><br><span class="line">    <span class="keyword">let</span> three=<span class="keyword">yield</span> <span class="number">333</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(three);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//执行获取迭代器对象</span></span><br><span class="line">    <span class="keyword">let</span> iterator=gen(<span class="string">&#x27;AAA&#x27;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next());</span><br><span class="line">    <span class="comment">//next方法可以传入参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next(<span class="string">&#x27;BBB&#x27;</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next(<span class="string">&#x27;CCC&#x27;</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(iterator.next(<span class="string">&#x27;DDD&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/ES6-ES11/2.png"></p>
<p>实例1：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//异步编程 文件操作 网络操作（ajax,request)数据库操作</span></span><br><span class="line"><span class="comment">//1s后控制条输出 111 2s后输出222 3s后输出333</span></span><br><span class="line"><span class="comment">//回调</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">one</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">111</span>);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">two</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">222</span>);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">three</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">333</span>);</span><br><span class="line">        iterator.next();</span><br><span class="line">    &#125;,<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> one();</span><br><span class="line">    <span class="keyword">yield</span> two();</span><br><span class="line">    <span class="keyword">yield</span> three();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用生成器函数</span></span><br><span class="line"><span class="keyword">let</span> iterator=gen();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure>

<p>实例2：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//模拟获取 用户海事局 订单数据 商品数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUsers</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data=<span class="string">&#x27;用户数据&#x27;</span>;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getOrders</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data=<span class="string">&#x27;订单数据&#x27;</span>;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGoods</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> data=<span class="string">&#x27;商品数据&#x27;</span>;</span><br><span class="line">        iterator.next(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> users=<span class="keyword">yield</span> getUsers();</span><br><span class="line">    <span class="built_in">console</span>.log(users);</span><br><span class="line">    <span class="keyword">let</span> orders=<span class="keyword">yield</span> getOrders();</span><br><span class="line">    <span class="built_in">console</span>.log(orders);</span><br><span class="line">    <span class="keyword">let</span> goods=<span class="keyword">yield</span> getGoods();</span><br><span class="line">    <span class="built_in">console</span>.log(goods);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iterator=gen();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure>

<h3 id="十二、Promise"><a href="#十二、Promise" class="headerlink" title="十二、Promise"></a>十二、Promise</h3><p>Promise 是 ES6 引入的<strong>异步编程</strong>的新解决方案。语法上 Promise 是一个构造函数， 用来封装异步操作并可以获取其成功或失败的结果。</p>
<p>1.Promise 构造函数: Promise (excutor) {} </p>
<p>2.Promise.prototype.then 方法 </p>
<p>3.Promise.prototype.catch 方法 </p>
<h4 id="promise基本语法"><a href="#promise基本语法" class="headerlink" title="promise基本语法"></a>promise基本语法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//实例化Promise对象</span></span><br><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">// let data=&#x27;数据库中的用户数据&#x27;;</span></span><br><span class="line">        <span class="comment">// resolve(data);//返回正确的数据</span></span><br><span class="line">        <span class="keyword">let</span> err=<span class="string">&#x27;数据读取失败&#x27;</span>;</span><br><span class="line">        reject(err);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//调用promise对象的then方法</span></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);<span class="comment">//数据正确时的返回结果也就是resolve</span></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;<span class="comment">//reject时的返回结果</span></span><br><span class="line">    <span class="built_in">console</span>.log(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise-prototype-then方法"><a href="#Promise-prototype-then方法" class="headerlink" title="Promise.prototype.then方法"></a>Promise.prototype.then方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;用户数据&#x27;</span>);</span><br><span class="line">        <span class="comment">// reject(&#x27;出错了&#x27;);</span></span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//调用then方法 then方法的返回结果是Promise对象，对象状态由回调函数的执行结果决定</span></span><br><span class="line"><span class="comment">//1.如果回调函数中返回的结果是 非promise类型的属性，状态为成功，返回值为对象的成功值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result=p.then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">    <span class="comment">//1.非promise类型的属性</span></span><br><span class="line">    <span class="comment">// return &#x27;iloveyou&#x27;;</span></span><br><span class="line">    <span class="comment">//2.是promise对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">        <span class="comment">// reject(&#x27;error&#x27;);</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//3.抛出错误</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;出错了&#x27;</span>);</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;出错了&#x27;</span>;</span><br><span class="line">&#125;,<span class="function"><span class="params">reason</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise-catch方法"><a href="#Promise-catch方法" class="headerlink" title="Promise-catch方法"></a>Promise-catch方法</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置p对象的状态为失败，并设置失败的值</span></span><br><span class="line">        reject(<span class="string">&quot;出错啦&quot;</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// p.then(function (value)&#123;</span></span><br><span class="line"><span class="comment">// &#125;,function(reason)&#123;</span></span><br><span class="line"><span class="comment">//     console.error(reason);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line">p.catch(<span class="function"><span class="keyword">function</span> (<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.warn(reason);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="Promise封装ajax"><a href="#Promise封装ajax" class="headerlink" title="Promise封装ajax"></a>Promise封装ajax</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">            xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;https://api.apiopen.top/getJoke&#x27;</span>);</span><br><span class="line">    xhr.send();</span><br><span class="line">    xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span><br><span class="line">                resolve(xhr.response);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                reject(xhr.status);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//指定回调</span></span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise封装读取文件"><a href="#Promise封装读取文件" class="headerlink" title="Promise封装读取文件"></a>Promise封装读取文件</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.引入fs模块</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="comment">//2.调用方法读取文件</span></span><br><span class="line">fs.readFile(<span class="string">&#x27;./resources/为学.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//如果失败，则抛出错误</span></span><br><span class="line">    <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="comment">//如果没有出错，则输出内容</span></span><br><span class="line">    <span class="built_in">console</span>.log(data.toString());</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//3.使用promise封装</span></span><br><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">&#x27;./resources/为学.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//判断如果失败</span></span><br><span class="line">        <span class="keyword">if</span>(err) <span class="keyword">throw</span> err;</span><br><span class="line">        <span class="comment">//如果成功</span></span><br><span class="line">        resolve(data);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value.toString);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">&#x27;读取失败！&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Promise封装读取多个文件"><a href="#Promise封装读取多个文件" class="headerlink" title="Promise封装读取多个文件"></a>Promise封装读取多个文件</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入fs 模块</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="comment">//使用promise实现</span></span><br><span class="line"><span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    fs.readFile(<span class="string">&#x27;./resources/为学.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">        resolve(data.toString); </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">p.then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.readFile(<span class="string">&#x27;./resources/插秧诗.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">            resolve([value,data]); </span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        fs.readFile(<span class="string">&#x27;./resources/观书有感.md&#x27;</span>,<span class="function">(<span class="params">err,data</span>)=&gt;</span>&#123;</span><br><span class="line">           <span class="comment">//压入</span></span><br><span class="line">           value.push(data);</span><br><span class="line">           resolve(value);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="十三、Set"><a href="#十三、Set" class="headerlink" title="十三、Set"></a>十三、Set</h3><p>它类似于数组，但成员的值都是唯 一的，集合实现了 iterator 接口，所以可以使用『扩展运算符』和『for…of…』进 行遍历</p>
<p>集合的属性和方法：</p>
<p>1.size </p>
<p>返回集合的元素个数 </p>
<p>2.add </p>
<p>增加一个新元素，返回当前集合 </p>
<p>3.delete </p>
<p>删除元素，返回 boolean 值 </p>
<p>4.has </p>
<p>检测集合中是否包含某个元素，返回 boolean 值 </p>
<p>5.clear </p>
<p>清空集合，返回 undefined </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明一个set</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">let</span> s2=<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;大事儿&#x27;</span>,<span class="string">&#x27;小事儿&#x27;</span>,<span class="string">&#x27;好事儿&#x27;</span>,<span class="string">&#x27;坏事儿&#x27;</span>,<span class="string">&#x27;小事儿&#x27;</span>]);</span><br><span class="line"><span class="comment">//元素个数</span></span><br><span class="line"><span class="built_in">console</span>.log(s2.size);</span><br><span class="line"><span class="comment">//添加新的元素</span></span><br><span class="line">s2.add(<span class="string">&#x27;喜事儿&#x27;</span>);</span><br><span class="line"><span class="comment">//删除元素</span></span><br><span class="line">s2.delete(<span class="string">&#x27;坏事儿&#x27;</span>);</span><br><span class="line"><span class="comment">//检测</span></span><br><span class="line"><span class="built_in">console</span>.log(s2.has(<span class="string">&#x27;糟心事&#x27;</span>));</span><br><span class="line">s2.clear();</span><br><span class="line"><span class="built_in">console</span>.log(s2);</span><br></pre></td></tr></table></figure>

<p><strong>set集合实践</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="comment">//1.数组去重</span></span><br><span class="line"><span class="keyword">let</span> result=[...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">//2.交集</span></span><br><span class="line"><span class="keyword">let</span> arr2=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> result=[...new <span class="built_in">Set</span>(arr)].filter(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">let</span> s2=<span class="keyword">new</span> <span class="built_in">Set</span>(arr2);</span><br><span class="line">	<span class="keyword">if</span>(s2.has(item))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;);</span><br><span class="line"><span class="keyword">let</span> result=[...new <span class="built_in">Set</span>(arr)].filter(<span class="function"><span class="params">item</span>=&gt;</span><span class="keyword">new</span> <span class="built_in">Set</span>(arr2).has(item));</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">//3.并集</span></span><br><span class="line"><span class="keyword">let</span> union=[...new <span class="built_in">Set</span>([...arr,...arr2])];</span><br><span class="line"><span class="built_in">console</span>.log(union);</span><br><span class="line"><span class="comment">//4.差集</span></span><br><span class="line"><span class="keyword">let</span> diff=[...new <span class="built_in">Set</span>(arr)].filter(<span class="function"><span class="params">item</span>=&gt;</span>!<span class="keyword">new</span> <span class="built_in">Set</span>(arr2).has(item))</span><br><span class="line"><span class="built_in">console</span>.log(diff);</span><br></pre></td></tr></table></figure>

<h3 id="十四、Map"><a href="#十四、Map" class="headerlink" title="十四、Map"></a>十四、Map</h3><p>它类似于对象，也是键值对的集合。但是“键” 的范围不限于字符串，各种类型的值（包括对象）都可以当作键。Map 也实现了 iterator 接口，所以可以使用『扩展运算符』和『for…of…』进行遍历。</p>
<p>Map 的属 性和方法： </p>
<p>1.size </p>
<p>返回 Map 的元素个数 </p>
<p>2.set </p>
<p>增加一个新元素，返回当前 Map </p>
<p>3.get </p>
<p>返回键名对象的键值 </p>
<p>4.has </p>
<p>检测 Map 中是否包含某个元素，返回 boolean 值 </p>
<p>5.clear </p>
<p>清空集合，返回 undefined </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明Map</span></span><br><span class="line"><span class="keyword">let</span> m=<span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="comment">//添加元素</span></span><br><span class="line">m.set(<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;ozawa&#x27;</span>);</span><br><span class="line">m.set(<span class="string">&#x27;change&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;我们可以改变你&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> key=&#123;</span><br><span class="line"><span class="attr">school</span>:<span class="string">&#x27;ATUGUI&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line">m.set(key,[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>]);</span><br><span class="line"><span class="comment">//size</span></span><br><span class="line"><span class="built_in">console</span>.log(m.size);</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line">m.delete(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="comment">//获取</span></span><br><span class="line"><span class="built_in">console</span>.log(m.get(<span class="string">&#x27;name&#x27;</span>));</span><br><span class="line"><span class="built_in">console</span>.log(m.get(key));</span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> c <span class="keyword">of</span> m)&#123;</span><br><span class="line"><span class="built_in">console</span>.log(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//清空</span></span><br><span class="line">m.clear();</span><br></pre></td></tr></table></figure>

<h3 id="十五、class类"><a href="#十五、class类" class="headerlink" title="十五、class类"></a>十五、class类</h3><p>引入了 Class（类）这个概念，作为对 象的模板。通过 class 关键字，可以定义类。基本上，ES6 的 class 可以看作只是 一个语法糖，它的绝大部分功能，ES5 都可以做到，新的 class 写法只是让对象 原型的写法更加清晰、更像面向对象编程的语法而已。</p>
<p>1.class 声明类 </p>
<p>2.constructor 定义构造函数初始化 </p>
<p>3.extends 继承父类 </p>
<p>4.super 调用父级构造方法 </p>
<p>5.static 定义静态方法和属性 </p>
<p>6.父类方法可以重写 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line"> <span class="comment">//构造方法</span></span><br><span class="line"> <span class="function"><span class="title">constructor</span>(<span class="params">brand, color, price</span>)</span> &#123;</span><br><span class="line"> <span class="built_in">this</span>.brand = brand;</span><br><span class="line"> <span class="built_in">this</span>.color = color;</span><br><span class="line"> <span class="built_in">this</span>.price = price;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//对象方法</span></span><br><span class="line"> <span class="function"><span class="title">call</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">&#x27;我可以打电话!!!&#x27;</span>)</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="title">constructor</span>(<span class="params">brand, color, price, screen, pixel</span>)</span> &#123;</span><br><span class="line"> <span class="built_in">super</span>(brand, color, price);</span><br><span class="line"> <span class="built_in">this</span>.screen = screen;</span><br><span class="line"> <span class="built_in">this</span>.pixel = pixel;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//子类方法</span></span><br><span class="line"> <span class="function"><span class="title">photo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;我可以拍照!!&#x27;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="title">playGame</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;我可以玩游戏!!&#x27;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//方法重写</span></span><br><span class="line"> <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">&#x27;我可以进行视频通话!!&#x27;</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//静态方法</span></span><br><span class="line"> <span class="keyword">static</span> <span class="function"><span class="title">run</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以运行程序&#x27;</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">static</span> <span class="function"><span class="title">connect</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以建立连接&#x27;</span>)</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化对象</span></span><br><span class="line"><span class="keyword">const</span> Nokia = <span class="keyword">new</span> Phone(<span class="string">&#x27;诺基亚&#x27;</span>, <span class="string">&#x27;灰色&#x27;</span>, <span class="number">230</span>);</span><br><span class="line"><span class="keyword">const</span> iPhone6s = <span class="keyword">new</span> SmartPhone(<span class="string">&#x27;苹果&#x27;</span>, <span class="string">&#x27;白色&#x27;</span>, <span class="number">6088</span>, </span><br><span class="line"><span class="string">&#x27;4.7inch&#x27;</span>,<span class="string">&#x27;500w&#x27;</span>);</span><br><span class="line"><span class="comment">//调用子类方法</span></span><br><span class="line">iPhone6s.playGame();</span><br><span class="line"><span class="comment">//调用重写方法</span></span><br><span class="line">iPhone6s.call();</span><br><span class="line"><span class="comment">//调用静态方法</span></span><br><span class="line">SmartPhone.run();</span><br></pre></td></tr></table></figure>

<p><strong>class类</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//手机</span></span><br><span class="line"><span class="comment">// function Phone(brand,price)&#123;</span></span><br><span class="line"><span class="comment">//     this.brand=brand;</span></span><br><span class="line"><span class="comment">//     this.price=price;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// //添加方法</span></span><br><span class="line"><span class="comment">// Phone.prototype.call=function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&#x27;我可以打电话&#x27;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// //实例化对象</span></span><br><span class="line"><span class="comment">// let Huawei=new Phone(&#x27;华为&#x27;,5000);</span></span><br><span class="line"><span class="comment">// Huawei.call();</span></span><br><span class="line"><span class="comment">// console.log(Huawei);</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shouji</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造方法 名字不能修改</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">brand,price</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.brand=brand;</span><br><span class="line">    <span class="built_in">this</span>.price=price;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//方法必须使用该语法，不能使用ES5的对象完整形式</span></span><br><span class="line">    <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;我可以打电话！！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> onePlus=<span class="keyword">new</span> Shouji(<span class="string">&quot;1+&quot;</span>,<span class="number">1999</span>);</span><br><span class="line"><span class="built_in">console</span>.log(onePlus);</span><br></pre></td></tr></table></figure>

<p><strong>类的静态成员</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// function Phone()&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Phone.name=&#x27;手机&#x27;;</span></span><br><span class="line"><span class="comment">// Phone.change=function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;我可以改变世界&quot;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Phone.prototype.size=&#x27;5.5inch&#x27;;</span></span><br><span class="line"><span class="comment">// let nokia=new Phone();</span></span><br><span class="line"><span class="comment">// console.log(nokia.name);//undefined</span></span><br><span class="line"><span class="comment">// nokia.change();//无法实现</span></span><br><span class="line"><span class="comment">// console.log(nokia.size);</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="comment">//静态属性</span></span><br><span class="line">    <span class="keyword">static</span> name=<span class="string">&#x27;手机&#x27;</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="title">change</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&quot;我可以改变世界&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> nokia=<span class="keyword">new</span> Phone();</span><br><span class="line"><span class="built_in">console</span>.log(nokia.name);<span class="comment">//undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(Phone.name);<span class="comment">//手机</span></span><br></pre></td></tr></table></figure>

<p><strong>class的set-get</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//get set</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title">price</span>()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;获取价格&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;iloveyou&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title">price</span>(<span class="params">newVal</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;价格被改变&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化独享</span></span><br><span class="line"><span class="keyword">let</span> s=<span class="keyword">new</span> Phone();</span><br><span class="line"><span class="built_in">console</span>.log(s.price)</span><br><span class="line">s.price=<span class="string">&#x27;free&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>类继承1</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//手机</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Phone</span>(<span class="params">brand,price</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.brand=brand;</span><br><span class="line">    <span class="built_in">this</span>.price=price;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//添加方法</span></span><br><span class="line">Phone.prototype.call=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以打电话&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//智能手机</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SmartPhone</span>(<span class="params">brand,price,color,size</span>)</span>&#123;</span><br><span class="line">    Phone.call(<span class="built_in">this</span>,brand,price);</span><br><span class="line">    <span class="built_in">this</span>.color=color;</span><br><span class="line">    <span class="built_in">this</span>.size=size;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//设置子级构造函数的原型</span></span><br><span class="line">SmartPhone.prototype=<span class="keyword">new</span> Phone;</span><br><span class="line">SmartPhone.prototype.constructor=SmartPhone;</span><br><span class="line"><span class="comment">//声明子类的方法</span></span><br><span class="line">SmartPhone.prototype.photo=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&quot;我可以拍照&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">SmartPhone.prototype.playGame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;我可以玩游戏&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> chuizi=<span class="keyword">new</span> SmartPhone(<span class="string">&#x27;锤子&#x27;</span>,<span class="number">2499</span>,<span class="string">&#x27;黑色&#x27;</span>,<span class="string">&#x27;5.5inch&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(chuizi);</span><br></pre></td></tr></table></figure>

<p><strong>类继承2</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">brand,price</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.brand=brand;</span><br><span class="line">        <span class="built_in">this</span>.price=price;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//父类成员属性</span></span><br><span class="line">    <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;我可以打电话&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SmartPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="comment">//构造方法</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">brand,price,color,size</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//Phone.call(this,brand,price)</span></span><br><span class="line">        <span class="built_in">super</span>(brand,price);</span><br><span class="line">        <span class="built_in">this</span>.color=color;</span><br><span class="line">        <span class="built_in">this</span>.size=size;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">photo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&#x27;拍照&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">playGame</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&#x27;玩游戏&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//对父类重写</span></span><br><span class="line">    <span class="function"><span class="title">call</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="built_in">console</span>.log(<span class="string">&quot;hhhhh&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> xiaomi=<span class="keyword">new</span> SmartPhone(<span class="string">&#x27;小米&#x27;</span>,<span class="number">799</span>,<span class="string">&#x27;黑色&#x27;</span>,<span class="string">&#x27;5.5inch&#x27;</span>);</span><br><span class="line"><span class="comment">// console.log(xiaomi);</span></span><br><span class="line">xiaomi.call();</span><br><span class="line">xiaomi.photo();</span><br><span class="line">xiaomi.playGame();</span><br></pre></td></tr></table></figure>

<h3 id="十六、数值扩展"><a href="#十六、数值扩展" class="headerlink" title="十六、数值扩展"></a>十六、数值扩展</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Number.EPSILON是js表示的最小精度</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">equal</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Math</span>.abs(a-b)&lt;<span class="built_in">Number</span>.EPSILON)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0.1</span>+<span class="number">0.2</span>===<span class="number">0.3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(equal(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>));</span><br></pre></td></tr></table></figure>

<h3 id="十七、二进制和八进制"><a href="#十七、二进制和八进制" class="headerlink" title="十七、二进制和八进制"></a>十七、二进制和八进制</h3><h3 id="十八、对象扩展"><a href="#十八、对象扩展" class="headerlink" title="十八、对象扩展"></a>十八、对象扩展</h3><ol>
<li>Object.is 比较两个值是否严格相等，与『===』行为基本一致（+0 与 NaN） </li>
</ol>
<p>2.Object.assign 对象的合并，将源对象的所有可枚举属性，复制到目标对象 </p>
<p>3.proto__、setPrototypeOf、 setPrototypeOf 可以直接设置对象的原型 </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.Object.is判断两个值是否完全相等</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="number">120</span>,<span class="number">120</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>,<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>===<span class="literal">NaN</span>);<span class="comment">//false</span></span><br><span class="line"><span class="comment">//2.Objec.assign对象的合并</span></span><br><span class="line"><span class="keyword">const</span> config1=&#123;</span><br><span class="line">     <span class="attr">host</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">     <span class="attr">port</span>:<span class="number">3306</span>,</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">     <span class="attr">pass</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">     <span class="attr">test</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> config2=&#123;</span><br><span class="line">     <span class="attr">host</span>:<span class="string">&#x27;http://www.baidu.com&#x27;</span>,</span><br><span class="line">     <span class="attr">port</span>:<span class="number">33060</span>,</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&#x27;baidu.comt&#x27;</span>,</span><br><span class="line">     <span class="attr">pass</span>:<span class="string">&#x27;hhhhh&#x27;</span>,</span><br><span class="line">     <span class="attr">test</span>:<span class="string">&#x27;test2&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.assign(config1,config2));</span><br><span class="line"><span class="comment">//3.Object.setPrototypeOf设置原型对象Object.getPrototypeOf</span></span><br><span class="line"><span class="keyword">const</span> school=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;彭彭&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cities=&#123;</span><br><span class="line">    <span class="attr">xiaoqu</span>:[<span class="string">&#x27;北京&#x27;</span>,<span class="string">&#x27;上海&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(school,cities);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(school));</span><br><span class="line"><span class="built_in">console</span>.log(school);</span><br></pre></td></tr></table></figure>

<h3 id="十九、模块化"><a href="#十九、模块化" class="headerlink" title="十九、模块化"></a>十九、模块化</h3><p>模块化是指将一个大的程序文件，拆分成许多小的文件，然后将小文件组合起来</p>
<p>模块化的优势有以下几点： </p>
<ol>
<li><p>防止命名冲突 </p>
</li>
<li><p>代码复用 </p>
</li>
<li><p>高维护性</p>
</li>
</ol>
<p>模块功能主要由两个命令构成：export 和 import。 </p>
<ul>
<li><p>export 命令用于规定模块的对外接口 </p>
</li>
<li><p>import 命令用于输入其他模块提供的功能</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//m1.js</span></span><br><span class="line"><span class="comment">//分别暴露</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> school=<span class="string">&#x27;1111&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">teach</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我们可以&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//m2.js</span></span><br><span class="line"><span class="comment">//统一暴露</span></span><br><span class="line"><span class="keyword">let</span> school=<span class="string">&#x27;aaa&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findJob</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;我们&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123;school,findJob&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//m3.js</span></span><br><span class="line"><span class="comment">//默认暴露</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">    <span class="attr">school</span>:<span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">    <span class="attr">change</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;whuhvus&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">    <span class="comment">//1.通用的导入方式</span></span><br><span class="line">    <span class="comment">//引入m1.js模块内容</span></span><br><span class="line">    <span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./m1.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m1); </span><br><span class="line">    <span class="comment">//引入m2.js</span></span><br><span class="line">    <span class="keyword">import</span> * <span class="keyword">as</span> m2 <span class="keyword">from</span> <span class="string">&quot;./m2.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m2);</span><br><span class="line">    <span class="comment">//引入m3.js</span></span><br><span class="line">    <span class="keyword">import</span> * <span class="keyword">as</span> m3 <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m3);</span><br><span class="line">    m3.default.change();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.解构赋值形式</span></span><br><span class="line">    <span class="keyword">import</span> &#123;school,teach&#125; <span class="keyword">from</span> <span class="string">&quot;./m1.js&quot;</span>;</span><br><span class="line">    <span class="keyword">import</span> &#123;school <span class="keyword">as</span> gg,findJob&#125; <span class="keyword">from</span> <span class="string">&quot;./m2.js&quot;</span>;</span><br><span class="line">    <span class="keyword">import</span> &#123;<span class="keyword">default</span> <span class="keyword">as</span> m3&#125; <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.简便形式 针对默认暴露</span></span><br><span class="line">    <span class="keyword">import</span> m3 <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m3);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./app.js&quot;</span> type=<span class="string">&quot;module&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="comment">//入口文件</span></span><br><span class="line"><span class="comment">//模块引入</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m1 <span class="keyword">from</span> <span class="string">&quot;./m1.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m2 <span class="keyword">from</span> <span class="string">&quot;./m2.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> m3 <span class="keyword">from</span> <span class="string">&quot;./m3.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(m3);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ES6-ES11</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>Git&amp;GitHub</title>
    <url>/2021/09/06/Git/</url>
    <content><![CDATA[<h3 id="一、版本控制工具的功能"><a href="#一、版本控制工具的功能" class="headerlink" title="一、版本控制工具的功能"></a>一、版本控制工具的功能</h3><h4 id="1-协同修改"><a href="#1-协同修改" class="headerlink" title="1.协同修改"></a>1.协同修改</h4><ul>
<li>多人并行不悖的修改服务器端的同一个文件</li>
</ul>
<h4 id="2-数据备份"><a href="#2-数据备份" class="headerlink" title="2.数据备份"></a>2.数据备份</h4><ul>
<li>不仅保存目录和文件的当前状态，还能够保存每一个提交过的状态</li>
</ul>
<h4 id="3-版本管理"><a href="#3-版本管理" class="headerlink" title="3.版本管理"></a>3.版本管理</h4><ul>
<li>在保存每一个版本的文件信息的时候要做到不保存重复数据，以节约存储空间，提高运行效率。这方面SVN采用的是增量式管理的方式，而Git采取了文件系统快照的方式</li>
</ul>
<h4 id="4-权限控制"><a href="#4-权限控制" class="headerlink" title="4.权限控制"></a>4.权限控制</h4><ul>
<li>对团队中参与开发的人员进行权限控制</li>
<li>对团队开发者贡献的代码进行审核——Git独有</li>
</ul>
<h4 id="5-历史记录"><a href="#5-历史记录" class="headerlink" title="5.历史记录"></a>5.历史记录</h4><ul>
<li>查看修改人、修改时间、修改内容、日志信息</li>
<li>将本地文件恢复到某一个历史状态</li>
</ul>
<h4 id="6-分支管理"><a href="#6-分支管理" class="headerlink" title="6.分支管理"></a>6.分支管理</h4><ul>
<li>允许开发团队在工作过程中多条生产线同时推进任务，进一步提高效率</li>
</ul>
<h3 id="二、版本控制简介"><a href="#二、版本控制简介" class="headerlink" title="二、版本控制简介"></a>二、版本控制简介</h3><h4 id="1-集中式版本控制工具"><a href="#1-集中式版本控制工具" class="headerlink" title="1.集中式版本控制工具"></a>1.集中式版本控制工具</h4><p>CVS、SVN、VSS……</p>
<h4 id="2-分布式版本控制工具"><a href="#2-分布式版本控制工具" class="headerlink" title="2.分布式版本控制工具"></a>2.分布式版本控制工具</h4><p>Git</p>
<p>有效避免单点故障</p>
<h3 id="三、Git简史"><a href="#三、Git简史" class="headerlink" title="三、Git简史"></a>三、Git简史</h3><h4 id="1-Git官网"><a href="#1-Git官网" class="headerlink" title="1.Git官网"></a>1.Git官网</h4><p>地址：<a href="https://git-scm.com/">https://git-scm.com/</a></p>
<h4 id="2-Git优势"><a href="#2-Git优势" class="headerlink" title="2.Git优势"></a>2.Git优势</h4><ul>
<li>大部分操作在本地完成，不需要联网</li>
<li>完整性保证（文件的完整性）</li>
<li>尽可能添加数据而不是删除或修改数据（因为删除就找不回来了）</li>
<li>分支操作而非常快捷流畅</li>
<li>与Linux命令全面兼容</li>
</ul>
<h3 id="四、Git结构"><a href="#四、Git结构" class="headerlink" title="四、Git结构"></a>四、Git结构</h3><p>Git在本地的结构</p>
<p><img src="/2021/09/06/Git/1.png"></p>
<h3 id="五、Git和代码托管中心"><a href="#五、Git和代码托管中心" class="headerlink" title="五、Git和代码托管中心"></a>五、Git和代码托管中心</h3><h4 id="1-局域网环境下"><a href="#1-局域网环境下" class="headerlink" title="1.局域网环境下"></a>1.局域网环境下</h4><p>GitLab服务器</p>
<h4 id="2-外网环境下行"><a href="#2-外网环境下行" class="headerlink" title="2.外网环境下行"></a>2.外网环境下行</h4><ul>
<li>GitHub</li>
<li>码云（Gitee）</li>
</ul>
<h4 id="3-代码托管中心的任务"><a href="#3-代码托管中心的任务" class="headerlink" title="3.代码托管中心的任务"></a>3.代码托管中心的任务</h4><p>维护远程库</p>
<h3 id="六、本地库和远程库"><a href="#六、本地库和远程库" class="headerlink" title="六、本地库和远程库"></a>六、本地库和远程库</h3><h4 id="1-团队内部协作"><a href="#1-团队内部协作" class="headerlink" title="1.团队内部协作"></a>1.团队内部协作</h4><p><img src="/2021/09/06/Git/2.png"></p>
<h4 id="3-跨团队协作"><a href="#3-跨团队协作" class="headerlink" title="3.跨团队协作"></a>3.跨团队协作</h4><p><img src="/2021/09/06/Git/3.png"></p>
<h3 id="七、Git命令行操作"><a href="#七、Git命令行操作" class="headerlink" title="七、Git命令行操作"></a>七、Git命令行操作</h3><h4 id="1-本地库初始化"><a href="#1-本地库初始化" class="headerlink" title="1.本地库初始化"></a>1.本地库初始化</h4><p>（1）命令：git init </p>
<p>（2）效果</p>
<p><img src="/2021/09/06/Git/4.png"></p>
<p>（3）注意：.git目录中存放的是本地库相关的子目录和文件，不要删除，也不要胡乱修改</p>
<h4 id="2-设置签名"><a href="#2-设置签名" class="headerlink" title="2.设置签名"></a>2.设置签名</h4><p>（1）形式</p>
<p>用户名：cranberry</p>
<p>Email地址：<a href="mailto:&#99;&#x72;&#x61;&#x6e;&#98;&#101;&#x72;&#x72;&#121;&#x40;&#x71;&#113;&#46;&#99;&#x6f;&#x6d;">&#99;&#x72;&#x61;&#x6e;&#98;&#101;&#x72;&#x72;&#121;&#x40;&#x71;&#113;&#46;&#99;&#x6f;&#x6d;</a></p>
<p>（2）作用：区分不同开发人员的身份</p>
<p>（3）辨析：这里设置的签名和登录远程库（代码托管中心）的账号密码没有任何关系</p>
<p>（4）命令</p>
<ul>
<li>项目级别/仓库级别：仅在当前本地库范围内有效<ul>
<li>git <strong>config</strong> user.name cranberry</li>
<li>git <strong>config</strong> user.email <a href="mailto:&#99;&#x72;&#x61;&#110;&#x62;&#x65;&#114;&#x72;&#x79;&#64;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;">&#99;&#x72;&#x61;&#110;&#x62;&#x65;&#114;&#x72;&#x79;&#64;&#113;&#x71;&#x2e;&#x63;&#x6f;&#109;</a></li>
</ul>
</li>
<li>系统用户级别：登录当前操作系统的用户范围<ul>
<li>git config <strong>–global</strong> user.name cranberry</li>
<li>git config <strong>–global</strong> user.email <a href="mailto:&#x63;&#x72;&#97;&#x6e;&#x62;&#x65;&#114;&#x72;&#x79;&#64;&#x71;&#x71;&#46;&#99;&#111;&#x6d;">&#x63;&#x72;&#97;&#x6e;&#x62;&#x65;&#114;&#x72;&#x79;&#64;&#x71;&#x71;&#46;&#99;&#111;&#x6d;</a></li>
</ul>
</li>
<li>级别优先级<ul>
<li>就近原则：项目级别优先于系统用户级别，二者都有时采用项目级别的签名</li>
<li>如果只有系统用户级别的签名，就以系统用户级别的签名为准</li>
<li>二者都没有不允许</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/06/Git/5.png"></p>
<h4 id="3-基本操作"><a href="#3-基本操作" class="headerlink" title="3.基本操作"></a>3.基本操作</h4><h5 id="（1）状态查看操作"><a href="#（1）状态查看操作" class="headerlink" title="（1）状态查看操作"></a>（1）状态查看操作</h5><p>git status:查看工作区、暂存区状态</p>
<h5 id="（2）添加操作"><a href="#（2）添加操作" class="headerlink" title="（2）添加操作"></a>（2）添加操作</h5><p>git add [filename]:将工作区的“新建/修改”添加到暂存区</p>
<h5 id="（3）提交操作"><a href="#（3）提交操作" class="headerlink" title="（3）提交操作"></a>（3）提交操作</h5><p>git commit -m “commit message” [filename]:将暂存区的内容提交到本地库</p>
<h5 id="（4）查看历史记录操作"><a href="#（4）查看历史记录操作" class="headerlink" title="（4）查看历史记录操作"></a>（4）查看历史记录操作</h5><ul>
<li>git log</li>
</ul>
<p><img src="/2021/09/06/Git/6.png"></p>
<p>多屏显示控制方式：空格向下翻页、b向上翻页、q退出</p>
<ul>
<li>git log –pretty=oneline</li>
</ul>
<p><img src="/2021/09/06/Git/7.png"></p>
<ul>
<li>git log –oneline</li>
</ul>
<p><img src="/2021/09/06/Git/8.png"></p>
<ul>
<li>git reflog</li>
</ul>
<p><img src="/2021/09/06/Git/9.png"></p>
<p>HEAD@{移动到当前笨笨需要多少步}</p>
<h5 id="（5）前进后退"><a href="#（5）前进后退" class="headerlink" title="（5）前进后退"></a>（5）前进后退</h5><ul>
<li>基于索引值操作【推荐】<ul>
<li>git reset –hard [局部索引值]</li>
<li>git reset –hard a6ace91</li>
</ul>
</li>
<li>使用^符号：只能后退<ul>
<li>git reset –hard HEAD^</li>
<li>注：一个^表示后退一步，n个表示后退n步</li>
</ul>
</li>
<li>使用~符号：只能后提<ul>
<li>git reset –hard HEAD~n</li>
<li>注：表示后退n步</li>
</ul>
</li>
</ul>
<h5 id="（6）reset命令的三个参数对比"><a href="#（6）reset命令的三个参数对比" class="headerlink" title="（6）reset命令的三个参数对比"></a>（6）reset命令的三个参数对比</h5><ul>
<li>–soft参数<ul>
<li>仅仅在本地库移动HEAD指针</li>
</ul>
</li>
<li>–mixed参数<ul>
<li>在本地库移动HEAD指针</li>
<li>重置暂存区</li>
</ul>
</li>
<li>–hard参数<ul>
<li>在本地库移动HEAD指针</li>
<li>重置暂存区</li>
<li>重置工作区</li>
</ul>
</li>
</ul>
<h5 id="（7）删除文件并找回"><a href="#（7）删除文件并找回" class="headerlink" title="（7）删除文件并找回"></a>（7）删除文件并找回</h5><ul>
<li>前提：删除前，文件存在时的状态提交到了本地库</li>
<li>操作：git reset –hard[指针位置]<ul>
<li>删除操作已经提交到本地库：指针位置指向历史记录</li>
<li>删除操作尚未提交到本地库：指针位置使用HEAD</li>
</ul>
</li>
</ul>
<h5 id="（8）比较文件差异"><a href="#（8）比较文件差异" class="headerlink" title="（8）比较文件差异"></a>（8）比较文件差异</h5><ul>
<li><p>git diff[文件名]</p>
<ul>
<li>将工作区中的文件和暂存区进行比较</li>
</ul>
</li>
<li><p>git diff [本地库中历史版本] [文件名]</p>
<ul>
<li>将工作区中的文件和本地库历史记录比较</li>
</ul>
</li>
<li><p>不带文件名比较多个文件</p>
</li>
</ul>
<h4 id="4-分支管理"><a href="#4-分支管理" class="headerlink" title="4.分支管理"></a>4.分支管理</h4><h5 id="（1）什么是分支？"><a href="#（1）什么是分支？" class="headerlink" title="（1）什么是分支？"></a>（1）什么是分支？</h5><p>在版本控制过程中，使用多条线同时推进多个任务</p>
<h5 id="（2）分支的好处"><a href="#（2）分支的好处" class="headerlink" title="（2）分支的好处"></a>（2）分支的好处</h5><ul>
<li>同时并行推进多个功能开发，提高开发效率</li>
<li>各个分支在开发过程中，如果某一个分支开发失败，不会对其他分支有任何影响。失败的分支删除重新开始即可</li>
</ul>
<h5 id="（3）分支操作"><a href="#（3）分支操作" class="headerlink" title="（3）分支操作"></a>（3）分支操作</h5><ul>
<li><p>创建分支</p>
<ul>
<li>git branch[分支名]</li>
</ul>
</li>
<li><p>查看分支</p>
<ul>
<li>git branch -v</li>
</ul>
</li>
<li><p>切换分支</p>
<ul>
<li>git checkout [分支名]</li>
</ul>
</li>
<li><p>合并分支</p>
<ul>
<li><p>第一步：切换到接受修改的分支（被合并，增加新内容）上</p>
<p>git checkout[分支名]</p>
</li>
<li><p>第二部：执行merge命令</p>
<p>git merge[分支名]</p>
</li>
</ul>
</li>
<li><p>解决冲突</p>
<ul>
<li>冲突的表现：<ul>
<li>一个文件的同一个地方同时被修改</li>
</ul>
</li>
<li>冲突的解决<ul>
<li>第一步：编辑文件，删除特殊符号</li>
<li>第二步：把文件修改到满意的程度，保存退出</li>
<li>第三步：gi add [文件名]</li>
<li>第四步：git commit -m “日志信息”<ul>
<li>注意：此时commit 一定不能带具体文件名</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="八、Github"><a href="#八、Github" class="headerlink" title="八、Github"></a>八、Github</h4><h5 id="1-在本地创建远程库地址别名"><a href="#1-在本地创建远程库地址别名" class="headerlink" title="1.在本地创建远程库地址别名"></a>1.在本地创建远程库地址别名</h5><ul>
<li>git remote -v<ul>
<li>查看起的别名</li>
</ul>
</li>
<li>git remote add [别名] [远程地址]<ul>
<li>起别名</li>
</ul>
</li>
</ul>
<h5 id="2-推送操作"><a href="#2-推送操作" class="headerlink" title="2.推送操作"></a>2.推送操作</h5><ul>
<li>git push [别名] [要推送的分支]</li>
</ul>
<h5 id="3-克隆操作"><a href="#3-克隆操作" class="headerlink" title="3.克隆操作"></a>3.克隆操作</h5><ul>
<li>命令<ul>
<li>git clone [远程地址]</li>
</ul>
</li>
<li>效果<ul>
<li>完整地把远程库下载到本地</li>
<li>创建origin远程地址别名</li>
<li>初始化本地库</li>
</ul>
</li>
</ul>
<h5 id="4-拉取"><a href="#4-拉取" class="headerlink" title="4.拉取"></a>4.拉取</h5><ul>
<li>pull=fetch+merge</li>
<li>git fetch [远程库地址别名] [远程分支名]</li>
<li>git merge [远程库地址别名/远程分支名]</li>
<li>git pull [远程库地址别名] [远程分支名]</li>
</ul>
<h5 id="5-解决冲突"><a href="#5-解决冲突" class="headerlink" title="5.解决冲突"></a>5.解决冲突</h5><ul>
<li>如果不是基于Github远程库的最新版所做的修改，不能推送，必须先拉取</li>
<li>拉取下来后如果进入冲突状态，则按照“分支冲突结局额”操作解决即可</li>
</ul>
]]></content>
      <categories>
        <category>版本控制工具</category>
      </categories>
      <tags>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js</title>
    <url>/2021/09/02/Node-js/</url>
    <content><![CDATA[<h2 id="一、node基础"><a href="#一、node基础" class="headerlink" title="一、node基础"></a>一、node基础</h2><h4 id="1-命令行窗口"><a href="#1-命令行窗口" class="headerlink" title="1.命令行窗口"></a>1.命令行窗口</h4><h5 id="1-1常用指令"><a href="#1-1常用指令" class="headerlink" title="1.1常用指令"></a>1.1常用指令</h5><p>（1）<strong>dir</strong>    列出当前目录下的所有文件</p>
<p>（2）<strong>cd 目录名</strong>    进入到指定的目录</p>
<p>（3）<strong>md 目录名</strong>    创建一个文件夹</p>
<p>（4）<strong>rd 目录名</strong>    删除一个文件夹</p>
<p>（5）<strong>d:</strong>    去d盘</p>
<h5 id="1-2目录"><a href="#1-2目录" class="headerlink" title="1.2目录"></a>1.2目录</h5><p>.    表示当前目录</p>
<p>..    表示上一级目录</p>
<h5 id="1-3环境变量（windows系统中的变量）"><a href="#1-3环境变量（windows系统中的变量）" class="headerlink" title="1.3环境变量（windows系统中的变量）"></a>1.3环境变量（windows系统中的变量）</h5><p>与作用域链一样的（？）</p>
<p>path：当我们在命令行窗口打开一个文件，或调用一个程序时，系统会首先在当前目录下寻找文件程序，如果找到了则直接打开，如果没有找到则会依次到环境变量path的路径中寻找，直到扎到为止，如果没有找到则报错</p>
<p>所以我们可以将一些经常需要访问的文件和路径添加到path中，这样我们就可以在任意位置来访问文件和程序了。</p>
<h4 id="2-进程和线程"><a href="#2-进程和线程" class="headerlink" title="2.进程和线程"></a>2.进程和线程</h4><p><strong>进程</strong></p>
<ul>
<li>进程负责为程序的运行提供必备的环境</li>
<li>进程就相当于工厂中的车间</li>
</ul>
<p><strong>线程</strong></p>
<ul>
<li>线程计算机中的最小的计算单位，线程负责执行进程中的程序线程就相当于工厂中的工人</li>
</ul>
<p>单线程（JS)</p>
<p>多线程（主流）：并发问题</p>
<h4 id="3-node-js简介"><a href="#3-node-js简介" class="headerlink" title="3.node.js简介"></a>3.node.js简介</h4><p>（1）Node.js不是一门语言，不是库，不是框架，是一个构建与谷歌V8引擎之上的js运行时环境</p>
<p>（2）Node.js可以解析和执行js代码，可以完全脱离浏览器来运行</p>
<p>（3）Node.js中的js没有DOM,BOM,在Node这个执行环境中为js提供了一些服务器级别的操作API</p>
<ul>
<li>文件读写</li>
<li>网络服务的构建</li>
<li>网络通信</li>
<li>http服务器</li>
</ul>
<p>（4）Node.js使用事件驱动，非阻塞IO模型（异步），使他更加的轻量和高效</p>
<p>（5）Node.js包生态系统，npm是世界上最大的开源库生态系统</p>
<p>与系统进行交互，从前端拿到后台</p>
<p>Node.js是一个能够在服务器端运行JavaScript的开放源代码、跨平台JavaScript运行环境</p>
<p><img src="/2021/09/02/Node-js/1.png"></p>
<p>Node的用途：<br>（1）Web服务API，比如REST</p>
<p>（2）实时多人游戏</p>
<p>（3）后端的Web服务，例如跨域、服务端的请求</p>
<p>（4）基于Web的应用</p>
<p>（5）多客户端的通信，如及时通信</p>
<ol>
<li><p>Node是对ES标准的一个实现，Node也是一个JS引擎</p>
</li>
<li><p>通过Node可以使js代码在服务端执行</p>
</li>
<li><p>Node仅仅对ES标准进行了实现，所以Node不包含DOM和BOM</p>
</li>
<li><p>Node中可以使用所有的内建对象</p>
<p>String Number Boolean Math Date RegExp Function Object Array</p>
<p>而BOM和DOM都不能使用，但是可以使用console也可以使用定时器（setTimeout() setInterval())</p>
</li>
<li><p>Node可以在后台来编写服务器</p>
<p>Node编写服务器都是单线程的服务器</p>
<ul>
<li>进程：进程就是一个一个的工作计划（工厂中的车间）</li>
<li>线程：线程是计算机最小的运算单位（工厂中的工人），线程是干活的</li>
</ul>
</li>
<li><p>传统的服务器都是多线程的</p>
<p>每进来一个请求，就创建一个线程去处理请求</p>
</li>
<li><p>Node的服务器单线程的</p>
<p>Node处理请求时是单线程，但是在后台拥有一个I/O线程池</p>
</li>
</ol>
<h4 id="4-模块化"><a href="#4-模块化" class="headerlink" title="4.模块化"></a>4.模块化</h4><p>（1）模块化</p>
<p> -在node中，一个js文件就是一个模块</p>
<p>  -在node中，每一个js文件中的js代码都是独立运行在一个函数中</p>
<p> 而不是全局作用域，所以一个模块中的变量和函数在其他模块中无法访问</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;我是一个模块，我是02.module.js&quot;</span>);</span><br></pre></td></tr></table></figure>

<p> 我们可以通过exports来向外部暴露变量和方法</p>
<p> 只主要将需要暴露给外部的变量或方法设置为exports的属性即可</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//向外暴露属性或方法</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.x=<span class="string">&quot;我是02&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.y=<span class="string">&quot;我是y&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.fn=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）引入其他模块</p>
<p>在node中，通过require()函数来引入外部的模块</p>
<p>require()可以传递一个文件的路径作为参数，node将会自动根据该路径来引入外部模块，这里路径，如果使用相对路径，必须以.或..开头</p>
<p>使用require()引入模块以后，该函数会返回一个对象，这个对象代表的是引入的模块</p>
<p>我们使用require()引入外部模块时，使用的就是模块标识，我们可以通过模块标识来找到指定的模块</p>
<p>-模块分成两大类</p>
<p>核心模块</p>
<p>-由node引擎提供的模块</p>
<p>-核心模块的标识就是，模块的名字</p>
<p>文件模块</p>
<p>-由用户自己创建的模块</p>
<p>-文件模块的标识就是文件的路径（绝对路径，相对路径）</p>
<p>相对路径使用..或.开头</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> md=<span class="built_in">require</span>(<span class="string">&quot;./02.module&quot;</span>)<span class="comment">//点js可以省略</span></span><br><span class="line"><span class="keyword">const</span> mt=<span class="built_in">require</span>(<span class="string">&quot;./math&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">// console.log(mt.add(1,2))</span></span><br><span class="line"><span class="comment">// console.log(mt.mul(1,2))</span></span><br><span class="line"><span class="built_in">console</span>.log(fs)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>在node中有一个全局对象global，它的作用和网页中window类似</p>
<p>在全局中创建的变量都会作为global的属性保存</p>
<p>在全局中创建的函数都会作为global的方法保存</p>
</li>
<li><p>当node在执行模块中的代码时，它会首先在代码的<strong>最顶部</strong>，添加如下代码</p>
<p>function (exports,require,module,_filename,_dirname){</p>
<p>在代码的<strong>最底部</strong>，添加如下代码</p>
<p>}</p>
</li>
<li><p>实际上模块中的代码都是包装在一个函数中执行的，并且在函数执行时，同时传递了<strong>5个实参</strong><br><strong>exports</strong>：该对象用来将变量或函数暴露到外部<br><strong>require</strong>：函数，用来引入外部的模块<br><strong>module</strong>：代表的是当前模块本身，exports就是module的属性，既可以使用exports到处，也可以用module.exports导出<br><strong>_filename</strong>：当前模块的完整路径<br><strong>_dirname</strong>：当前模块所在文件夹的完整路径</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// var a=10;//他不是全局变量，全局变量是window的属性</span></span><br><span class="line">a=<span class="number">10</span>;<span class="comment">//是全局的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(global.a)undefined/10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * arguments.callee</span></span><br><span class="line"><span class="comment"> * 这个属性保存的是当前执行的函数对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// console.log(arguments)//可以证明不是全局的</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee+<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（3）exports和module.exports</p>
<p> * 通过exports只能使用.的方式来向外暴露内部变量exports.xxx=xxx</p>
<p> * 而module.exports既可以通过.的形式，也可以直接赋值</p>
<p><img src="/2021/09/02/Node-js/4.png"></p>
<p><img src="/2021/09/02/Node-js/5.png"></p>
<p><img src="/2021/09/02/Node-js/6.png"></p>
<h4 id="5-包结构"><a href="#5-包结构" class="headerlink" title="5.包结构"></a>5.包结构</h4><p>包实际上就是一个压缩文件，解压以后还原为目录。符合规范的目录，应该包含如下文件：</p>
<ul>
<li><strong>package.json 描述文件</strong>（不能写注释）</li>
<li>bin 可执行二进制文件</li>
<li>lib js代码</li>
<li>doc 文档</li>
<li>test 单元测试</li>
</ul>
<p>包描述文件用于表达非代码相关的信息，它是一个JSON格式的文件-package.json，位于包的根目录下，是包的重要组成部分</p>
<h4 id="6-npm简介（Node-Package-Manager）"><a href="#6-npm简介（Node-Package-Manager）" class="headerlink" title="6.npm简介（Node Package Manager）"></a>6.npm简介（Node Package Manager）</h4><ul>
<li>CommonJS包规范是理论，NPM是其中一种实践</li>
<li>对于Node而言，NPM帮助其完成了第三方模块的发布、安装和依赖等。借助NPM，Node与第三方模块之间形成了很好的一个生态系统</li>
</ul>
<p>（1）NPM命令</p>
<ul>
<li>npm init 生成package.json文件<ul>
<li>npm init -y 可以跳过向导，快速生成</li>
</ul>
</li>
<li>npm -v :查看版本</li>
<li>npm version:查看所有模块的版本</li>
<li>npm:帮助说明</li>
<li>npm search 包名 :搜索包</li>
<li>npm install/i 包名：安装包</li>
<li>npm remove/r 包名：删除包</li>
<li>npm install 包名 –save：安装包并添加到依赖中(package.json文件中的dependencis选项)</li>
<li>npm install：下载到当前项目所依赖的包</li>
<li>npm install 包名 -g：全局安装包(全局安装的包一般都是一些工具)</li>
</ul>
<h4 id="7-配置cnpm"><a href="#7-配置cnpm" class="headerlink" title="7.配置cnpm"></a>7.配置cnpm</h4><p>npm.taobao.org</p>
<h4 id="8-npm搜索包的流程"><a href="#8-npm搜索包的流程" class="headerlink" title="8.npm搜索包的流程"></a>8.npm搜索包的流程</h4><ul>
<li>通过npm下载的包都放到node_modules文件夹中</li>
</ul>
<p>我们通过npm下载的包，直接通过包名引入即可</p>
<ul>
<li>node 在使用模块名字来引入模块时，它会首先在当前目录的node_modules中寻找是否含有该模块，如果有则直接使用，如果没有则取上一级目录的node_modules中寻找，如果有则直接使用，如果没有则再去上一级目录寻找，直到找到为止，直到找到磁盘的根目录，如果依然没有，则报错</li>
</ul>
<h4 id="9-文件系统"><a href="#9-文件系统" class="headerlink" title="9.文件系统"></a>9.文件系统</h4><h5 id="9-1Buffer缓冲区"><a href="#9-1Buffer缓冲区" class="headerlink" title="9.1Buffer缓冲区"></a>9.1Buffer缓冲区</h5><ul>
<li><p>Buffer的结构和数组很像，操作的方法也和数组类似</p>
</li>
<li><p>数组中不能存储二进制的文件，而buffer就是专门用来存储二进制数据</p>
</li>
<li><p>使用buffer不需要引入模块，直接使用即可</p>
</li>
<li><p>在buffer中存储的都是二进制数据，但是在显示时都是以16进制的形式显示</p>
<ul>
<li>buffer中每一个元素的范围是从00-ff  0-255     二进制：00000000 - 11111111</li>
<li>计算机一个0或一个1 我们称为1位（bit)</li>
<li>8bit=1byte（字节）</li>
<li>1024byte=1kb,1024kb=1mb,1024mb=1gb,1024gb=1tb</li>
<li>buffer中的一个元素，占用内存的一个字节</li>
</ul>
</li>
<li><p>Buffer的大小一旦确定，则不能修改,Buffer实际上是对底层内存的直接操作</p>
</li>
<li><p>Buffer.from(str) ：将一个字符串转换为buffer</p>
<p>Buffer.alloc(size)：创建一个指定大小的Buffer</p>
<p>Buffer.allocUnsafe(size)：创建一个指定大小的Buffer，但是可能包含敏感数据</p>
<p>buf.toString() ：将缓冲区中的数据转换为字符串</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str=<span class="string">&quot;hello ahdj&quot;</span></span><br><span class="line"><span class="comment">//将一个字符串保存到buffer中</span></span><br><span class="line"><span class="keyword">const</span> buf=Buffer.from(str)</span><br><span class="line"><span class="comment">// console.log(buf.length);//占用内存的大小</span></span><br><span class="line"><span class="comment">// console.log(str.length);//字符串的长度</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个指定大小的buffer</span></span><br><span class="line"><span class="comment">//buffer构造函数都是不推荐使用的</span></span><br><span class="line"><span class="comment">//var buf2=new Buffer(10);//10个字节的buffer</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个10个字节的buffer</span></span><br><span class="line"><span class="keyword">const</span> buf2=Buffer.alloc(<span class="number">10</span>);</span><br><span class="line"><span class="comment">//通过索引，来操作buf2中的元素</span></span><br><span class="line"><span class="comment">//&lt;Buffer 58 ff aa 0f 00 00 00 00 00 00&gt;</span></span><br><span class="line">buf2[<span class="number">0</span>]=<span class="number">88</span>;</span><br><span class="line">buf2[<span class="number">1</span>]=<span class="number">255</span>;</span><br><span class="line">buf2[<span class="number">2</span>]=<span class="number">0xaa</span>;</span><br><span class="line">buf2[<span class="number">3</span>]=<span class="number">15</span>;</span><br><span class="line"><span class="comment">// console.log(buf2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//只要数字在控制台或页面中输出一定是10进制</span></span><br><span class="line"><span class="comment">// console.log(buf2[2]);</span></span><br><span class="line"><span class="comment">//不要10进制</span></span><br><span class="line"><span class="comment">// console.log(buf2[2].toString(16));</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for(let i of buf2)&#123;</span></span><br><span class="line"><span class="comment">//     console.log(i);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Buffer.allocUnsafe(size) 创建一个指定大小的buffer,但是buffer中可能含有铭感数据</span></span><br><span class="line"><span class="comment">//分配内存时没有清空数据，但是这个的性能好</span></span><br><span class="line"><span class="comment">// const buf3=Buffer.allocUnsafe(10);</span></span><br><span class="line"><span class="comment">// console.log(buf3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> buf4=Buffer.from(<span class="string">&quot;我是一段文本数据&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(buf4.toString())</span><br></pre></td></tr></table></figure>

<h5 id="9-2同步文件写入"><a href="#9-2同步文件写入" class="headerlink" title="9.2同步文件写入"></a>9.2同步文件写入</h5><p>（1）文件系统（File System)</p>
<p> * 文件系统简单来说就是通果Node来操作系统中的文件</p>
<p> * 使用文件系统，需要先引入fs模块，fs是核心模块，直接引入不需要下载</p>
<p>（2）文件的写入</p>
<p> 手动操作的步骤</p>
<p> 1）打开文件：fs.openSync(path,flags[,model])</p>
<ul>
<li><p>path ：要打开文件的路径</p>
</li>
<li><p>flags ：打开文件要做的操作的类型</p>
<p>r 只读的  w 可写的</p>
</li>
<li><p>model：设置文件的操作权限，一般不传</p>
</li>
</ul>
<p>2）向文件中写入内容： fs.writeSync(fd,string[,position[,encoding]])</p>
<ul>
<li>fd 文件的描述符，需要传递要写入的文件的描述符</li>
<li>string 要写入的内容</li>
<li>position 写入的起始位置</li>
<li>encoding 写入的编码，默认utf-8</li>
</ul>
<p>3）保存并关闭文件：fs.closeSync(fd)</p>
<p>-fd 要关闭的文件的描述符</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">//打开文件</span></span><br><span class="line"><span class="keyword">const</span> fd=fs.openSync(<span class="string">&quot;hello.txt&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line"><span class="comment">//向文件中写入内容</span></span><br><span class="line">fs.writeSync(fd,<span class="string">&quot;今天&quot;</span>)</span><br><span class="line"><span class="comment">// console.log(fd);</span></span><br><span class="line"><span class="comment">//关闭文件</span></span><br><span class="line">fs.closeSync(fd);</span><br></pre></td></tr></table></figure>

<h5 id="9-3异步文件写入"><a href="#9-3异步文件写入" class="headerlink" title="9.3异步文件写入"></a>9.3异步文件写入</h5><p> （1）fs.open(path,flags[,model],callback)</p>
<ul>
<li>用来打开一个文件</li>
<li>异步调用的方法，结果都是通过回调函数返回的</li>
<li>回调函数两个参数：<ul>
<li>err：错误对象，如果没有错误则为null</li>
<li>fd: 文件的描述符</li>
</ul>
</li>
</ul>
<p> （2）fs.write(fd,string[,position[,encoding]],callback)</p>
<ul>
<li>用来异步写入一个文件</li>
</ul>
<p>（3) fs.close(fd,callback)</p>
<ul>
<li>用来关闭文件</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入fs模块</span></span><br><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="comment">//打开文件</span></span><br><span class="line">fs.open(<span class="string">&quot;hello.txt&quot;</span>,<span class="string">&quot;w&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,fd</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//判断是否出错</span></span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="comment">//如果没有出错，则对文件进行写入操作</span></span><br><span class="line">        fs.write(fd,<span class="string">&quot;这是异步写入的内容&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&quot;写入成功~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//关闭文件</span></span><br><span class="line">            fs.close(fd,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">&quot;文件已关闭~&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="9-4简单文件写入"><a href="#9-4简单文件写入" class="headerlink" title="9.4简单文件写入"></a>9.4简单文件写入</h5><p>（1）fs.writeFile(file,data[,options],callback)</p>
<p>  fs.writeFileSync(file,data[,options])</p>
<ul>
<li>file 要操作的文件的路径</li>
<li>data 要写入的数据</li>
<li>options 选项，可以对写入进行一些设置</li>
<li>callback 当写入完成以后执行的函数</li>
<li>flag-&gt;  r 可读；w 可写；a 追加</li>
</ul>
<h5 id="9-5流式文件写入"><a href="#9-5流式文件写入" class="headerlink" title="9.5流式文件写入"></a>9.5流式文件写入</h5><p>同步、异步、简单文件的写入都不适合大文件的写入，性能较差，容易导致内存溢出</p>
<p>（1）创建一个可写流</p>
<p>fs.createWriteStream(path[,options])</p>
<ul>
<li>可以用来创建一个可写流</li>
<li>path,文件路径</li>
<li>options 配置参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> ws=fs.createWriteStream(<span class="string">&quot;hello3.txt&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>（2）可以通过监听流的open和close事件来监听流的打开和关闭</p>
<p> on(事件字符串，回调函数)</p>
<ul>
<li>可以为对象绑定一个事件</li>
</ul>
<p> once(事件字符串，回调函数)</p>
<ul>
<li>可以为对象绑定一个一次性的事件，该事件将会在触发一次以后自动失效</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ws.on(<span class="string">&quot;open&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;流打开了~~&quot;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// ws.once(&quot;open&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;流打开了~~&quot;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line">ws.on(<span class="string">&quot;close&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;流关闭了~~&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过ws向文件中输出内容</span></span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line">ws.write(<span class="string">&quot;通过可写流写入文件的内容&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//关闭流</span></span><br><span class="line">ws.end();</span><br></pre></td></tr></table></figure>

<h5 id="9-6文件的读取"><a href="#9-6文件的读取" class="headerlink" title="9.6文件的读取"></a>9.6文件的读取</h5><p> （1）同步文件读取</p>
<p> （2）异步文件读取</p>
<p> （3）简单文件读取</p>
<ul>
<li>fs.readFile(path[,options],callback)</li>
<li>fs.readFileSync(path[,options])<ul>
<li>path 要读取的文件的路径</li>
<li>options 读取的选项</li>
<li>callback 回调函数，通过回调函数将读取到内容返回（err, data）<ul>
<li>err 错误对象</li>
<li>data 读取到的数据，会返回一个buffer</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path=<span class="string">&quot;xxxx&quot;</span>;</span><br><span class="line">fs.readFile(<span class="string">&quot;an.jpg&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="comment">// console.log(data.toString());</span></span><br><span class="line">        <span class="comment">//将data写入到文件中</span></span><br><span class="line">        fs.writeFile(<span class="string">&quot;hello.jpg&quot;</span>,data,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&quot;文件写入成功&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>（4）流式文件读取</p>
<p>流式文件读取也适用于一些比较大的文件，可以分多次将文件读取到内存中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fs=<span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//创建一个可读流</span></span><br><span class="line"> <span class="keyword">const</span> rs=fs.createReadStream(<span class="string">&quot;hello3.txt&quot;</span>)</span><br><span class="line"><span class="comment">//创建一个可写流</span></span><br><span class="line"><span class="keyword">const</span> ws=fs.createWriteStream(<span class="string">&quot;ddd.txt&quot;</span>)</span><br><span class="line"><span class="comment">//  //监听流的开启和关闭</span></span><br><span class="line"><span class="comment">//  rs.once(&quot;open&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//      console.log(&quot;可读流打开了&quot;)</span></span><br><span class="line"><span class="comment">//  &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  rs.once(&quot;close&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//      console.log(&quot;可读流关闭了&quot;)</span></span><br><span class="line"><span class="comment">//      //数据读取完毕，关闭科协刘</span></span><br><span class="line"><span class="comment">//      ws.end();</span></span><br><span class="line"><span class="comment">//  &#125;)</span></span><br><span class="line"><span class="comment">// ws.once(&quot;open&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;可写流打开了&quot;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// ws.once(&quot;close&quot;,function()&#123;</span></span><br><span class="line"><span class="comment">//     console.log(&quot;可写流关闭了&quot;)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">//  //如果要读取一个可读流中的数据，必须要为可读流绑定一个data事件，data事件绑定完毕，它会自动供开始读取数据</span></span><br><span class="line"><span class="comment">//  rs.on(&quot;data&quot;,function(data)&#123;</span></span><br><span class="line"><span class="comment">//      console.log(data)</span></span><br><span class="line"><span class="comment">//  &#125;)</span></span><br><span class="line"><span class="comment">//pipe()可以将可读流中的内容，直接输出到可写流中</span></span><br><span class="line"> rs.pipe(ws);</span><br></pre></td></tr></table></figure>

<h5 id="9-7其他"><a href="#9-7其他" class="headerlink" title="9.7其他"></a>9.7其他</h5><p>（1）fs.existsSync(path)</p>
<ul>
<li>检查一个文件是否存在</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isExists=fs.existsSync(<span class="string">&quot;a.mp3&quot;</span>)</span><br><span class="line"><span class="comment">// console.log(isExists)</span></span><br></pre></td></tr></table></figure>

<p>（2）fs.stat(path,callback)</p>
<p>fs.statSync(path)</p>
<ul>
<li>获取文件的状态</li>
<li>它会给我们返回一个对象，这个对象中保存了当前对象状态的相关信息</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.stat(<span class="string">&quot;hello3.txt&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,stat</span>)</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * size 文件的大小</span></span><br><span class="line"><span class="comment">     * isFile()是否是一个文件</span></span><br><span class="line"><span class="comment">     * isDirectory()是否是一个文件夹（目录）</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">console</span>.log(stat);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>（3）fs.unlink(path,callback)</p>
<p>  fs.unlinkSync(path)</p>
<ul>
<li>删除文件</li>
</ul>
<p>（4）fs.readdir(path[,options],callback)</p>
<p>  fs.readdirSync(path[,options])</p>
<ul>
<li>读取一个目录的目录结构</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.readdir(<span class="string">&quot;.&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,files</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(files)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（5）fs.truncate(path,len,callback)</p>
<p> fs.truncateSync(path,len)</p>
<ul>
<li>截断文件，将文件修改为指定的大小</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.truncateSync(<span class="string">&quot;hello3.txt&quot;</span>,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>（6）fs.rename(oldPath,newPath,callback)</p>
<p> fs.renameSync(oldPath,newPath)</p>
<ul>
<li>对文件进行重命名</li>
<li>参数：oldPath 旧的路径；newPath 新的路径；callback 回调函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.rename(<span class="string">&quot;笔记.mp3&quot;</span>,<span class="string">&quot;xxx&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;修改成功--&quot;</span>)</span><br><span class="line">    &#125; </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>（7）fs.watchFile(filename[,options],listener)</p>
<p>-监视文件的修改</p>
<p> -参数：</p>
<ul>
<li><p>filename 要监视的文件的名字</p>
</li>
<li><p>options 配置选项</p>
</li>
<li><p>listener 回调函数，当文件发生变化时，回调函数会执行</p>
<p>在回调函数中会有两个参数：</p>
</li>
</ul>
<p> *curr 当前文件的状态</p>
<p> *  prev 修改前文件的状态</p>
<p> *  - 这两个对象都是stats对象</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">fs.watchFile(<span class="string">&quot;hello2.txt&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">cur,prev</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;修改前文件大小：&quot;</span>+prev.size);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;修改后文件大小：&quot;</span>+cur.size)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Node.js</category>
      </categories>
      <tags>
        <tag>Node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>ajax</title>
    <url>/2021/09/02/ajax/</url>
    <content><![CDATA[<h2 id="一、AJAX介绍与网页应用"><a href="#一、AJAX介绍与网页应用" class="headerlink" title="一、AJAX介绍与网页应用"></a><strong>一、AJAX介绍与网页应用</strong></h2><p>在不刷新的情况下与服务器交互</p>
<h2 id="二、XML介绍"><a href="#二、XML介绍" class="headerlink" title="二、XML介绍"></a><strong>二、XML介绍</strong></h2><h4 id="1-可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据"><a href="#1-可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据" class="headerlink" title="1.可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据"></a>1.可扩展标记语言，被设计用来传输和存储数据，没有预定义标签，全都是自定义标签，用来表示一些数据</h4><p>比如：name=”孙悟空”;age=18;gender=”男”;</p>
<p>用XML表示：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">student</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>孙悟空<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">age</span>&gt;</span>18<span class="tag">&lt;/<span class="name">age</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">gender</span>&gt;</span>男<span class="tag">&lt;/<span class="name">gender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>现在用JSON取代了：</p>
<p>{“name”:”孙悟空”,”age”:18,”gender”:”男”}</p>
<h4 id="2-AJAX的优点"><a href="#2-AJAX的优点" class="headerlink" title="2.AJAX的优点"></a>2.AJAX的优点</h4><p>2.1可以无需刷新页面而与服务器端进行通信</p>
<p>2.2允许你根据用户事件来更新部分页面呢绒</p>
<h4 id="3-AJAX的缺点"><a href="#3-AJAX的缺点" class="headerlink" title="3.AJAX的缺点"></a>3.AJAX的缺点</h4><p>3.1没有浏览历史，不能回退</p>
<p>3.2存在跨域问题（同源）</p>
<p>3.3SEO不友好</p>
<h2 id="三、HTTP协议请求报文与响应文本结构"><a href="#三、HTTP协议请求报文与响应文本结构" class="headerlink" title="三、HTTP协议请求报文与响应文本结构"></a><strong>三、HTTP协议请求报文与响应文本结构</strong></h2><h4 id="1-HTTP-hypertext-transport-protocol-协议【超文本传输协议】"><a href="#1-HTTP-hypertext-transport-protocol-协议【超文本传输协议】" class="headerlink" title="1.HTTP(hypertext transport protocol)协议【超文本传输协议】"></a>1.HTTP(hypertext transport protocol)协议【超文本传输协议】</h4><p>协议详细规定了浏览器与万维网服务器之间互相通信的规则</p>
<h4 id="2-请求报文"><a href="#2-请求报文" class="headerlink" title="2.请求报文"></a>2.请求报文</h4><p>重点是格式与参数</p>
<p>GET请求，请求体为空，如果为post可以不为空</p>
<p>行    GET    /s?ie=utf-8**(url)**  HTTP/1.1</p>
<p>头    Host:atguigu.com</p>
<p>Cookie:name=guigu</p>
<p>Content-type:application/x-www-form-urlencoded</p>
<p>User-Agent:chrome 83</p>
<p>空行</p>
<p>体    username=admin&amp;password=admin</p>
<h4 id="3-响应报文"><a href="#3-响应报文" class="headerlink" title="3.响应报文"></a>3.响应报文</h4><p>行    HTTP/1.1   200     OK</p>
<p>头    Content-Type:text/html;charset=utf-8</p>
<p>Content-length:2048</p>
<p>Content-encoding:gzip</p>
<p>空行</p>
<p>体    </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>ozawa<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>404</p>
<p>403</p>
<p>401</p>
<h2 id="四、Express框架"><a href="#四、Express框架" class="headerlink" title="四、Express框架"></a><strong>四、Express框架</strong></h2><h4 id="1-用管理员打开vscode，然后右键打开终端输入"><a href="#1-用管理员打开vscode，然后右键打开终端输入" class="headerlink" title="1.用管理员打开vscode，然后右键打开终端输入"></a>1.用管理员打开vscode，然后右键打开终端输入</h4><p>npm init –yes</p>
<p>再安装express</p>
<p>npm i express</p>
<h4 id="2-怎么设置跨域？跨域是什么"><a href="#2-怎么设置跨域？跨域是什么" class="headerlink" title="2.怎么设置跨域？跨域是什么"></a>2.怎么设置跨域？跨域是什么</h4><p>（1）跨域，是指浏览器不能执行其他网站的脚本。它是由<strong>浏览器的同源策略</strong>造成的，是浏览器对JavaScript实施的安全限制</p>
<p>无法跨域是浏览器对于用户安全的考虑</p>
<p>同源策略限制以下行为：</p>
<ul>
<li>Cookie、LocalStorage、IndexDB无法读取</li>
<li>DOM和JS对象无法获取</li>
<li>Ajax请求发送不出去</li>
</ul>
<p>狭义的同源就是指：域名、协议、端口均为相同</p>
<h2 id="五、GET请求"><a href="#五、GET请求" class="headerlink" title="五、GET请求"></a>五、GET请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.引入express</span></span><br><span class="line"><span class="keyword">const</span> express=<span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="comment">//2.创建应用对象</span></span><br><span class="line"><span class="keyword">const</span> app=express();</span><br><span class="line"><span class="comment">//3.创建路由规则</span></span><br><span class="line"><span class="comment">//request是对请求报文的封装</span></span><br><span class="line"><span class="comment">//response是对响应报文的封装</span></span><br><span class="line">app.get(<span class="string">&#x27;/server&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(<span class="string">&#x27;HELLO AJAX&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//4.监听端口启动服务</span></span><br><span class="line">app.listen(<span class="number">8000</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;服务已经启动，8000端口监听中……&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取button元素</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//绑定事件</span></span></span><br><span class="line"><span class="javascript">            btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//1.创建对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//2.初始化 设置请求方法和url</span></span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/server?a=100&amp;b=200&amp;c=300&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//3.发送</span></span></span><br><span class="line"><span class="javascript">                xhr.send();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//4.事件绑定 处理服务端返回的结果</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//on when当..时候</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//readystate 是xhr 对象中的属性，表示状态0 1 2 3 4</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//change 改变</span></span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//判断（服务端返回了所有的结果）</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//判断响应状态码 200 404 403 401 500</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//2xx 成功</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">//1.响应行</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.status);//状态码</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.statusText);//状态字符串</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.getAllResponseHeaders());//所有响应头</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(xhr.response);//响应体</span></span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;;</span></span><br><span class="line"><span class="javascript">            &#125;;</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="六、post请求"><a href="#六、post请求" class="headerlink" title="六、post请求"></a>六、post请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.post(<span class="string">&#x27;/server&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(<span class="string">&#x27;HELLO AJAX POST&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//获取result</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//绑定时间</span></span></span><br><span class="line"><span class="javascript">            result.addEventListener(<span class="string">&quot;mouseover&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//1.创建对象</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//2.初始化</span></span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&quot;POST&quot;</span>,<span class="string">&quot;http://localhost:8000/server&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//设置请求头</span></span></span><br><span class="line"><span class="javascript">                xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// //3.发送</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// xhr.send();</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//设置参数</span></span></span><br><span class="line"><span class="javascript">                xhr.send(<span class="string">&quot;a=100&amp;b=100&quot;</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// xhr.send(&quot;a:100&amp;b:100&quot;);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//4.</span></span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="七、JSON"><a href="#七、JSON" class="headerlink" title="七、JSON"></a>七、JSON</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.all(<span class="string">&#x27;/Json-server&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> data=&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;ozawa&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> str=<span class="built_in">JSON</span>.stringify(data);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(str);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">500px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onkeydown=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            <span class="comment">//设置响应体数据的类型</span></span></span><br><span class="line"><span class="javascript">            xhr.responseType=<span class="string">&#x27;json&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/Json-server&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            xhr.send();</span></span><br><span class="line"><span class="javascript">            xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//手动对数据转化</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// let data=JSON.parse(xhr.response);</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// console.log(data);</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// result.innerHTML=data.name;</span></span></span><br><span class="line"><span class="javascript">                        result.innerHTML=xhr.response.name;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="八、IE缓存问题"><a href="#八、IE缓存问题" class="headerlink" title="八、IE缓存问题"></a>八、IE缓存问题</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/ie&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置响应体</span></span><br><span class="line">    response.send(<span class="string">&#x27;HELLO IE-1&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            btn.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/ie?t=&#x27;</span>+<span class="built_in">Date</span>.now());</span></span><br><span class="line"><span class="javascript">                xhr.send();</span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="九、超时与网络异常"><a href="#九、超时与网络异常" class="headerlink" title="九、超时与网络异常"></a>九、超时与网络异常</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/delay&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置响应体</span></span><br><span class="line">        response.send(<span class="string">&#x27;延时响应&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#result</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">border</span>:<span class="number">1px</span> solid blue;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> result=<span class="built_in">document</span>.getElementById(<span class="string">&quot;result&quot;</span>);</span></span><br><span class="line"><span class="javascript">            btn.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">const</span> xhr=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//超时设置</span></span></span><br><span class="line"><span class="javascript">                xhr.timeout=<span class="number">2000</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//超时回调</span></span></span><br><span class="line"><span class="javascript">                xhr.ontimeout=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;网络异常，请稍后重试！！&quot;</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//网络异常回调</span></span></span><br><span class="line"><span class="javascript">                xhr.onerror=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    alert(<span class="string">&quot;你的网络似乎出现了异常&quot;</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/delay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">                xhr.send();</span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span>(xhr.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span>(xhr.status&gt;=<span class="number">200</span>&amp;&amp;xhr.status&lt;<span class="number">300</span>)&#123;</span></span><br><span class="line"><span class="javascript">                            result.innerHTML=xhr.response;</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;result&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十、取消请求"><a href="#十、取消请求" class="headerlink" title="十、取消请求"></a>十、取消请求</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/delay&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置响应体</span></span><br><span class="line">        response.send(<span class="string">&#x27;延时响应&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击取消<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> btns=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> x=<span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        btns[<span class="number">0</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            x=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            x.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/delay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            x.send();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//abort</span></span></span><br><span class="line"><span class="javascript">        btns[<span class="number">1</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            x.abort();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十一、请求重复发送"><a href="#十一、请求重复发送" class="headerlink" title="十一、请求重复发送"></a>十一、请求重复发送</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/delay&#x27;</span>, <span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头 设置允许跨域</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="comment">//设置定时器</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置响应体</span></span><br><span class="line">        response.send(<span class="string">&#x27;延时响应&#x27;</span>);</span><br><span class="line">    &#125;,<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> btns=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> x=<span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//标识变量</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> isSending=<span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">        btns[<span class="number">0</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//判断标识标量</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(isSending) x.abort();<span class="comment">//如果正在发送，则取消该请求，创建一个新的请求</span></span></span><br><span class="line"><span class="javascript">            x=<span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            isSending=<span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">            x.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;http://localhost:8000/delay&#x27;</span>);</span></span><br><span class="line"><span class="javascript">            x.send();</span></span><br><span class="line"><span class="javascript">            x.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span>(x.readyState===<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//修改标识变量</span></span></span><br><span class="line"><span class="javascript">                    isSending=<span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//abort</span></span></span><br><span class="line"><span class="javascript">        btns[<span class="number">1</span>].onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            x.abort();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="十二、jQuery中的AJAX"><a href="#十二、jQuery中的AJAX" class="headerlink" title="十二、jQuery中的AJAX"></a>十二、jQuery中的AJAX</h2><p>1.get请求</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$.get(url,[data],[callback],[type])</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>url:请求的URL地址</p>
<p>data:请求携带的参数</p>
<p>callback:载入成功时回调函数</p>
<p>type:设置返回内容格式,xml,html,script,json,text,_default</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//JQUREY</span></span><br><span class="line">app.all(<span class="string">&#x27;/jquery-server&#x27;</span>,<span class="function">(<span class="params">request,response</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//设置响应头</span></span><br><span class="line">    response.setHeader(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>,<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> data=&#123;<span class="attr">name</span>:<span class="string">&#x27;ozawa&#x27;</span>&#125;;</span><br><span class="line">    <span class="comment">// response.send(&#x27;hello jquery ajax&#x27;);</span></span><br><span class="line">    response.send(<span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>GET<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>POST<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>通用型方法ajax<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">0</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.get(<span class="string">&#x27;http://localhost:8000/jquery-server&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="string">&#x27;json&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">1</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.post(<span class="string">&#x27;http://localhost:8000/jquery-server&#x27;</span>,&#123;<span class="attr">a</span>:<span class="number">100</span>,<span class="attr">b</span>:<span class="number">200</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="string">&#x27;json&#x27;</span>)</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">&#x27;button&#x27;</span>).eq(<span class="number">2</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//url</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">url</span>:<span class="string">&#x27;http://localhost:8000/jquery-server&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//参数</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">a</span>:<span class="number">100</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">b</span>:<span class="number">200</span></span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//请求类型</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">type</span>:<span class="string">&#x27;GET&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//响应体结果</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">dataType</span>:<span class="string">&#x27;json&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//成功的回调</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//失败的回调</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">error</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">&quot;出错啦&quot;</span>)</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//头信息</span></span></span><br><span class="line"><span class="javascript">                <span class="attr">headers</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">c</span>:<span class="number">300</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">d</span>:<span class="number">400</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;)</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>十三、axios发送ajax请求</p>
]]></content>
      <categories>
        <category>ajax</category>
      </categories>
      <tags>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title>axios框架</title>
    <url>/2021/09/13/axios/</url>
    <content><![CDATA[<h3 id="一、axios框架的基本使用"><a href="#一、axios框架的基本使用" class="headerlink" title="一、axios框架的基本使用"></a>一、axios框架的基本使用</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>:<span class="string">&#x27;post&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//没写method，默认是get</span></span><br><span class="line">axios(&#123;</span><br><span class="line">	<span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span>,</span><br><span class="line">   <span class="attr">params</span>:&#123;</span><br><span class="line">       <span class="attr">type</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">       <span class="attr">page</span>:<span class="number">1</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="二、axios发送并发请求"><a href="#二、axios发送并发请求" class="headerlink" title="二、axios发送并发请求"></a>二、axios发送并发请求</h3><p>有时候我们可能需要同时发送两个请求</p>
<ul>
<li>使用axios.all可以放入多个请求的数组</li>
<li>axios.all([])返回的结果是一个数组，使用axios.spread可将数组[res1,res2]展开为res1,res2</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.all([axios(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">&#125;),axios(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;yyy&#x27;</span>,</span><br><span class="line">    <span class="attr">parms</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">page</span>:<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)]).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.all([axios(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">&#125;),axios(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;yyy&#x27;</span>,</span><br><span class="line">    <span class="attr">parms</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">page</span>:<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)]).then(axios.spread([res1,res2])=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res1)</span><br><span class="line">    <span class="built_in">console</span>.log(res2)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="三、axios的配置信息相关"><a href="#三、axios的配置信息相关" class="headerlink" title="三、axios的配置信息相关"></a>三、axios的配置信息相关</h3><h4 id="1-全局配置"><a href="#1-全局配置" class="headerlink" title="1.全局配置"></a>1.全局配置</h4><p>在开发中可能很多参数都是固定，这个时候可以进行一些抽取，也可以利用axios的全局配置</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">axios.defaults.baseURL=&#x27;http://localhost:8080&#x27;</span><br><span class="line">axios.defaults.headers.post[&#x27;Content-Type&#x27;]=&#x27;application/x-www-form-urlencoded&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/13/axios/1.png"></p>
<h3 id="四、axios的实例和模块封装"><a href="#四、axios的实例和模块封装" class="headerlink" title="四、axios的实例和模块封装"></a>四、axios的实例和模块封装</h3><p>创建对应的axios的实例</p>
<p>第一个方法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config,success,failure</span>)</span>&#123;<span class="comment">//config配置信息，success成功的函数，failure出错的函数</span></span><br><span class="line">    <span class="comment">//1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">        <span class="attr">baseURL</span>:<span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">4000</span></span><br><span class="line">    &#125;)</span><br><span class="line">	<span class="comment">//发送真正的网络请求</span></span><br><span class="line">    instance(config).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//console.log(res)</span></span><br><span class="line">        success(res)</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">       <span class="comment">// console.log(err)</span></span><br><span class="line">        failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在main.js中引用</span></span><br><span class="line"><span class="comment">//封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span></span><br><span class="line">request(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;,<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>第二个方法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;<span class="comment">//config配置信息，包含success成功的函数，failure出错的函数</span></span><br><span class="line">    <span class="comment">//1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">        <span class="attr">baseURL</span>:<span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">4000</span></span><br><span class="line">    &#125;)</span><br><span class="line">	<span class="comment">//发送真正的网络请求</span></span><br><span class="line">    instance(baseConfig.config).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//console.log(res)</span></span><br><span class="line">        config.success(res)</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">       <span class="comment">// console.log(err)</span></span><br><span class="line">        config.failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在main.js中引用</span></span><br><span class="line"><span class="comment">//封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span></span><br><span class="line">request(&#123;</span><br><span class="line">   <span class="attr">baseConfig</span>:&#123;</span><br><span class="line">       </span><br><span class="line">   &#125;,</span><br><span class="line">    <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">suc</span>)</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">failuer</span>:<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>第三个的方法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">             <span class="comment">//1.创建axios的实例</span></span><br><span class="line">            <span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">            <span class="attr">baseURL</span>:<span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">            <span class="attr">timeout</span>: <span class="number">4000</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//发送真正的网络请求</span></span><br><span class="line">        instance(config).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="comment">//console.log(res)</span></span><br><span class="line">            resolve(res)</span><br><span class="line">        &#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">           <span class="comment">// console.log(err)</span></span><br><span class="line">            reject(res)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在main.js中引用</span></span><br><span class="line"><span class="comment">//封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span></span><br><span class="line">request(&#123;</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>最终的方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;<span class="comment">//config配置信息，包含success成功的函数，failure出错的函数</span></span><br><span class="line">    <span class="comment">//1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">        <span class="attr">baseURL</span>:<span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">4000</span></span><br><span class="line">    &#125;)</span><br><span class="line">	<span class="comment">//发送真正的网络请求</span></span><br><span class="line">    <span class="keyword">return</span> instance(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;<span class="comment">//config配置信息，包含success成功的函数，failure出错的函数</span></span><br><span class="line">    <span class="comment">//1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance1=axios.create(&#123;</span><br><span class="line">        <span class="attr">baseURL</span>:<span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">4000</span></span><br><span class="line">    &#125;)</span><br><span class="line">	<span class="comment">//发送真正的网络请求</span></span><br><span class="line">    instance(baseConfig.config).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//console.log(res)</span></span><br><span class="line">        config.success(res)</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">       <span class="comment">// console.log(err)</span></span><br><span class="line">        config.failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="五、axios的拦截器的使用"><a href="#五、axios的拦截器的使用" class="headerlink" title="五、axios的拦截器的使用"></a>五、axios的拦截器的使用</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;<span class="comment">//config配置信息，包含success成功的函数，failure出错的函数</span></span><br><span class="line">    <span class="comment">//1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">        <span class="attr">baseURL</span>:<span class="string">&#x27;http://localhost:8080&#x27;</span>,</span><br><span class="line">        <span class="attr">timeout</span>: <span class="number">4000</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2.axios的拦截器</span></span><br><span class="line">    instance.interceptors.request.use(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(config)</span><br><span class="line">        <span class="comment">//拦截后可能要做的操作</span></span><br><span class="line">        <span class="comment">//1.比如config中的一些信息不符合服务器的要求</span></span><br><span class="line">        <span class="comment">//2.比如每次发送网络请求时，都希望在界面中显示一个请求的图标</span></span><br><span class="line">        <span class="comment">//3.某些网络请求（比如登录（token）)，必须携带一些特殊的信息</span></span><br><span class="line">        <span class="keyword">return</span> config<span class="comment">//放行</span></span><br><span class="line">    &#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2.2响应拦截</span></span><br><span class="line">    instance.interceptors.response.use(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">        <span class="keyword">return</span> res.data</span><br><span class="line">    &#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err)</span><br><span class="line">    &#125;)</span><br><span class="line">	<span class="comment">//发送真正的网络请求</span></span><br><span class="line">    <span class="keyword">return</span> instance(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>













































]]></content>
      <categories>
        <category>axios</category>
      </categories>
      <tags>
        <tag>axios框架</tag>
      </tags>
  </entry>
  <entry>
    <title>前端性能优化</title>
    <url>/2021/09/18/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h3 id="一、前言"><a href="#一、前言" class="headerlink" title="一、前言"></a>一、前言</h3><p>主流的，面向Chrome</p>
<h3 id="二、浏览器的功能与组成"><a href="#二、浏览器的功能与组成" class="headerlink" title="二、浏览器的功能与组成"></a>二、浏览器的功能与组成</h3><h4 id="1-功能"><a href="#1-功能" class="headerlink" title="1.功能"></a>1.功能</h4><h4 id="2-组成"><a href="#2-组成" class="headerlink" title="2.组成"></a>2.组成</h4><h3 id="三、浏览器的主要模块"><a href="#三、浏览器的主要模块" class="headerlink" title="三、浏览器的主要模块"></a>三、浏览器的主要模块</h3><h3 id="四、浏览器的基本渲染过程"><a href="#四、浏览器的基本渲染过程" class="headerlink" title="四、浏览器的基本渲染过程"></a>四、浏览器的基本渲染过程</h3><h3 id="五、style样式的渲染"><a href="#五、style样式的渲染" class="headerlink" title="五、style样式的渲染"></a>五、style样式的渲染</h3><h3 id="六、link样式的渲染"><a href="#六、link样式的渲染" class="headerlink" title="六、link样式的渲染"></a>六、link样式的渲染</h3><h3 id="七、关于css阻塞"><a href="#七、关于css阻塞" class="headerlink" title="七、关于css阻塞"></a>七、关于css阻塞</h3><h3 id="八、关于js阻塞"><a href="#八、关于js阻塞" class="headerlink" title="八、关于js阻塞"></a>八、关于js阻塞</h3><h3 id="九、验证css与js阻塞"><a href="#九、验证css与js阻塞" class="headerlink" title="九、验证css与js阻塞"></a>九、验证css与js阻塞</h3><h3 id="十、css图层"><a href="#十、css图层" class="headerlink" title="十、css图层"></a>十、css图层</h3>]]></content>
      <categories>
        <category>性能优化</category>
      </categories>
      <tags>
        <tag>性能优化</tag>
      </tags>
  </entry>
  <entry>
    <title>vue</title>
    <url>/2021/09/02/vue/</url>
    <content><![CDATA[<h3 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h3><h4 id="一、vue初体验"><a href="#一、vue初体验" class="headerlink" title="一、vue初体验"></a>一、vue初体验</h4><p>vue是一套用于构建用户界面的渐进式JavaScript框架</p>
<p><strong>渐进式</strong>：Vue可以自底向上逐层的应用</p>
<ul>
<li>简单应用：只需一个轻量小巧的核心库</li>
<li>复杂应用：可以引入各式各样的Vue插件</li>
</ul>
<p><strong>Vue特点</strong>：</p>
<ul>
<li>采用组件化模式，提高代码复用率、且让代码更好维护</li>
<li>声明式编码，让编码人员无需直接操作DOM，提高开发效率<ul>
<li>声明式编码不用写一步一步的</li>
</ul>
</li>
<li>使用虚拟DOM+优秀的diff算法，尽量复用DOM节点</li>
</ul>
<p><img src="/2021/09/02/vue/40.png"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    Vue.config,productionTip=<span class="literal">false</span><span class="comment">//阻止vue在启动时生成生产提示</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="comment">//el的第一种写法</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">name</span>:<span class="string">&quot;code&quot;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="comment">//el的第二种写法</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">name</span>:<span class="string">&quot;code&quot;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     v.$mount(<span class="string">&#x27;#app&#x27;</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//vue3</span></span><br><span class="line">   <span class="comment">// const app=Vue.createApp(&#123;</span></span><br><span class="line">   <span class="comment">//</span></span><br><span class="line">   <span class="comment">// &#125;);</span></span><br><span class="line">   <span class="comment">// //挂载</span></span><br><span class="line">   <span class="comment">// const vm=app.mount(&quot;#app&quot;);</span></span><br><span class="line">   <span class="keyword">const</span> app=Vue.createApp(&#123;</span><br><span class="line">       <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="keyword">return</span>&#123;</span><br><span class="line">               <span class="attr">message</span>:<span class="string">&#x27;this is a text&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;).mount(<span class="string">&quot;#app&quot;</span>);</span><br><span class="line"></span><br><span class="line">   app.message = <span class="string">&quot;hello vuejs&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="二、vue-列表展示"><a href="#二、vue-列表展示" class="headerlink" title="二、vue 列表展示"></a>二、vue 列表展示</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in movies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">movies</span>:[<span class="string">&#x27;大话西游&#x27;</span>,<span class="string">&#x27;海王&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="三、vue案例——计数器"><a href="#三、vue案例——计数器" class="headerlink" title="三、vue案例——计数器"></a>三、vue案例——计数器</h4><p>1.新的属性：methods该属性用于在Vue对象中定义方法 2.新的指令：@click，该指令用于监听某个元素的点击事件，并且需要指定当发生点击时，执行的方法（方法通常是methods中定义的方法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>当前计数：&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">counter</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">add</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">console</span>.log(<span class="string">&#x27;增加&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.counter++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">sub</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">console</span>.log(<span class="string">&#x27;减少&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.counter--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="四、vue中的MVVM"><a href="#四、vue中的MVVM" class="headerlink" title="四、vue中的MVVM"></a>四、vue中的MVVM</h4><p>model-view-viewModel</p>
<p>（1）MVVM是前端视图层的分层开发思想，主要把每个页面，分成了M、V和VM，其中，VM是MVVM思想的核心；因为VM是M和V之间的调度者</p>
<ul>
<li>M：模型（Model）对应的data中的数据</li>
<li>V：视图（View）模板</li>
<li>VM：视图模型（ViewModel）Vue实例对象</li>
</ul>
<p>（2）前端页面中使用MVVM的思想，主要是为了让我们开发更加方便，因为MVVM提供了数据的双向绑定；注意：数据的双向绑定是由VM提供的</p>
<p>（3）vue没有严格遵循MVVM模型，因为MVVM模型规定view层和model层不能直接通信，但是Vue提供了$refs可以直接操作dom层</p>
<p><img src="/2021/09/02/vue/5.png"></p>
<h4 id="五、vue生命周期"><a href="#五、vue生命周期" class="headerlink" title="五、vue生命周期"></a>五、vue生命周期</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;修改msg&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;msg=&#x27;No&#x27;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;h3&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">msg</span>:<span class="string">&#x27;ok&#x27;</span></span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">show</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;执行了show方法&#x27;</span>)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">//这是我们遇到的第一个生命周期函数，表示实例完全被创建出来之前，会执行它</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//注意：在beforeCreate生命周期函数执行的时候，data和methods中的数据都还没有初始化</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.msg)<span class="comment">//undefined</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.show()<span class="comment">//&quot;TypeError:this.show is not a function&quot;</span></span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">//这是遇到的第二个生命周期函数</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//在created中，data和methods都已经被初始化好了！</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//如果要调用methods中的方法，或者操作data中的数据，最早，只能在created中操作</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.msg)<span class="comment">//ok</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.show()<span class="comment">//执行了show方法</span></span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// //这是遇到的第3个生命周期函数，表示模板已经在内存中编辑完成了，但是尚未把模板渲染到页面中</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;h3&#x27;</span>).innerText)<span class="comment">//&#123;&#123;msg&#125;&#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//在beforeMount执行的时候，页面中的元素，还没有被真正替换过来，只是之前写的一些模板字符串</span></span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// //这是遇到的第4个生命周期函数，表示内存中的模板，已经真实的挂载到了页面中，用户已经可以看到渲染好的页面了</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //注意：mounted是实例创建期间的最后一个生命周期函数，当执行完mouted就表示，实例已经被完全创建好了，此时，</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //如果没有其它操作的话，这个实例，就静静的躺在我们的内存中，一动不动</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">document</span>.getElementById(<span class="string">&#x27;h3&#x27;</span>).innerText)<span class="comment">//ok</span></span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //接下来的是运行中的两个事件</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// //这时候，表示我们的界面还没有被更新[数据被更新了]</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">beforeUpdate</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;界面上元素的内容：&#x27;</span>+<span class="built_in">document</span>.getElementById(<span class="string">&#x27;h3&#x27;</span>).innerText)</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;data 中的msg数据是：&#x27;</span>+<span class="built_in">this</span>.msg)</span></span><br><span class="line"><span class="javascript">            <span class="comment">//得出结论：当执行beforeUpdate的时候，页面中的显示的数据，还是旧的，此时</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//data数据是最新的，页面尚未和最新的数据保持同步</span></span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// //updated事件执行的时候，页面和data数据已经保持同步了，都是最新的</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">updated</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;界面上元素的内容：&#x27;</span>+<span class="built_in">document</span>.getElementById(<span class="string">&#x27;h3&#x27;</span>).innerText)</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;data 中的 msg 数据是：&#x27;</span>+<span class="built_in">this</span>.msg)</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="六、数据代理"><a href="#六、数据代理" class="headerlink" title="六、数据代理"></a>六、数据代理</h4><h5 id="1-Object-defineproperty"><a href="#1-Object-defineproperty" class="headerlink" title="1.Object.defineproperty"></a>1.Object.defineproperty</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person=&#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">            <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span>,</span><br><span class="line">            <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person))</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/48.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person=&#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">            <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">            <span class="attr">value</span>:<span class="number">18</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(person))</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/49.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> number=<span class="number">18</span></span><br><span class="line">        <span class="keyword">let</span> person=&#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">            <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">            <span class="comment">// value:18,</span></span><br><span class="line">            <span class="comment">// enumerable:true,//控制属性是否可以枚举，默认值是false</span></span><br><span class="line">            <span class="comment">// writable:true,//控制属性是否可以修改，默认值是false</span></span><br><span class="line">            <span class="comment">// configurable:true//控制属性是否可以被删除，默认值是false</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//当有人读取person的age属性时，get函数（getter）就会被调用，且返回值就是age的值</span></span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&#x27;读取了age属性&#x27;</span>)</span><br><span class="line">                <span class="keyword">return</span> number</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//当有人修改person的age属性时，set函数（setter）就会被调用，且会受到修改的具体值</span></span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&#x27;有人修改了age属性&#x27;</span>)</span><br><span class="line">                number=value</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<h5 id="2-数据代理"><a href="#2-数据代理" class="headerlink" title="2.数据代理"></a>2.数据代理</h5><p>通过一个对象代理对另一个对象中属性的操作（读/写）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj=&#123;<span class="attr">x</span>:<span class="number">200</span>&#125;</span><br><span class="line">        <span class="keyword">let</span> obj2=&#123;y=<span class="number">300</span>&#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(obj2,<span class="string">&#x27;x&#x27;</span>,&#123;</span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> obj.x</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">                obj.x=value</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/50.png"></p>
<h5 id="3-Vue中的数据代理"><a href="#3-Vue中的数据代理" class="headerlink" title="3.Vue中的数据代理"></a>3.Vue中的数据代理</h5><h4 id="七、创建Vue实例传入的options"><a href="#七、创建Vue实例传入的options" class="headerlink" title="七、创建Vue实例传入的options"></a>七、创建Vue实例传入的options</h4><h5 id="1-el"><a href="#1-el" class="headerlink" title="1.el:"></a>1.el:</h5><ul>
<li>类型：string | HTMLElement</li>
<li>作用：决定之后Vue实例会管理哪一个DOM（指定当前Vue实例为哪个容器服务，值通常为css选择器字符串）</li>
</ul>
<h5 id="2-data"><a href="#2-data" class="headerlink" title="2.data:"></a>2.data:</h5><ul>
<li>类型：Object | Function</li>
<li>作用：Vue实例对应的数据对象（用于存储数据，数据供el所指定的容器去使用）</li>
</ul>
<h5 id="3-methods"><a href="#3-methods" class="headerlink" title="3.methods:"></a>3.methods:</h5><ul>
<li>类型：{[key:string]:Function}</li>
<li>作用：定义属于Vue的一些方法，可以在其他地方调用，也可以在指令中使用</li>
</ul>
<h4 id="八、模板语法"><a href="#八、模板语法" class="headerlink" title="八、模板语法"></a>八、模板语法</h4><ul>
<li><strong>插值语法</strong><ul>
<li>功能：用于解析标签体内容</li>
<li>写法：,xxx是js表达式，且可以直接读取到data中的所有属性</li>
</ul>
</li>
</ul>
<h5 id="1-Mustache语法"><a href="#1-Mustache语法" class="headerlink" title="1.Mustache语法"></a>1.Mustache语法</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;messgae&#125;&#125;,李银河！<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;!--mustache语法中，不仅仅可以直接协变量，也可以写简单地表达式--&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName+lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter *2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">firstName</span>:<span class="string">&#x27;fyyeg&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">lastName</span>:<span class="string">&#x27;hfui&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">counter</span>:<span class="number">100</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>指令语法<ul>
<li>功能：用于解析标签（包括：标签属性、标签体内容、绑定事件……）</li>
</ul>
</li>
</ul>
<h5 id="2-v-once指令"><a href="#2-v-once指令" class="headerlink" title="2.v-once指令"></a>2.v-once指令</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2 v-once&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app=new Vue(&#123;</span><br><span class="line">        el:&quot;#app&quot;,</span><br><span class="line">        data:&#123;</span><br><span class="line">            message:&#x27;你好啊&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="3-v-text指令（会覆盖）"><a href="#3-v-text指令（会覆盖）" class="headerlink" title="3.v-text指令（会覆盖）"></a>3.v-text指令（会覆盖）</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message&quot;</span>&gt;</span>,李银河<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h5 id="4-v-html指令"><a href="#4-v-html指令" class="headerlink" title="4.v-html指令"></a>4.v-html指令</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">url</span>:<span class="string">&#x27;&lt;a href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h5 id="5-v-pre指令"><a href="#5-v-pre指令" class="headerlink" title="5.v-pre指令"></a>5.v-pre指令</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">        <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>:&#123;</span><br><span class="line">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="6-v-cloak指令"><a href="#6-v-cloak指令" class="headerlink" title="6.v-cloak指令"></a>6.v-cloak指令</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    [v-cloak]&#123;</span><br><span class="line">        <span class="attr">display</span>:none;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">//在vue解析之前，div中有一个属性v-cloak</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">//在vue解析之后，div中没有</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;,<span class="number">1000</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="九、动态绑定属性"><a href="#九、动态绑定属性" class="headerlink" title="九、动态绑定属性"></a>九、动态绑定属性</h4><h5 id="1-v-bind指令"><a href="#1-v-bind指令" class="headerlink" title="1.v-bind指令"></a>1.v-bind指令</h5><ul>
<li>作用：动态绑定属性</li>
<li>缩写：：</li>
<li>预期：any(with argument)|Object(without argument)</li>
<li>参数：attrOrProp(optional)</li>
</ul>
<h5 id="1-v-bind的基本使用"><a href="#1-v-bind的基本使用" class="headerlink" title="1.v-bind的基本使用"></a>1.v-bind的基本使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;!--错误的做法：这里不可以使用mustache语法--&gt;</span><br><span class="line">    &lt;!--&lt;img src=&quot;&#123;&#123;imgURL&#125;&#125;&quot; alt=&quot;&quot;&gt;--&gt;</span><br><span class="line">    &lt;!--正确的做法：使用v-bind指令--&gt;</span><br><span class="line">    &lt;img v-bind:src=&quot;imgURL&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;a v-bind:href=&quot;imgHref&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--语法糖的写法--&gt;</span><br><span class="line">    &lt;img :src=&quot;imgURL&quot; alt=&quot;&quot;&gt;</span><br><span class="line">    &lt;a :href=&quot;imgHref&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    const app=new Vue(&#123;</span><br><span class="line">        el:&quot;#app&quot;,</span><br><span class="line">        data:&#123;</span><br><span class="line">            message:&#x27;你好啊&#x27;,</span><br><span class="line">              imgURL:&#x27;https://img0.baidu.com/it/u=251614576,2693916083&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;,</span><br><span class="line">            imgHref:&#x27;http://www.baidu.com&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-v-bind动态绑定（一）"><a href="#2-v-bind动态绑定（一）" class="headerlink" title="2.v-bind动态绑定（一）"></a>2.v-bind动态绑定（一）</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;key1:value2,key2:value2&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;类名1:boolean,类名2:boolean&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     --&gt;</span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123;active:isActive,line:isLine&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;getClasses()&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">isActive</span>:<span class="literal">true</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">isLine</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">btnClick</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.isActive=!<span class="built_in">this</span>.isActive;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">getClasses</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span> &#123;<span class="attr">active</span>:<span class="built_in">this</span>.isActive,<span class="attr">line</span>:<span class="built_in">this</span>.isLine&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-v-bind动态绑定（对象语法）"><a href="#3-v-bind动态绑定（对象语法）" class="headerlink" title="3.v-bind动态绑定（对象语法）"></a>3.v-bind动态绑定（对象语法）</h5><ul>
<li><p>绑定方式：对象语法 对象语法的含义是：class后面跟的是一个对象</p>
</li>
<li><p>对象语法有下面这些语法： </p>
<p>（1）直接通过绑定{}绑定一个类</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123;&#x27;active&#x27;:isActive&#125;&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）也可以通过判断，传入多个值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123;&#x27;active:isActive,&#x27;line&#x27;:isLine&#125;&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(3)和普通的类同时存在，并不冲突 注：如果isActive和isLine都为true，那么会有title/active/line三个类</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;&#123;&#x27;active:isActive,&#x27;line&#x27;:isLine&#125;&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(4)如果过于复杂，可以放在一个methods或者computed 注：classes是一个计算属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;classes&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4-v-bind动态绑定（数组语法）"><a href="#4-v-bind动态绑定（数组语法）" class="headerlink" title="4.v-bind动态绑定（数组语法）"></a>4.v-bind动态绑定（数组语法）</h5><ul>
<li><p>绑定方式：数组语法 数组语法的含义是：class后面跟的是一个数组</p>
</li>
<li><p>数组语法有下面这些用法： </p>
<p>（1）直接通过绑定{}绑定一个类</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;active&#x27;]&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）也可以传入多个值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;active&#x27;,&#x27;line&#x27;]&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(3)和普通的类同时存在，并不冲突 注：会有title/active/line三个类</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;[&#x27;active&#x27;,&#x27;line&#x27;]&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(4)如果过于复杂，可以放在一个methods或者computed 注：classes是一个计算属性</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;title&quot;</span> :<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;classes&quot;</span>&gt;Hello World&lt;/h2&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="5-v-bind绑定style-二"><a href="#5-v-bind绑定style-二" class="headerlink" title="5.v-bind绑定style(二)"></a>5.v-bind绑定style(二)</h5><p>（1）绑定方式一：对象语法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">:style=<span class="string">&quot;&#123;color:currentColor,fontSize:fontSize+&#x27;px&#x27;&#125;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>style后面跟的是一个对象类型</p>
<ul>
<li><p>对象的key是CSS属性名称</p>
</li>
<li><p>对象的value是具体赋的值，值可以来自于data中的属性 </p>
<p>（2）绑定方式二：数组语法</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div v-bind:style=<span class="string">&quot;[baseStyles,overridingStyles]&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>style后面跟的是一个数组类型</p>
<ul>
<li>多个值以分割即可</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;key(属性名):value(属性值)&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        &lt;!--<span class="string">&#x27;50px&#x27;</span>必须加上单引号，否则当做一个变量去解析--&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:&#x27;50px&#x27;&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        &lt;!--finalSize当成一个变量使用--&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:finalSize&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize:finalSize+&#x27;px&#x27;,backgroundColor:finalColor&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">finalSize</span>:<span class="number">100</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">finalColor</span>:<span class="string">&#x27;red&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[baseStyle]&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">baseStyle</span>:&#123;<span class="attr">backgroundColor</span>:<span class="string">&#x27;red&#x27;</span>&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十、计算属性"><a href="#十、计算属性" class="headerlink" title="十、计算属性"></a>十、计算属性</h4><ul>
<li><strong>定义</strong>：要用的属性不存在，要通过已有属性计算得来</li>
<li><strong>原理</strong>：底层借助了Object.defineproperty方法提供的getter和setter</li>
<li>get函数什么时候执行<ul>
<li>初次读取时会执行一次</li>
<li>当依赖的数据发生改变时会被再次调用</li>
</ul>
</li>
<li><strong>优势</strong>：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便</li>
<li><strong>备注</strong>：<ul>
<li>计算属性最终会出现在vm上，直接读取使用即可</li>
<li>如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变</li>
</ul>
</li>
</ul>
<h5 id="1-计算属性的基本使用"><a href="#1-计算属性的基本使用" class="headerlink" title="1.计算属性的基本使用"></a>1.计算属性的基本使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFullName()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">firstName</span>:<span class="string">&#x27;dhuewh&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">lastName</span>:<span class="string">&#x27;dhuieh&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">fullName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="function"><span class="title">getFullName</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-计算属性的复杂操作"><a href="#2-计算属性的复杂操作" class="headerlink" title="2.计算属性的复杂操作"></a>2.计算属性的复杂操作</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>总价格：&#123;&#123;totalPrice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">books</span>:[</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">110</span>,<span class="attr">name</span>:<span class="string">&#x27;fhuirw&#x27;</span>,<span class="attr">price</span>:<span class="number">110</span>&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">111</span>,<span class="attr">name</span>:<span class="string">&#x27;fhfefw&#x27;</span>,<span class="attr">price</span>:<span class="number">170</span>&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">112</span>,<span class="attr">name</span>:<span class="string">&#x27;fewfwerw&#x27;</span>,<span class="attr">price</span>:<span class="number">710</span>&#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#123;<span class="attr">id</span>:<span class="number">113</span>,<span class="attr">name</span>:<span class="string">&#x27;fgrgrew&#x27;</span>,<span class="attr">price</span>:<span class="number">180</span>&#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            ]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">totalPrice</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">let</span> result=<span class="number">0</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                result+=i.price;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">return</span> result;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-计算属性的setter和getter"><a href="#3-计算属性的setter和getter" class="headerlink" title="3.计算属性的setter和getter"></a>3.计算属性的setter和getter</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFullName()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">firstName</span>:<span class="string">&#x27;dhuewh&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">lastName</span>:<span class="string">&#x27;dhuieh&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// fullName:function()&#123;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">//     return this.firstName+&#x27; &#x27;+this.lastName;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">//计算属性一般是没有set方法，只读属性</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">fullName</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newValue</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">const</span> names=newValue.split(<span class="string">&#x27; &#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.firstName=names[<span class="number">0</span>];</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.lastName=names[<span class="number">1</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="function"><span class="title">getFullName</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="keyword">return</span> <span class="built_in">this</span>.firstName+<span class="string">&#x27; &#x27;</span>+<span class="built_in">this</span>.lastName;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十一、v-on（事件监听）"><a href="#十一、v-on（事件监听）" class="headerlink" title="十一、v-on（事件监听）"></a>十一、v-on（事件监听）</h4><h5 id="1-v-on介绍"><a href="#1-v-on介绍" class="headerlink" title="1.v-on介绍"></a>1.v-on介绍</h5><ul>
<li>作用：绑定事件监听器</li>
<li>缩写：@</li>
<li>预期：Function | Inline Statement |Object</li>
<li>参数：event</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter--&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span> --&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">counter</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter++;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">decrement</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-v-on的参数问题"><a href="#2-v-on的参数问题" class="headerlink" title="2.v-on的参数问题"></a>2.v-on的参数问题</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--事件调用的方法没有参数--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click()&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        &lt;!--在事件定义时，写方法时省略了小括号，但是方法本身需要一个参数的，这个时候，</span><br><span class="line">        Vue会默认将浏览器生产的event事件对象作为参数与传入到方法--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click(123)&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click()&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        &lt;!--方法定义时，我们需要event对象，同时又需要其他参数--&gt;</span><br><span class="line">        &lt;!--在调用方式，如何手动的获取到浏览器参数的event对象：$event--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click(a,$event)&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">a</span>:<span class="number">123</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn1Click</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;btn1Click&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn2Click</span>(<span class="params">event</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;----------&quot;</span>,event);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn3Click</span>(<span class="params">a,event</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;======&quot;</span>,a,event);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-v-on的修饰符"><a href="#3-v-on的修饰符" class="headerlink" title="3.v-on的修饰符"></a>3.v-on的修饰符</h5><p><strong>事件修饰符：</strong></p>
<ul>
<li>prevent:阻止默认事件（常用）</li>
<li>stop:阻止事件冒泡（常用）</li>
<li>once:事件只触发一次（常用）</li>
<li>capture:使用事件的捕获模式</li>
<li>self:只有event.target是当前操作的元素时才触发事件</li>
<li>passive:事件的默认行为立即执行，无需等待事件回调执行完毕(用于滚轮滚动条因为在移动的时候导致滚动的延迟问题)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--<span class="number">1.</span>.stop修饰符的使用--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;divClick&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            aaaaa</span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        &lt;!--<span class="number">2.</span>.prevent修饰符的使用--&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;baidu&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;submitClick&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--3..enter监听某个键盘的键帽--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;keyUp&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!--4..once修饰符的使用--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;btn2Click&quot;</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;btnClick&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">divClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;divClick&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">submitClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;submitClick&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">keyUp</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;keyUp&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btn2Click</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">console</span>.log(<span class="string">&quot;btn2Click&quot;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<h4 id="十二、监视属性watch"><a href="#十二、监视属性watch" class="headerlink" title="十二、监视属性watch"></a>十二、监视属性watch</h4><ul>
<li>当被监视的属性变化时，回调函数自动调用，进行相关操作</li>
<li>监视的属性必须存在，才能进行监视</li>
<li>监视的两种写法：<ul>
<li>new Vue时传入watch配置</li>
<li>通过app.$watch监视</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeWeather&quot;</span>&gt;</span>切换天气<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">isHot</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">changeWeather</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.isHot=!<span class="built_in">this</span>.isHot</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="comment">// watch:&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     isHot:&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         immediate:true,//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         //handler在isHot发生改变时调用</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         handler(newValue,oldValue)&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//             console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//简写形式</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">isHot</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;isHot被修改了&#x27;</span>，newValue,oldValue,<span class="built_in">this</span>)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">        app.$watch(<span class="string">&#x27;isHot&#x27;</span>,&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">immediate</span>:<span class="literal">true</span>,<span class="comment">//初始化时让handler调用一下</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//handler在isHot发生改变时调用</span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">handler</span>(<span class="params">newValue,oldValue</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/myBlog\source_posts\vue\55.png"></p>
<h4 id="十三、深度监视"><a href="#十三、深度监视" class="headerlink" title="十三、深度监视"></a>十三、深度监视</h4><ul>
<li>Vue中的watch默认不监测对象内部值的改变（一层）</li>
<li>配置deep:true可以检测对象内布置改变（多层）</li>
</ul>
<p><strong>备注：</strong></p>
<ul>
<li>Vue自身可以检测对象内部值的改变，但Vue提供的watch默认不可以</li>
<li>使用watch时根据数据的具体结构，决定是否采用深度监视</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>a:&#123;&#123;numbers.a&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;numbers.a++&quot;</span>&gt;</span>点我加加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">numbers</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">a</span>:<span class="number">1</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">watch</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">numbers</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">deep</span>:<span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">handler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(<span class="string">&#x27;numbers改变了&#x27;</span>)</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="十四、watch对比computed"><a href="#十四、watch对比computed" class="headerlink" title="十四、watch对比computed"></a>十四、watch对比computed</h4><ul>
<li>computed和watch之间的区别：<ul>
<li>computed能完成的功能，watch都可以完成</li>
<li>watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作</li>
</ul>
</li>
<li>两个重要的小原则<ul>
<li>所被Vue/管理的函数，最好写成普通函数，这样this的指向才是<strong>vm或组件实例对象</strong></li>
<li>所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等），最好写成箭头函数，这样this的指向才是vm或组件实例对象</li>
</ul>
</li>
</ul>
<h4 id="十五、键盘事件"><a href="#十五、键盘事件" class="headerlink" title="十五、键盘事件"></a>十五、键盘事件</h4><h5 id="1-Vue中常用的按键别名"><a href="#1-Vue中常用的按键别名" class="headerlink" title="1.Vue中常用的按键别名"></a>1.Vue中常用的按键别名</h5><ul>
<li>回车 =&gt; enter</li>
<li>删除 =&gt; delete(捕获“删除”和“退格”键)</li>
<li>退出 =&gt; esc</li>
<li>空格 =&gt; space</li>
<li>换行 =&gt; tab（特殊：必须配合keydown使用）</li>
<li>上 =&gt; up</li>
<li>下 =&gt; down</li>
<li>左 =&gt; left</li>
<li>右 =&gt; right</li>
</ul>
<h5 id="2-Vue未提供别名的按键"><a href="#2-Vue未提供别名的按键" class="headerlink" title="2.Vue未提供别名的按键"></a>2.Vue未提供别名的按键</h5><p>可以使用按键原始的key值去绑定，但注意要转为kebab-case（短横线命名）</p>
<h5 id="3-系统修饰键（用法特殊）：ctrl、alt、shift、meta"><a href="#3-系统修饰键（用法特殊）：ctrl、alt、shift、meta" class="headerlink" title="3.系统修饰键（用法特殊）：ctrl、alt、shift、meta"></a>3.系统修饰键（用法特殊）：ctrl、alt、shift、meta</h5><ul>
<li>配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发</li>
<li>配合keydown使用：正常触发事件</li>
</ul>
<h5 id="4-也可以使用keyCode去指定具体的按键（不推荐）"><a href="#4-也可以使用keyCode去指定具体的按键（不推荐）" class="headerlink" title="4.也可以使用keyCode去指定具体的按键（不推荐）"></a>4.也可以使用keyCode去指定具体的按键（不推荐）</h5><p>已经web标准中废除了</p>
<h5 id="5-Vue-config-keyCodes-自定义键名-键码，可以去定制按键别名"><a href="#5-Vue-config-keyCodes-自定义键名-键码，可以去定制按键别名" class="headerlink" title="5.Vue.config.keyCodes.自定义键名=键码，可以去定制按键别名"></a>5.Vue.config.keyCodes.自定义键名=键码，可以去定制按键别名</h5><h4 id="十六、条件判断"><a href="#十六、条件判断" class="headerlink" title="十六、条件判断"></a>十六、条件判断</h4><ul>
<li>v-if<ul>
<li>适用于：切换频率较低的场景</li>
<li>特点：不展示的DOM元素直接被移除</li>
<li>注意：v-if可以和:v-else-if、v-else一起使用，但要求结构不能被“打断”</li>
</ul>
</li>
<li>v-show<ul>
<li>适用于：切换频率较高的场景</li>
<li>特点：不展示的DOM元素未被移除，仅仅时使用样式隐藏掉</li>
</ul>
</li>
</ul>
<h5 id="1-v-if的使用"><a href="#1-v-if的使用" class="headerlink" title="1.v-if的使用"></a>1.v-if的使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isShow</span>:<span class="literal">false</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-v-if和v-else的使用"><a href="#2-v-if和v-else的使用" class="headerlink" title="2.v-if和v-else的使用"></a>2.v-if和v-else的使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;false&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span> --&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>isShow为false时，显示我<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isShow</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-v-if和v-else-if和v-else的使用"><a href="#3-v-if和v-else-if和v-else的使用" class="headerlink" title="3.v-if和v-else-if和v-else的使用"></a>3.v-if和v-else-if和v-else的使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;score&gt;=90&quot;</span>&gt;</span>优秀<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score&gt;=80&quot;</span>&gt;</span>良好<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else-if</span>=<span class="string">&quot;score&gt;=60&quot;</span>&gt;</span>及格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>不及格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;result&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">score</span>:<span class="number">90</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">result</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">let</span> showMessage=<span class="string">&#x27;&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">if</span>(<span class="built_in">this</span>.score&gt;=<span class="number">90</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;优秀&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">this</span>.score&gt;=<span class="number">80</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;良好&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">this</span>.score&gt;=<span class="number">60</span>)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;及格&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        showMessage=<span class="string">&#x27;不及格&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">return</span> showMessage;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125; </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4-用户登录切换小案例"><a href="#4-用户登录切换小案例" class="headerlink" title="4.用户登录切换小案例"></a>4.用户登录切换小案例</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;isUser&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>用户账号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户账号&quot;</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>用户邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户邮箱&quot;</span> <span class="attr">key</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isUser =!isUser&quot;</span>&gt;</span>切换类型<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isUser</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<h5 id="5-v-show的使用"><a href="#5-v-show的使用" class="headerlink" title="5.v-show的使用"></a>5.v-show的使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--v-<span class="keyword">if</span>:当条件为<span class="literal">false</span>时，包含v-<span class="keyword">if</span>指令的元素，根本就不会存在dom中--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">id</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">        &lt;!--v-show:当条件为<span class="literal">false</span>时，v-show只是给我们的元素添加一个行内样式：display:none--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">id</span>=<span class="string">&quot;bbb&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isShow</span>:<span class="literal">false</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十七、循环遍历"><a href="#十七、循环遍历" class="headerlink" title="十七、循环遍历"></a>十七、循环遍历</h4><h5 id="1-v-for循环遍历数组"><a href="#1-v-for循环遍历数组" class="headerlink" title="1.v-for循环遍历数组"></a>1.v-for循环遍历数组</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--<span class="number">1.</span>在遍历的过程中，没有使用索引值（下标值）--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in names&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">        &lt;!--<span class="number">2.</span>在遍历的过程中，获取索引值--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in names&quot;</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">names</span>:[<span class="string">&#x27;fuew&#x27;</span>,<span class="string">&#x27;few&#x27;</span>,<span class="string">&#x27;ruf&#x27;</span>,<span class="string">&#x27;kjeg&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-v-for循环遍历对象"><a href="#2-v-for循环遍历对象" class="headerlink" title="2.v-for循环遍历对象"></a>2.v-for循环遍历对象</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">         &lt;!--<span class="number">1.</span>在遍历对象的过程中，如果只是获取一个值，那么获取到的是value--&gt;</span><br><span class="line">         <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in info&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">        &lt;!--<span class="number">2.</span>获取key和value 格式：(value,key)--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;--&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">         &lt;!--<span class="number">3.</span>获取key和value和index 格式：(value,key,index)--&gt;</span><br><span class="line">         <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key,index) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;--&#123;&#123;key&#125;&#125;--&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">info</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">name</span>:<span class="string">&#x27;why&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">age</span>:<span class="number">18</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">height</span>:<span class="number">1.99</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-v-for使用过程添加key"><a href="#3-v-for使用过程添加key" class="headerlink" title="3.v-for使用过程添加key"></a>3.v-for使用过程添加key</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;!--key的作用是为了高效地更新DOM--&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="comment">&lt;!--保证唯一性--&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">letters</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4-key的作用（key的内部原理）"><a href="#4-key的作用（key的内部原理）" class="headerlink" title="4.key的作用（key的内部原理）"></a>4.key的作用（key的内部原理）</h5><p>（1）虚拟DOM中key的作用：</p>
<p>key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】，随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</p>
<p>（2）对比规则：</p>
<ul>
<li>旧虚拟DOM中找到了与新虚拟DOM相同的key:<ul>
<li>若虚拟DOM中内容没变，直接使用之前的真实DOM</li>
<li>若虚拟DOM中内容变了，则生成新的真实DOM，随后替换页面中之前的真实DOM</li>
</ul>
</li>
<li>旧虚拟DOM中未找到与新虚拟DOM相同的key<ul>
<li>创建新的真实DOM，随后渲染到页面</li>
</ul>
</li>
</ul>
<p>（3）用index作为key可能会引发的问题：</p>
<ul>
<li>若对数据进行：逆序添加、逆序删除等破坏顺序操作<ul>
<li>会产生没有必要的真实DOM更新 == &gt; 界面效果没问题，但效率低</li>
</ul>
</li>
<li>如果结构中还包含输入类的DOM:<ul>
<li>会产生错误DOM更新 == &gt;界面效果没问题，但效率低</li>
</ul>
</li>
</ul>
<p>（4）开发中如何选择key?</p>
<ul>
<li>最好使用每条数据的唯一标识作为key,比如id、手机号、身份证号、学号等唯一值</li>
<li>如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，使用index作为key是没有问题的</li>
</ul>
<p><strong>遍历列表时key的作用（index作为key）</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加成员<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in person&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.id&#125;&#125;---&#123;&#123;p.name&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">person</span>:[</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                ]</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">add</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">const</span> p=&#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;刘六&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.person.unshift(p)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/myBlog\source_posts\vue\56.png"></p>
<p><strong>遍历列表时key的作用（id作为key）</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>添加成员<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,index) in person&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;p.id&#125;&#125;---&#123;&#123;p.name&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">person</span>:[</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>:<span class="string">&#x27;001&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>:<span class="string">&#x27;002&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                    &#123;<span class="attr">id</span>:<span class="string">&#x27;003&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                ]</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">add</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">const</span> p=&#123;<span class="attr">id</span>:<span class="string">&#x27;004&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;刘六&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.person.unshift(p)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/myBlog\source_posts\vue\57.png"></p>
<h5 id="5-哪些数组是响应式的"><a href="#5-哪些数组是响应式的" class="headerlink" title="5.哪些数组是响应式的"></a>5.哪些数组是响应式的</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in letters&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">letters</span>:[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//1.push方法</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.push(<span class="string">&#x27;AAA&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//2.通过索引值修改值（无法修改）</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters[<span class="number">0</span>]=<span class="string">&#x27;djiw&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//3.pop()删除数组最后一个元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.pop();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//4.shift()删除数组第一个元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.shift();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//5.unshift()在数组最前面添加元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.unshift(<span class="string">&#x27;aaa&#x27;</span>,<span class="string">&#x27;fw&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//6.splice作用：删除元素/插入元素/替换元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//删除元素：第二个参数传入你要删除几个元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//替换元素：第二个参数，表示我们要替换几个元素，后面适用于替换前面的元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//插入元素：第二个元素，传入0，并且后面跟上要插入的元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">// splice(start);</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.splice(<span class="number">2</span>,<span class="built_in">this</span>.letters.length-<span class="number">2</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.splice(<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;p&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="string">&#x27;x&#x27;</span>,<span class="string">&#x27;y&#x27;</span>,<span class="string">&#x27;z&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//7.sort()</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.sort();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//8.reverse()</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.letters.reverse();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="6-作业-v-for和v-bind的结合"><a href="#6-作业-v-for和v-bind的结合" class="headerlink" title="6.作业(v-for和v-bind的结合)"></a>6.作业(v-for和v-bind的结合)</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .active&#123;</span><br><span class="line">        <span class="attr">color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;!--作业需求：点击列表中的哪一项，那么该项的文字变成红色--&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in movies&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:currentIndex==index&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;liClick(index)&quot;</span>&gt;</span>&#123;&#123;index&#125;&#125;.&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">movies</span>:[<span class="string">&#x27;海王&#x27;</span>,<span class="string">&#x27;海尔兄弟&#x27;</span>,<span class="string">&#x27;火影忍者&#x27;</span>,<span class="string">&#x27;进击的巨人&#x27;</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">currentIndex</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="function"><span class="title">liClick</span>(<span class="params">index</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="built_in">this</span>.currentIndex=index;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="7-表单控件v-model（实现表单元素和数据的双向绑定）"><a href="#7-表单控件v-model（实现表单元素和数据的双向绑定）" class="headerlink" title="7.表单控件v-model（实现表单元素和数据的双向绑定）"></a>7.表单控件v-model（实现表单元素和数据的双向绑定）</h5><p>（1）v-model其实是一个语法糖，它的背后本质上是包含两个操作：</p>
<ul>
<li>v-bind绑定一个value属性</li>
<li>v-on指令给当前元素绑定input事件</li>
</ul>
<p>（2）v-model的基本使用</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;&#123;message&#125;&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（3）v-model的原理</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!-- &lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt; --&gt;</span><br><span class="line">        &lt;!-- &lt;input type=&quot;text&quot; :value=&quot;message&quot; @input=&quot;valueChange&quot;&gt; --&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; :value=&quot;message&quot; @input=&quot;message=event.target.value&quot;&gt;</span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        const app=new Vue(&#123;</span><br><span class="line">            el:&quot;#app&quot;,</span><br><span class="line">            data:&#123;</span><br><span class="line">                message:&quot;你好vuejs&quot;,</span><br><span class="line">            &#125;,</span><br><span class="line">            methods:&#123;</span><br><span class="line">                valueChange(event)&#123;</span><br><span class="line">                    this.message=event.target.value;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>案例的解析</p>
<ul>
<li>当我们在输入框输入内容时</li>
<li>因为input中的v-model绑定了message，所以会实时将输入的内容传递给message,message发生改变<ul>
<li>当message发生改变时，因为上面我们使用Mustachce语法，将message的值插入到DOM中，所以DOM会发生响应的改变</li>
</ul>
</li>
<li>所以通过v-model实现了双向的绑定</li>
<li>也可以将v-model用于textareea匀速</li>
<li>v-model只能用表单类元素上</li>
</ul>
<h5 id="8-v-model结合radio类型"><a href="#8-v-model结合radio类型" class="headerlink" title="8.v-model结合radio类型"></a>8.v-model结合radio类型</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">       &lt;!--加上name才会互斥，但是现在有加上v-model绑定同一个属性，就可以不用加，因为也会实现互斥--&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男</span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>女 </span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">label</span>&gt;</span> </span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您的性别是:&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<h5 id="9-v-model结合checkbox类型"><a href="#9-v-model结合checkbox类型" class="headerlink" title="9.v-model结合checkbox类型"></a>9.v-model结合checkbox类型</h5><p>（1）checkbox单选框</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--checkbox单选框--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;agree&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;agree&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;isAgree&quot;</span>&gt;</span>同意协议</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的是：&#123;&#123;isAgree&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">&quot;!isAgree&quot;</span>&gt;</span>下一步<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">isAgree</span>:<span class="literal">false</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="（2）checkbox多选框"><a href="#（2）checkbox多选框" class="headerlink" title="（2）checkbox多选框"></a>（2）checkbox多选框</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--checkbox多选框--&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;篮球&quot; v-model=&quot;hobbies&quot;&gt;篮球</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;足球&quot; v-model=&quot;hobbies&quot;&gt;足球</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;羽毛球&quot; v-model=&quot;hobbies&quot;&gt;羽毛球</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; value=&quot;乒乓球&quot; v-model=&quot;hobbies&quot;&gt;乒乓球</span><br><span class="line">        &lt;h2&gt;您的爱好是：&#123;&#123;hobbies&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;label v-for=&quot;item in originHobbies&quot; :for=&quot;item&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :value=&quot;item&quot; :id=&quot;item&quot; v-model=&quot;hobbies&quot;&gt;&#123;&#123;item&#125;&#125;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        const app=new Vue(&#123;</span><br><span class="line">            el:&quot;#app&quot;,</span><br><span class="line">            data:&#123;</span><br><span class="line">                message:&quot;你好vuejs&quot;,</span><br><span class="line">                isAgree:false,</span><br><span class="line">                hobbies:[],</span><br><span class="line">                originHobbies:[&#x27;篮球&#x27;,&#x27;足球&#x27;,&#x27;乒乓球&#x27;,&#x27;羽毛球&#x27;,&#x27;台球&#x27;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="10-v-model结合select类型"><a href="#10-v-model结合select类型" class="headerlink" title="10.v-model结合select类型"></a>10.v-model结合select类型</h5><p>（1）选择一个</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--选择一个--&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruit&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;香蕉&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;榴莲&quot;</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;葡萄&quot;</span>&gt;</span>葡萄<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>选择的是：&#123;&#123;fruit&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">fruit</span>:<span class="string">&#x27;香蕉&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）选择多个</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">       &lt;!--选择多个--&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruits&quot;</span> <span class="attr">multiple</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;香蕉&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;榴莲&quot;</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">           <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;葡萄&quot;</span>&gt;</span>葡萄<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>选择的是：&#123;&#123;fruits&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">fruits</span>:[]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="11-v-model修饰符"><a href="#11-v-model修饰符" class="headerlink" title="11.v-model修饰符"></a>11.v-model修饰符</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        &lt;!--<span class="number">1.</span>修饰符：lazy--&gt;</span><br><span class="line">        &lt;!--按enter再改变，不是边打边改变--&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model.lazy=&quot;message&quot;&gt;</span><br><span class="line">        &#123;&#123;message&#125;&#125;</span><br><span class="line">        &lt;!--2.修饰符：number--&gt;</span><br><span class="line">        &lt;input type=&quot;number&quot; v-model.number=&quot;age&quot;&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;age&#125;&#125;-&#123;&#123;typeof age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;!--3.修饰符：trim--&gt;</span><br><span class="line">        &lt;!--可以忽略前面输入的空格和后面的空格--&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model.trim=&quot;name&quot;&gt;</span><br><span class="line">        &lt;h2&gt;您输入的名字是：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        const app=new Vue(&#123;</span><br><span class="line">            el:&quot;#app&quot;,</span><br><span class="line">            data:&#123;</span><br><span class="line">                message:&quot;你好vuejs&quot;,</span><br><span class="line">                age:0,</span><br><span class="line">                name:&#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十二、书籍购物车案例"><a href="#十二、书籍购物车案例" class="headerlink" title="十二、书籍购物车案例"></a>十二、书籍购物车案例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//main.js文件</span></span><br><span class="line"><span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">        <span class="attr">books</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">1</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《算法导论》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2006-9&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">85.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">2</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《UNIX编程艺术》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2006-2&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">59.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">3</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《编程珠玑》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2008-10&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">39.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>:<span class="number">4</span>,</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;《代码大全》&#x27;</span>,</span><br><span class="line">                <span class="attr">date</span>:<span class="string">&#x27;2006-3&#x27;</span>,</span><br><span class="line">                <span class="attr">price</span>:<span class="number">128.00</span>,</span><br><span class="line">                <span class="attr">count</span>:<span class="number">1</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="comment">// getFinalPrice(price)&#123;</span></span><br><span class="line">        <span class="comment">//     return &#x27;￥&#x27;+price.toFixed(2);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="function"><span class="title">increment</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.books[index].count++;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">decrement</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.books[index].count--;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="title">removeHandle</span>(<span class="params">index</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.books.splice(index,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">filters</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">showPrice</span>(<span class="params">price</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;￥&#x27;</span>+price.toFixed(<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">computed</span>:&#123;</span><br><span class="line">        <span class="function"><span class="title">totalPrice</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">                totalPrice+=p.price*p.count;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> totalPrice;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//css文件</span></span><br><span class="line">table&#123;</span><br><span class="line">    <span class="attr">border</span>:1px solid #e9e9e9;</span><br><span class="line">    border-collapse: collapse;</span><br><span class="line">    border-spacing: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">th,td&#123;</span><br><span class="line">    <span class="attr">padding</span>:8px 16px;</span><br><span class="line">    border:1px solid #e9e9e9;</span><br><span class="line">    text-align:center;</span><br><span class="line">&#125;</span><br><span class="line">th&#123;</span><br><span class="line">    background-color:#f7f7f7;</span><br><span class="line">    color:#5c6b77;</span><br><span class="line">    font-weight: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//html文件</span></span><br><span class="line">&lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;style.css&quot;</span>&gt;</span><br><span class="line"> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;books.length&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>书籍名称<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>出版日期<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>价格<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>购买数量<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in books&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.id&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.date&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="comment">&lt;!-- &lt;td&gt;&#123;&#123;&#x27;￥&#x27;+item.price.toFixed(2)&#125;&#125;&lt;/td&gt; --&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="comment">&lt;!-- &lt;td&gt;&#123;&#123; getFinalPrice(item.price)&#125;&#125;&lt;/td&gt; --&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="comment">&lt;!-- &lt;td&gt;&#123;&#123;item.price|过滤器&#125;&#125;&lt;/td&gt;将前面的数据过滤 --&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;item.price|showPrice&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement(index)&quot;</span> <span class="attr">v-bind:disabled</span>=<span class="string">&quot;item.count&lt;=1&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">                            &#123;&#123;item.count&#125;&#125;</span></span><br><span class="line"><span class="xml">                            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment(index)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;removeHandle(index)&quot;</span>&gt;</span>移除<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>总价格：&#123;&#123;totalPrice|showPrice&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-else</span>&gt;</span>购物车为空<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十三、js高阶函数的使用"><a href="#十三、js高阶函数的使用" class="headerlink" title="十三、js高阶函数的使用"></a>十三、js高阶函数的使用</h4><h5 id="1-普通的for循环"><a href="#1-普通的for循环" class="headerlink" title="1.普通的for循环"></a>1.普通的for循环</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="built_in">this</span>.books.lenght;i++)&#123;</span><br><span class="line">    totalPrice+=<span class="built_in">this</span>.books[i].price*<span class="built_in">this</span>.books[i].count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-for-let-i-in-this-books"><a href="#2-for-let-i-in-this-books" class="headerlink" title="2.for(let i in this.books)"></a>2.for(let i in this.books)</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">    <span class="keyword">const</span> book=<span class="built_in">this</span>.books[i];</span><br><span class="line">    totalPrice+=book.price*book.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-for-let-i-of-this-books"><a href="#3-for-let-i-of-this-books" class="headerlink" title="3.for(let i of this.books)"></a>3.for(let i of this.books)</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> totalPrice=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> <span class="built_in">this</span>.books)&#123;</span><br><span class="line">    totalPrice+=item.price*item.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> totalPrice;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4-需求"><a href="#4-需求" class="headerlink" title="4.需求"></a>4.需求</h5><p>（1）传统做法</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">111</span>,<span class="number">222</span>,<span class="number">444</span>,<span class="number">40</span>,<span class="number">50</span>];</span><br><span class="line"><span class="comment">//1.需求：取出所有小于100的数字</span></span><br><span class="line"><span class="keyword">let</span> newNums=[]; </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> nums)&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">100</span>)&#123;</span><br><span class="line">        newNums.push(n);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.将所有小于100的数字进行转换：全部*2</span></span><br><span class="line"><span class="keyword">let</span> new2Nums=[]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> newNums)&#123;</span><br><span class="line">    new2Nums.push(n*<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(new2Nums);</span><br><span class="line"><span class="comment">//3.需求：将所有new2Nums数字相加，得到最重的</span></span><br><span class="line"><span class="keyword">let</span> total=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> n <span class="keyword">of</span> new2Nums)&#123;</span><br><span class="line">    total +=n</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(total)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>(2)filter/map/reduce filter中的回调函数有一个要求：必须返回一个boolean值 true:当返回true时，函数内部会自动将这次回调的n加入到新的数组中 false:当返回false时，函数内部会过滤这次的n</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nums=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">111</span>,<span class="number">222</span>,<span class="number">444</span>,<span class="number">40</span>,<span class="number">50</span>];</span><br><span class="line"><span class="comment">//1.filter函数的使用</span></span><br><span class="line"><span class="comment">//10,20,40,50</span></span><br><span class="line"><span class="keyword">let</span> newNums=nums.filter(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n&lt;<span class="number">100</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newNums)</span><br><span class="line"><span class="comment">//2.map函数的使用</span></span><br><span class="line"><span class="keyword">let</span> new2Nums=newNums.map(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(new2Nums);</span><br><span class="line"><span class="comment">//3.reduce函数的使用</span></span><br><span class="line"><span class="comment">//reduce作用对数组中所有的内容进行汇总</span></span><br><span class="line">new2Nums.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">preValue,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> preValue+n</span><br><span class="line">&#125;,<span class="number">0</span>)<span class="comment">//这个0是初始值</span></span><br><span class="line"><span class="comment">//第一次：preValue 0 n 20</span></span><br><span class="line"><span class="comment">//第二次：preValue 20 n 40</span></span><br><span class="line"><span class="comment">//第三次：preValue 60 n 80</span></span><br><span class="line"><span class="comment">//第四次：preValue 140 n 100</span></span><br><span class="line"><span class="comment">//最终代码</span></span><br><span class="line"><span class="keyword">let</span> total=nums.filter(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n&lt;<span class="number">100</span></span><br><span class="line">&#125;).map(<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n*<span class="number">2</span></span><br><span class="line">&#125;).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prevValue,n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prevValue+n</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//最终版</span></span><br><span class="line"><span class="keyword">let</span> total=nums.filter(<span class="function"><span class="params">n</span>=&gt;</span>n&lt;<span class="number">100</span>).map(<span class="function"><span class="params">n</span>=&gt;</span>n*<span class="number">2</span>).reduce(<span class="function">(<span class="params">preValue,n</span>)=&gt;</span>preValue+n);</span><br><span class="line"></span><br><span class="line"><span class="comment">//案例的</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">this</span>.books.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">pre,book</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre+book.price*book.count</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十四、组件化"><a href="#十四、组件化" class="headerlink" title="十四、组件化"></a>十四、组件化</h4><p><img src="/2021/09/02/vue/41.png"></p>
<h5 id="1-组件化的实现和使用步骤"><a href="#1-组件化的实现和使用步骤" class="headerlink" title="1.组件化的实现和使用步骤"></a>1.组件化的实现和使用步骤</h5><p>组件的使用分成三个步骤：</p>
<ul>
<li><p>创建组件构造器</p>
</li>
<li><p>注册组件</p>
</li>
<li><p>使用组件</p>
<p><img src="/2021/09/02/vue/2.png"></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">		&lt;!--使用--&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1.创建组件构造器对象</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> cpnC=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                    &lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">            `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//2.注册组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,cpnC)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-注册步骤解析"><a href="#2-注册步骤解析" class="headerlink" title="2.注册步骤解析"></a>2.注册步骤解析</h5><p>（1）Vue.extend()</p>
<ul>
<li>调用Vue.extend()创建的是一个组件构造器</li>
<li>通常在创建组件构造器时，传入template代表我们自定义组件的模板</li>
<li>该模板就是在使用到组件的地方，要显示的HTML代码</li>
<li>事实上，这种写法在Vue2.x的文档中几乎已经看不到了，它会直接使用语法糖</li>
</ul>
<p>（2）Vue.component():</p>
<ul>
<li>调用Vue.component()是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称</li>
<li>所以需要传递两个参数：1、注册组件的标签名 2、组件构造器</li>
</ul>
<h5 id="3-全局组件和局部组件"><a href="#3-全局组件和局部组件" class="headerlink" title="3.全局组件和局部组件"></a>3.全局组件和局部组件</h5><p>（1）当我们通过调用Vue.component()注册组件时，组件的注册是全局的，这意味着该组件可以在任意Vue实例下使用</p>
<p>（2）如果我们注册的组件时挂载在某个实例中，那么就是一个局部组件</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//1.创建组件构造器对象</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> cpnC=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">             `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//  //2.注册组件(全局组件，意味着可以在多个Vue的实例下面应用)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//  Vue.component(&#x27;cpn&#x27;,cpnC)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="comment">//cpn使用时的标签名</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">cpn</span>:cpnC</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4-父组件和子组件"><a href="#4-父组件和子组件" class="headerlink" title="4.父组件和子组件"></a>4.父组件和子组件</h5><p>（1）组件和组件之间存在层级关系</p>
<p>（2）而其中一种非常重要的关系就是父子组件的关系</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn2</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn2</span>&gt;</span></span></span><br><span class="line"><span class="xml">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">     <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//1.创建第一个组件构造器（子组件）</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> cpnC1=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;h2&gt;我是标题1&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">             `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//2.创建第二个组件构造器（父组件）</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> cpnC2=Vue.extend(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;h2&gt;我是标题2&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                     &lt;cpn1&gt;&lt;/cpn1&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                 &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">             `</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="comment">//在哪里注册，就只能在哪里使用而已</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">cpn1</span>:cpnC1</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="comment">//他也是一个组件，root</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                 <span class="attr">message</span>:<span class="string">&quot;你好vuejs&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">cpn2</span>:cpnC2</span></span></span><br><span class="line"><span class="javascript"><span class="xml">             &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="5-注册组件的语法糖写法"><a href="#5-注册组件的语法糖写法" class="headerlink" title="5.注册组件的语法糖写法"></a>5.注册组件的语法糖写法</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn1</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn1</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn2</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1.全局组件注册的语法糖</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1.创建组件构造器</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// const cpn1=Vue.extend()</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//2.注册组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn1&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                    &lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">            `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">cpn2</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">template</span>:<span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                        &lt;div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                            &lt;h2&gt;我是标题2&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                        &lt;/div&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="javascript"><span class="xml">                    `</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="6-组件模板抽离的写法"><a href="#6-组件模板抽离的写法" class="headerlink" title="6.组件模板抽离的写法"></a>6.组件模板抽离的写法</h5><p>提供了两种方法 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &lt;!--<span class="number">1.</span>script标签，注意：类型必须是text/x-template--&gt;</span><br><span class="line">    &lt;!-- <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/x-template&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span><span class="handlebars"><span class="xml"></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="xml"><span class="handlebars"><span class="xml">    </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> --&gt;</span><br><span class="line">    &lt;!--template标签--&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//注册一个全局组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="7-组件可以访问Vue实例数据？（不可以）"><a href="#7-组件可以访问Vue实例数据？（不可以）" class="headerlink" title="7.组件可以访问Vue实例数据？（不可以）"></a>7.组件可以访问Vue实例数据？（不可以）</h5><p>（1）组件是一个单独功能模块的封装：</p>
<p>这个模块有属于自己的HTML模板，也应该有属性自己的数据data</p>
<p>（2）组件中的数据时保存在哪里？顶层的Vue实例中吗？</p>
<p><img src="/2021/09/02/vue/1.png"></p>
<h5 id="8-组件中的数据存放问题"><a href="#8-组件中的数据存放问题" class="headerlink" title="8.组件中的数据存放问题"></a>8.组件中的数据存放问题</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//注册一个全局组件</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">title</span>:<span class="string">&#x27;adc&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="9-为什么组件data必须是一个函数"><a href="#9-为什么组件data必须是一个函数" class="headerlink" title="9.为什么组件data必须是一个函数"></a>9.为什么组件data必须是一个函数</h5><p>当我们的data是一个函数的时候，每一个实例的data属性都是独立的，不会相互影响了</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="xml"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前计数：&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        Vue.component(<span class="string">&#x27;cpn&#x27;</span>,&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">return</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="attr">counter</span>:<span class="number">0</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter++</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="function"><span class="title">decrement</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">this</span>.counter--</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="attr">message</span>:<span class="string">&#x27;hekk&#x27;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="10-父子组件的通信"><a href="#10-父子组件的通信" class="headerlink" title="10.父子组件的通信"></a>10.父子组件的通信</h5><p>在开发中，往往一些数据确实需要从上层传递到下层：</p>
<p>比如在一个页面中，我们从服务器请求到了很多的数据。其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示，这个时候，并不会让子组件再次发送一个网络请求，而是直接让大组件（父组件）将数据传递给小组件（子组件）</p>
<p>如何进行父子组件间的通信</p>
<ul>
<li>通过props向子组件传递数据</li>
<li>通过事件向父组件发送消息</li>
</ul>
<p><img src="/2021/09/02/vue/3.png"></p>
<p>（1）在组件中，使用选项props来声明需要从父级接受到的数据</p>
<p>props的值有两种方式：</p>
<ul>
<li>方式一：字符串数组，数组中的字符串就是传递时的名称</li>
<li>方式二：对象，对象可以设置传递时的类型，也可以设置默认值等</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">       <span class="xml"><span class="tag">&lt;<span class="name">cpn</span> <span class="attr">v-bind:cmovies</span>=<span class="string">&quot;movies&quot;</span> <span class="attr">:cmessage</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in cmovies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//父传子：props</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> cpn=&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">template</span>:<span class="string">&#x27;#cpn&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="comment">// props:[&#x27;cmovies&#x27;,&#x27;cmessage&#x27;]</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">props</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">//1.类型限制</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">// cmovies:Array,</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">// cmessage:String</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">//2.提供一些默认值</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">cmessage</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">type</span>:<span class="built_in">String</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">default</span>:<span class="string">&#x27;aaaa&#x27;</span>,<span class="comment">//设置默认的类型</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">required</span>:<span class="literal">true</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="comment">//类型是对象或者数组时，默认值必须是一个函数</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">cmovies</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="attr">type</span>:<span class="built_in">Array</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="comment">// default:[]//会报错，在vue2.5.17以上</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   <span class="function"><span class="title">default</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                       <span class="keyword">return</span> []</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                   &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">data</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">message</span>:<span class="string">&#x27;hekk&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               <span class="attr">movies</span>:[<span class="string">&#x27;海王&#x27;</span>,<span class="string">&#x27;冒险家&#x27;</span>]</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">               cpn</span></span></span><br><span class="line"><span class="javascript"><span class="xml">           &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;my-component&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">props</span>:&#123;</span><br><span class="line">        <span class="comment">//基础的类型检查（&#x27;null&#x27;匹配任何类型）</span></span><br><span class="line">        <span class="attr">propA</span>:<span class="built_in">Number</span>,</span><br><span class="line">        <span class="comment">//多个可能的类型</span></span><br><span class="line">        <span class="attr">props</span>:[<span class="built_in">String</span>,<span class="built_in">Number</span>],</span><br><span class="line">        <span class="comment">//必填的字符串</span></span><br><span class="line">        <span class="attr">propC</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line">            <span class="attr">requires</span>:<span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//带有默认值的数字</span></span><br><span class="line">        <span class="attr">propD</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="built_in">Number</span>,</span><br><span class="line">            <span class="attr">default</span>:<span class="number">100</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//带有默认值的对象</span></span><br><span class="line">        <span class="attr">propE</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="built_in">Object</span>,</span><br><span class="line">            <span class="comment">//对象或数组默认值必须从一个工厂函数获取</span></span><br><span class="line">            <span class="attr">default</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;<span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span>&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//自定义验证函数</span></span><br><span class="line">        <span class="attr">propF</span>:&#123;</span><br><span class="line">            <span class="attr">validator</span>:<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">                <span class="comment">//这个值必须匹配下列字符串中的一个</span></span><br><span class="line">                <span class="keyword">return</span> [<span class="string">&#x27;success&#x27;</span>,<span class="string">&#x27;warning&#x27;</span>,<span class="string">&#x27;danger&#x27;</span>].indexOf(value)!=-<span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）props驼峰标识</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:c-info</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:c-message</span>=<span class="string">&quot;message&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cInfo&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cMessage&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cpn=&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">template</span>:<span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">props</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cInfo</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">type</span>:<span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">default</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="attr">cMessage</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">type</span>:<span class="built_in">Object</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">default</span>:<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">info</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">name</span>:<span class="string">&#x27;why&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">age</span>:<span class="number">18</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">height</span>:<span class="number">1.88</span></span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;aaa&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                cpn</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（3）子级向父级传递</p>
<p>通过自定义事件来完成</p>
<ul>
<li>什么时候需要自定义事件呢？<ul>
<li>当子组件需要向父组件传递数据时，就要用到自定义事件了</li>
<li>我们之间学习的v-on不仅仅可以用于监听DOM事件，也可以用于组件间的自定义事件</li>
</ul>
</li>
<li>自定义事件的流程：<ul>
<li>在子组件中，通过$emit()来触发事件</li>
<li>在父组件中，通过v-on来监听子组件事件</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">itemclick</span>=<span class="string">&quot;cpnClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">&quot;item in categories&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick(item)&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">       <span class="comment">//1.子组件</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">const</span> cpn=&#123;</span></span><br><span class="line"><span class="javascript">           <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">           <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="attr">categories</span>:[</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;aaa&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;手机管家&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;bbb&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;热门推荐&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;ccc&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;家用家电&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">                       &#123;<span class="attr">id</span>:<span class="string">&#x27;ddd&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;电脑办公&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript">                   ]</span></span><br><span class="line"><span class="javascript">               &#125;</span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">               <span class="comment">//发射事件。自定义事件</span></span></span><br><span class="line"><span class="javascript">               <span class="function"><span class="title">btnClick</span>(<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="built_in">this</span>.$emit(<span class="string">&#x27;itemclick&#x27;</span>,item);</span></span><br><span class="line"><span class="javascript">               &#125;</span></span><br><span class="line"><span class="javascript">           &#125;</span></span><br><span class="line"><span class="javascript">       &#125;</span></span><br><span class="line"><span class="javascript">       <span class="comment">//2.父组件</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">           <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">           <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">               <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">               cpn</span></span><br><span class="line"><span class="javascript">           &#125;,</span></span><br><span class="line"><span class="javascript">           <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">               <span class="function"><span class="title">cpnClick</span>(<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                   <span class="built_in">console</span>.log(<span class="string">&quot;cpnClick&quot;</span>,item);</span></span><br><span class="line"><span class="javascript">               &#125;</span></span><br><span class="line"><span class="javascript">           &#125;</span></span><br><span class="line"><span class="javascript">       &#125;)</span></span><br><span class="line"><span class="javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>例子</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">childincrement</span>=<span class="string">&quot;changetotal&quot;</span> @<span class="attr">childdecrement</span>=<span class="string">&quot;changetotal&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>点击次数:&#123;&#123;total&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment()&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement()&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//子组件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> cpn=&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">counter</span>:<span class="number">0</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">increment</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.counter++;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;childincrement&#x27;</span>,<span class="built_in">this</span>.counter);</span></span><br><span class="line"><span class="javascript">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">decrement</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.counter--;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.$emit(<span class="string">&#x27;childdecrement&#x27;</span>,<span class="built_in">this</span>.counter);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//父组件</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">total</span>:<span class="number">0</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                cpn</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">changetotal</span>(<span class="params">counter</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.total=counter;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;);</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="11-组件访问方式"><a href="#11-组件访问方式" class="headerlink" title="11.组件访问方式"></a>11.组件访问方式</h5><ul>
<li>父组件访问子组件：使用$children或$refs<ul>
<li>this.$children是一个数组类型，它包含所有子组件对象</li>
</ul>
</li>
<li>子组件访问父组件：使用$parent</li>
</ul>
<p>（1）父访问子</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">ref</span>=<span class="string">&quot;aaa&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//1.$children</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// console.log(this.$children);</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// this.$children[0].showMessage();</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// console.log(this.$children[0].name);</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//2.$refs--&gt;对象类型，默认是一个空的对象</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="built_in">this</span>.$refs.aaa.name)</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="attr">name</span>:<span class="string">&#x27;hhh&#x27;</span></span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="function"><span class="title">showMessage</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="string">&quot;showMessage&quot;</span>);</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>（2）子访问父</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btnClick&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(this.$parent.message);</span></span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(<span class="built_in">this</span>.$root.message);</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十五、组件化高级"><a href="#十五、组件化高级" class="headerlink" title="十五、组件化高级"></a>十五、组件化高级</h4><h5 id="1-为什么使用slot"><a href="#1-为什么使用slot" class="headerlink" title="1.为什么使用slot"></a>1.为什么使用slot</h5><ul>
<li>组件的插槽也是为了让我们封装的组件更加具有扩展性</li>
<li>让使用者可以决定组件内部的一些内容到底展示什么</li>
<li>抽取共性，保留不同</li>
</ul>
<p>插槽的基本使用：<slot></slot></p>
<p>插槽的默认值<slot>button</slot></p>
<p>如果有多个值，同时放入到组件进行替换时，一起替换元素</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-具名插槽"><a href="#2-具名插槽" class="headerlink" title="2.具名插槽"></a>2.具名插槽</h5><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">&quot;left&quot;</span>&gt;</span>黑盒<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>哈哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是子组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;rigth&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span></span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-vue3中组件的生命周期"><a href="#3-vue3中组件的生命周期" class="headerlink" title="3.vue3中组件的生命周期"></a>3.vue3中组件的生命周期</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例刚刚被创建&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">created</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例已经创建完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;模板编译之前&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">mouted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;模板编译完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">beforeUpdate</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;数据更新之前&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">updated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;数据更新完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">activated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;keep-alive缓存的组件激活时调用&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">deactivated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;keep-alive缓存的组件停用时调用&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">beforeUnmount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例销毁之间&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">unmounted</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;实例销毁完成&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/42.png"></p>
<h4 id="十六、编译作用域"><a href="#十六、编译作用域" class="headerlink" title="十六、编译作用域"></a>十六、编译作用域</h4><p>在自己的模板找作用域</p>
<p>父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译</p>
<p>它的作用域是父组件，使用的属性也会是父组件的</p>
<h4 id="十七、作用域插槽的使用"><a href="#十七、作用域插槽的使用" class="headerlink" title="十七、作用域插槽的使用"></a>十七、作用域插槽的使用</h4><p>父组件替换插槽的标签，但是内容由子组件来提供</p>
<p><img src="/2021/09/02/vue/4.png"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--目的是获取子组件中的language--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;slot&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;slot.data.join(&quot;*&quot;)&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--不一定要写data也可以写成别的--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:data</span>=<span class="string">&quot;language&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in language&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello&#x27;</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">components</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">cpn</span>:&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="attr">template</span>:<span class="string">&quot;#cpn&quot;</span>,</span></span><br><span class="line"><span class="javascript">                    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="attr">language</span>:[<span class="string">&#x27;java&#x27;</span>,<span class="string">&#x27;c++&#x27;</span>,<span class="string">&#x27;python&#x27;</span>]</span></span><br><span class="line"><span class="javascript">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125;</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="十八、webpack的介绍与安装"><a href="#十八、webpack的介绍与安装" class="headerlink" title="十八、webpack的介绍与安装"></a>十八、webpack的介绍与安装</h4><p>1.从本质上来讲，webpack是一个现代的javascript应用的静态模块打包工具</p>
<p>2.css、图片、json文件等等都会在webpack当做模块来使用</p>
<p><img src="/2021/09/02/vue/8.png"></p>
<p><img src="/2021/09/02/vue/9.png"></p>
<p><img src="/2021/09/02/vue/10.png"></p>
<p>3.chunk?正在打包的代码-》bundle.js</p>
<p>多个chunk可能组织到bundle.js</p>
<p>4.安装webpack5</p>
<ul>
<li>npm -v</li>
<li>npm init -y 生成package.json文件</li>
<li>npm i webpack webpack-cli -D</li>
</ul>
<p>5.运行</p>
<ul>
<li>webpack –mode development生成dist（开发模式）</li>
<li>node dist/main.js 得到结果</li>
<li>webpack –mode production（生产模式）发行出去</li>
</ul>
<p>6.webpack.config.js配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;resolve&#125;=<span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">   <span class="comment">//1.entry 入口（entry）指示webpack以哪个文件作为入口起点开始打包，分析构建内部依赖图</span></span><br><span class="line">    <span class="comment">// 如果只有一个入口，使用字符串，指定一个入口文件，打包一个chunk，输出一个bundle,chunk的名称是默认的</span></span><br><span class="line">    <span class="comment">//Array 多入口，多入口个文件，所有的入口文件形成一个chunk,名称是默认的，输出也是只有一个bundle</span></span><br><span class="line">    <span class="comment">//entry:[&#x27;./src/index.js&#x27;,&quot;./src/main.js&quot;]</span></span><br><span class="line">    <span class="comment">//Object:多入口，有几个入口文件就会生成几个chunk，并输出几个bundle,chunk的名称是key</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * entry:&#123;</span></span><br><span class="line"><span class="comment">    *   one:&#x27;./src/index.js&#x27;,</span></span><br><span class="line"><span class="comment">    *   two:&#x27;/src/main.js&#x27;</span></span><br><span class="line"><span class="comment">    * &#125;</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="comment">//特殊用法</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * entry:&#123;</span></span><br><span class="line"><span class="comment">    *   onea:[&#x27;./src/main.js&#x27;,&#x27;./src/index.js&#x27;],</span></span><br><span class="line"><span class="comment">    *   twob:&#x27;./src/index.js&#x27;</span></span><br><span class="line"><span class="comment">    * &#125;</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="attr">entry</span>:<span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">    <span class="comment">//2.output 输出(input)指示webpack打包后的资源bundles输出到哪里，以及如何命名</span></span><br><span class="line">    <span class="attr">output</span>:&#123;</span><br><span class="line">        <span class="attr">filename</span>:<span class="string">&quot;build.js&quot;</span>,<span class="comment">//输出文件名</span></span><br><span class="line">        <span class="attr">path</span>:resolve(__dirname,<span class="string">&#x27;build&#x27;</span>)<span class="comment">//输出的位置</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//3.loader 让webpack能狗去处理那些非javascript资源css,img等，将它们处理成webpack能够识别的资源</span></span><br><span class="line">    <span class="attr">module</span>:&#123;</span><br><span class="line">        <span class="attr">rules</span>:[</span><br><span class="line"></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//4.plugins 插件可以用于执行范围更广的任务。包括，从打包优化和压缩</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.mode</span></span><br><span class="line">    <span class="comment">// mode:&#x27;production&#x27; //生产模式</span></span><br><span class="line">    <span class="attr">mode</span>:<span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>7.webpack打包html资源</p>
<p><img src="/2021/09/02/vue/11.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引用插件html-webpack-plugin</span></span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin=<span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">plugins:[</span><br><span class="line">        <span class="comment">//默认会创建一个空的，目的就是自动会引入打包的资源</span></span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            <span class="attr">template</span>:<span class="string">&quot;./src/index.html&quot;</span>,</span><br><span class="line">            <span class="attr">filename</span>:<span class="string">&quot;demo.html&quot;</span>,</span><br><span class="line">            <span class="attr">minify</span>:&#123;</span><br><span class="line">                <span class="comment">//移除空格</span></span><br><span class="line">                <span class="attr">collapseWhitespace</span>:<span class="literal">true</span>,</span><br><span class="line">                <span class="comment">//移除注释</span></span><br><span class="line">                <span class="attr">removeComments</span>:<span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>8.webpack打包css资源</p>
<p><img src="/2021/09/02/vue/12.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>:&#123;</span><br><span class="line">       <span class="attr">rules</span>:[</span><br><span class="line">           &#123;   <span class="attr">test</span>:<span class="regexp">/.css$/</span>,</span><br><span class="line">               <span class="comment">//从右到左的，从上到下，要先加载css-loader</span></span><br><span class="line">               use:[<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">       ]</span><br><span class="line">   &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>9.webpack打包less和sass资源</p>
<p><img src="/2021/09/02/vue/13.png"></p>
<ul>
<li>npm i less less-loader -D</li>
<li>npm i node-sass sass-loader -D</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//打包less</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>:<span class="regexp">/\.less$/</span>,</span><br><span class="line">                use:[<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>,<span class="string">&#x27;less-loader&#x27;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//打包sass</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">test</span>:<span class="regexp">/\.scss$/</span>,</span><br><span class="line">                use:[<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>,<span class="string">&#x27;sass-loader&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10.提取css为单独文件</p>
<p><img src="/2021/09/02/vue/14.png"></p>
<ul>
<li>npm i mini-css-extract-plugin -D</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin=<span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>);</span><br><span class="line">&#123;   <span class="attr">test</span>:<span class="regexp">/\.css$/</span>,</span><br><span class="line">                <span class="comment">//从右到左的，从上到下，要先加载css-loader</span></span><br><span class="line">                <span class="comment">// use:[&#x27;style-loader&#x27;,&#x27;css-loader&#x27;]</span></span><br><span class="line">                use:[MiniCssExtractPlugin.loader,<span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">            <span class="attr">filename</span>: <span class="string">&#x27;demo.css&#x27;</span><span class="comment">//还不能分成多个</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10.处理CSS的兼容性</p>
<p><img src="/2021/09/02/vue/15.png"></p>
<p>11.压缩css</p>
<p>这是webpack4及以下 的</p>
<p><img src="/2021/09/02/vue/16.png"></p>
<p>webpack5</p>
<ul>
<li>npm i css-minimizer-webpack-plugin    -D</li>
</ul>
<p>12.打包图片资源</p>
<p><img src="/2021/09/02/vue/17.png"></p>
<ul>
<li>npm i url-loader file-loader -D</li>
<li>npm i html-loader -D//让html可以引用打包后的图片</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">                test:/\.(png|jpg|jpeg|gif)$/,</span><br><span class="line">                loader:&#x27;url-loader&#x27;,</span><br><span class="line">                options:&#123;</span><br><span class="line">                    publicPath:&#x27;./images&#x27;,</span><br><span class="line">                    outputPath:&#x27;images/&#x27;,</span><br><span class="line">                    limit:1024*8,</span><br><span class="line">                    name:&#x27;[name][hash:10].[ext]&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            //处理html中的图片</span><br><span class="line">            &#123;</span><br><span class="line">                test:/\.html$/,</span><br><span class="line">                loader:&#x27;html-loader&#x27;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>13.打包其他资源字体图标</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//处理其他资源</span><br><span class="line">           &#123;</span><br><span class="line">               exclude:/\.(js|json|html|css|less|scss|png|jpg|jpeg)$/,</span><br><span class="line">               loader:&#x27;file-loader&#x27;,</span><br><span class="line">               options: &#123;</span><br><span class="line">                   outputPath: &#x27;font/&#x27;,</span><br><span class="line">                   publicPath: &#x27;./font&#x27;,</span><br><span class="line">                   name:&#x27;[name][hash:8].[ext]&#x27;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>14.对js语法配置eslint进行检查</p>
<p><img src="/2021/09/02/vue/18.png"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//eslint检查js语法</span></span><br><span class="line">           &#123;</span><br><span class="line">               <span class="attr">test</span>:<span class="regexp">/\.js$/</span>,</span><br><span class="line">               <span class="comment">//只检查自己写的代码，不检查第三方库的代码</span></span><br><span class="line">               exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">               loader: <span class="string">&#x27;eslint-loader&#x27;</span>,</span><br><span class="line">               <span class="attr">options</span>: &#123;</span><br><span class="line">                   <span class="comment">//帮我们修复</span></span><br><span class="line">                   <span class="attr">fix</span>:<span class="literal">true</span></span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在自己的代码中写注释eslint-disable-next-line</p>
<h4 id="十九、配置开发服务器devServer"><a href="#十九、配置开发服务器devServer" class="headerlink" title="十九、配置开发服务器devServer"></a>十九、配置开发服务器devServer</h4><p><img src="/2021/09/02/vue/19.png"></p>
<ul>
<li>npm i webpack-dev-server -D</li>
<li>webpack serve打开编译</li>
</ul>
<p><img src="/2021/09/02/vue/20.png"></p>
<ul>
<li>npm run build(生产模式)</li>
<li>npm run dev(开发模式)</li>
</ul>
<h4 id="二十、环境的优化"><a href="#二十、环境的优化" class="headerlink" title="二十、环境的优化"></a>二十、环境的优化</h4><p><img src="/2021/09/02/vue/21.png"></p>
<p><img src="/2021/09/02/vue/22.png"></p>
<p><img src="/2021/09/02/vue/23.png"></p>
<h4 id="二十一、axios异步网络请求"><a href="#二十一、axios异步网络请求" class="headerlink" title="二十一、axios异步网络请求"></a>二十一、axios异步网络请求</h4><p>1.认识axios</p>
<ul>
<li>axios简单的理解就是ajax的封装</li>
<li>axios是一个基于promise的HTTP库</li>
<li>支持node端和浏览器端</li>
<li>使用promise管理异步，告别传统casllback方式</li>
<li>丰富的配置项，支持拦截器等高级配置</li>
<li>转换请求数据和响应数据</li>
</ul>
<p>2.为axios应用准备RestFul标准API</p>
<p><img src="/2021/09/02/vue/24.png"></p>
<p>使用接口是前后端分离</p>
<p>3.Postman的安装和基本使用</p>
<p>一款非常流行的API调试工具</p>
<p>最早是作用chrome浏览器插件存在的</p>
<p>4.promise</p>
<p>处理并发请求</p>
<p><img src="/2021/09/02/vue/25.png"></p>
<p>5.axios的入门应用</p>
<p>6.生产环境用axios</p>
<p><img src="/2021/09/02/vue/26.png"></p>
<ul>
<li>建一个文件夹</li>
<li>npm init -y</li>
<li>npm i axios -S(生产环境)</li>
<li>npm i html-webpack-plugin -D</li>
</ul>
<p><img src="/2021/09/02/vue/27.png"></p>
<p>7.axios处理并发请求</p>
<p><img src="/2021/09/02/vue/28.png"></p>
<p><img src="/2021/09/02/vue/29.png"></p>
<p><img src="/2021/09/02/vue/30.png"></p>
<p>8.axios的全局配置</p>
<p><img src="/2021/09/02/vue/31.png"></p>
<p><img src="/2021/09/02/vue/32.png"></p>
<p>9.axios的实例封装</p>
<p><img src="/2021/09/02/vue/33.png"></p>
<p><img src="/2021/09/02/vue/34.png"></p>
<p><img src="/2021/09/02/vue/35.png"></p>
<p>10.axios的拦截器</p>
<p><img src="/2021/09/02/vue/36.png"></p>
<p><img src="/2021/09/02/vue/37.png"></p>
<p><img src="/2021/09/02/vue/38.png"></p>
<h4 id="二十二、vue-cli脚手架"><a href="#二十二、vue-cli脚手架" class="headerlink" title="二十二、vue-cli脚手架"></a>二十二、vue-cli脚手架</h4><p>默认已经帮我们搭建好了一套利用Webpack管理vue的项目结构</p>
<ul>
<li>npm i -g @vue/cli   进行全局安装</li>
</ul>
<p>创建项目</p>
<ul>
<li>vue create demo1</li>
<li>安装后的目录内容<ul>
<li>package.json 是装npm 装软件的，这个版本是不确定的</li>
<li>package-lock.json这个版本是确定的，固定的</li>
</ul>
</li>
</ul>
<h4 id="二十三、在vue中使用axios请求服务器"><a href="#二十三、在vue中使用axios请求服务器" class="headerlink" title="二十三、在vue中使用axios请求服务器"></a>二十三、在vue中使用axios请求服务器</h4><p>1.封装网络请求</p>
<p>request.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>:<span class="string">&#x27;http://api.eduwork.cn/admin&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>:<span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//get请求封装</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url,params</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.get(url,&#123;</span><br><span class="line">        params</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">get().then().catch()</span><br><span class="line"></span><br><span class="line"><span class="comment">//封装post方法</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">post</span>(<span class="params">url,params</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.post(url,params,&#123;</span><br><span class="line">        <span class="comment">//转换方法</span></span><br><span class="line">        <span class="attr">transformRequest</span>:[</span><br><span class="line">            </span><br><span class="line">        ]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params">url</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> instance.delet(url)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>qs的应用：</p>
<p>npm 下载qs库：npm i qs<br>在vue项目页面或者封装的axios中引用： import Qs from ‘qs’；<br>qs主要有两种使用方法：qu.stringify()和qs.parse();<br>qu.stringify():将对象序列化成url的形式；以&amp;进行拼接<br>qs.parse():将url解析成对象形式；</p>
<h4 id="二十四、Vuex"><a href="#二十四、Vuex" class="headerlink" title="二十四、Vuex"></a>二十四、Vuex</h4><h5 id="1-Vuex概念和作用解析"><a href="#1-Vuex概念和作用解析" class="headerlink" title="1.Vuex概念和作用解析"></a>1.Vuex概念和作用解析</h5><p>（1）官方解释：Vuex是一个专为Vue.js应用程序开发的<strong>状态管理模式</strong></p>
<ul>
<li>它采用<strong>集中式存储管理</strong>应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化</li>
<li>Vuex也集成到Vue的官方调试工具devtools extension，提供了诸如零配置的time-travel调试、状态块照导入导出等高级调试功能</li>
</ul>
<p>（2）这里所说的状态指的是vue组件中data里面的属性</p>
<p>（3）管理什么状态：</p>
<ul>
<li>在多个界面间的共享问题</li>
<li>比如用户的登录状态、用户名称、头像、地理位置信息</li>
<li>比如商品的收藏、购物车中的物品等等</li>
<li>这些状态信息，我们都可以放在统一的地方，对它进行保存和管理，而且它们还是响应式</li>
</ul>
<h5 id="2-单界面到多界面状态管理切换"><a href="#2-单界面到多界面状态管理切换" class="headerlink" title="2.单界面到多界面状态管理切换"></a>2.单界面到多界面状态管理切换</h5><p>（1）单界面状态管理</p>
<p>用脚手架搭建的中间生成的App.vue中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;counter++&quot;&gt;+&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;counter--&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default&#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        data()&#123;</span><br><span class="line">            return&#123;</span><br><span class="line">                message:&#x27;我是App.vue&#x27;,</span><br><span class="line">                counter:0</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/6.png"></p>
<p>通过上面的代码解释上面的图：</p>
<ul>
<li>State:相当于counter</li>
<li>View:counter在页面显示</li>
<li>Actions:用户点击操作改变counter，所以箭头又指到State</li>
</ul>
<p>（2）多界面状态管理</p>
<p>以下是官方的图：</p>
<p><img src="/2021/09/02/vue/44.png"></p>
<p>vuex中index.js，对vuex的创建和引用过程。我们一般将vuex的文件夹命名为store</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//1.安装插件</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"><span class="comment">//2.创建对象</span></span><br><span class="line"><span class="keyword">const</span> store=<span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">counter</span>:<span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">actions</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">getters</span>:&#123;&#125;,</span><br><span class="line">    <span class="attr">modules</span>:&#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//3.导出store对象</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>然后在main.js中引用</p>
<p>如果要在组件引用数据就写成</p>
<h5 id="3-devtools和mutations"><a href="#3-devtools和mutations" class="headerlink" title="3.devtools和mutations"></a>3.devtools和mutations</h5><p>devtools在扩展程序中下载</p>
<p>mutations:</p>
<p>用来修改state的数据</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mutations:&#123;</span><br><span class="line">    <span class="comment">//方法</span></span><br><span class="line">    <span class="function"><span class="title">increment</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">        state.counter++</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">decrement</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">		state.counter--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在组件中使用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;increment1&quot;&gt;+&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;decrement1&quot;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default&#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        computed:&#123;</span><br><span class="line">          count()&#123;</span><br><span class="line">              return this.$store.state.count</span><br><span class="line">          &#125;  </span><br><span class="line">        &#125;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            increment1()&#123;</span><br><span class="line">                this.$store.commit(&#x27;increment&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            decrement1()&#123;</span><br><span class="line">                this.$store.commit(&#x27;decrement&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>步骤</strong>：</p>
<ul>
<li>提取出一个公共的store对象，用于保存在多个组件中共享的状态</li>
<li>将store对象放置在new Vue对象中，这样可以保证在所有的组件中都可以使用到</li>
<li>在其他组件中使用store对象中保存的状态即可<ul>
<li>通过this.$store.state.属性的方式来访问状态</li>
<li>通过this.$store.commit(‘mutation中方法’)来修改状态</li>
</ul>
</li>
</ul>
<p><strong>注意事项</strong>：</p>
<ul>
<li>我们通过提交mutation的方式，而非直接改变store.state.count</li>
<li>因为Vuex可以更明确地追踪状态的变化，所以不要直接改变store.state.count的值</li>
</ul>
<h5 id="4-state单一状态树的理解"><a href="#4-state单一状态树的理解" class="headerlink" title="4.state单一状态树的理解"></a>4.state单一状态树的理解</h5><p>（1）什么是单一状态树？</p>
<ul>
<li>单一数据源</li>
<li>在项目里只建立一个store</li>
</ul>
<p>（2）这个和我们在应用开发中比较类似：</p>
<ul>
<li>如果你的状态信息是保存到多个Store对象中，那么之后的管理和维护都会变得困难</li>
<li>所以Vuex也使用了单一状态树来管理应用层级的全部状态</li>
<li>单一状态树能够让我们最直接的方式找到某个状态的片段，而且在之后的维护和调试过程中，也可以非常方便的管理和维护</li>
</ul>
<h5 id="5-getters的使用详解"><a href="#5-getters的使用详解" class="headerlink" title="5.getters的使用详解"></a>5.getters的使用详解</h5><p>类似于单个组件中的计算属性computed，当数据需要经过一系列的变化，就需要</p>
<p>（1）getters的基本使用</p>
<p>需求1：需要在多个页面上显示counter的平方</p>
<p>此时，需要在index.js页面中的getters中写上方法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getters:&#123;</span><br><span class="line">    <span class="function"><span class="title">powerCounter</span>(<span class="params">state</span>)</span>&#123;<span class="comment">//state是默认参数</span></span><br><span class="line">        <span class="keyword">return</span> state.counter*state.counter</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在App.vue中的模板中写上</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h2&gt;</span><br><span class="line">        &#123;&#123;$store.getters.powerCounter&#125;&#125;</span><br><span class="line">    &lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>需求2：现在有学生若干，需要将他们那些年龄大于20 的打印出来;并且打印个数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store=<span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">counter</span>:<span class="number">0</span>,</span><br><span class="line">        <span class="attr">students</span>:[</span><br><span class="line">            &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;json&#x27;</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;jerry&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&#x27;karry&#x27;</span>,<span class="attr">age</span>:<span class="number">30</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>:&#123;</span><br><span class="line">        <span class="comment">//获取大于20的学生</span></span><br><span class="line">        <span class="function"><span class="title">moreTwentyStu</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> state.student.filter(<span class="function"><span class="params">s</span>=&gt;</span>s.age&gt;<span class="number">20</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//获取个数</span></span><br><span class="line">        <span class="function"><span class="title">moreTwentyStuLength</span>(<span class="params">state,getters</span>)</span>&#123;<span class="comment">//第二个参数getters</span></span><br><span class="line">            <span class="keyword">return</span> getters.moreTwentyStu.length</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//现在是年龄不知道，动态传参的</span></span><br><span class="line">        <span class="function"><span class="title">moreAgeStu</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//return function(age)&#123;</span></span><br><span class="line">              <span class="comment">//  return state.students.filter(s=&gt;s.age&gt;age)</span></span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">            <span class="keyword">return</span> <span class="function"><span class="params">age</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span>=&gt;</span>s.age&gt;age)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在App.vue中引用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;h2&gt;</span><br><span class="line">        &#123;&#123;$store.getters.moreTwentyStu&#125;&#125;</span><br><span class="line">        &#123;&#123;$store.getters.moreTwentyStuLength&#125;&#125;</span><br><span class="line">        &#123;&#123;$store.getters.moreAgeStu(10)&#125;&#125;</span><br><span class="line">    &lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="6-mutations的携带参数"><a href="#6-mutations的携带参数" class="headerlink" title="6.mutations的携带参数"></a>6.mutations的携带参数</h5><p>（1）mutation状态更新</p>
<ul>
<li><p>Vuex的store状态的更新唯一方式：提交Mutation</p>
</li>
<li><p>Mutation主要包括两部分：</p>
<ul>
<li>字符串的事件类型(type)</li>
<li>一个回调函数，该回调函数的第一个参数是state</li>
</ul>
</li>
<li><p>mutations的定义方式：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mutations:&#123;</span><br><span class="line">    <span class="comment">//方法</span></span><br><span class="line">    <span class="function"><span class="title">increment</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">        state.counter++</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>通过mutation更新</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">            <span class="function"><span class="title">increment1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="built_in">this</span>.$store.commit(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（2）mustation传递参数</p>
<ul>
<li>通过mutation更新数据的时候，有可能我们希望携带一些额外的参数<ul>
<li>参数被称为是mutation的载荷（Payload）</li>
</ul>
</li>
<li>但是如果参数不是一个的时候<ul>
<li>比如我们有很多参数需要传递</li>
<li>这个时候，我们通常会以对象的形式传递，也就是payload是一个对象</li>
<li>这个时候可以再从对象中取出相关的信息</li>
</ul>
</li>
</ul>
<p>代码如下：</p>
<p>需求1：当我们需要在点击按钮的时候，每次加的数字大小是我们传进去的</p>
<p>需求2：提交一个学生的信息</p>
<p>在App.vue中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;addCount(5)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;addStu&quot;&gt;添加学生&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default&#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">           addCount(count)&#123;</span><br><span class="line">               this.$store.commit(&#x27;incrementCount&#x27;,count)</span><br><span class="line">           &#125;,</span><br><span class="line">            addStu()&#123;</span><br><span class="line">                const stu=&#123;id:4,name:&#x27;kang&#x27;,age:25&#125;</span><br><span class="line">                this.$store.commit(&#x27;addStudent&#x27;,stu)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">mutatios:&#123;</span><br><span class="line">    <span class="function"><span class="title">incrementCount</span>(<span class="params">state,count</span>)</span>&#123;</span><br><span class="line">        state.counter+=count</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">addStudent</span>(<span class="params">state,stu</span>)</span>&#123;</span><br><span class="line">        state.students.push(stu)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="7-mutations的提交风格"><a href="#7-mutations的提交风格" class="headerlink" title="7.mutations的提交风格"></a>7.mutations的提交风格</h5><p>（1）普通的提交风格（上述提到的）</p>
<p>（2）特殊的提交封装</p>
<p>在methods方法中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">addCount</span>(<span class="params">count</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.$store.commit(&#123;</span><br><span class="line">    	<span class="attr">type</span>:<span class="string">&#x27;incrementCount&#x27;</span>,</span><br><span class="line">        count</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在mutation方法中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">incrementCount</span>(<span class="params">state,payload</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//因为在这边count会变成一个对象，所以需要用payload.count方式获取</span></span><br><span class="line">   state.counter+=payload.count</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="8-数据的响应式原理"><a href="#8-数据的响应式原理" class="headerlink" title="8.数据的响应式原理"></a>8.数据的响应式原理</h5><p>Dep-&gt;[Watcher]跟踪数据变化</p>
<ul>
<li>Vuex的store中的state是响应式的，当state中的数据发生改变时，Vue组件会自动更新</li>
<li>这就要求我们必须遵守一些Vuex对应的规则<ul>
<li>提前在store中初始化好所需的属性</li>
<li>当给state中的对象添加新属性时，使用下面的方式：<ul>
<li>方式一：使用Vuex.set(obj,’newProp’,123)</li>
<li>方式二：用新对象给旧对象重新赋值</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">updateInfo</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">    Vue.set(state.info,<span class="string">&#x27;address&#x27;</span>,<span class="string">&#x27;洛杉矶&#x27;</span>)</span><br><span class="line">    Vue.delete(state.info,<span class="string">&#x27;age&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="9-mutations的类型常量"><a href="#9-mutations的类型常量" class="headerlink" title="9.mutations的类型常量"></a>9.mutations的类型常量</h5><p>（1）在store文件夹新建一个mutation-types.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> UPDATE_INFO=<span class="string">&#x27;updateInfo&#x27;</span></span><br></pre></td></tr></table></figure>

<p>（2）在store文件夹下面的index.js中引用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> types <span class="keyword">from</span> <span class="string">&#x27;./mutation-types&#x27;</span></span><br><span class="line"><span class="attr">mutations</span>:&#123;</span><br><span class="line">    [types.UPDATE_INFO](state,payload)&#123;</span><br><span class="line">        state.info(...state.info,<span class="string">&#x27;height&#x27;</span>:payload.height)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（3）在App.vue中引用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import &#123;UPDATE_INFO&#125; from &quot;./store/mutation-types&quot;;</span><br><span class="line"></span><br><span class="line">methods:&#123;</span><br><span class="line">	updateInfo()&#123;</span><br><span class="line">		this.$store.commit(UPDATE_INFO,&#123;height:1.88&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="10-mutation同步函数"><a href="#10-mutation同步函数" class="headerlink" title="10.mutation同步函数"></a>10.mutation同步函数</h5><p>通常情况下，Vuex要求我们mutations中的方法必须是同步方法</p>
<ul>
<li>主要原因是当我们使用devtools时，devtools可以帮助我们捕捉mutation的快照</li>
<li>但如果是异步操作，那么devtools将不能很好的追踪这个操作什么时候会被完成</li>
</ul>
<h5 id="11-actions的使用详解"><a href="#11-actions的使用详解" class="headerlink" title="11.actions的使用详解"></a>11.actions的使用详解</h5><p>axtion类似于mutation，但是是用来代替mutation进行异步操作的</p>
<p>现在有一个按钮，点击修改信息（App.vue）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;updateInfo&quot;&gt;修改信息&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default&#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        methods:&#123;</span><br><span class="line">            updateInfo()&#123;</span><br><span class="line">                this.$store</span><br><span class="line">                    .dispatch(&#x27;aUpdateInfo&#x27;)//转发到action中</span><br><span class="line">                	.then(res=&gt;&#123;</span><br><span class="line">                    	console.log(&#x27;里面完成了提交&#x27;);</span><br><span class="line">                  		console.log(res)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>在actions中的代码写法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">actions:&#123;</span><br><span class="line">    <span class="comment">//context:上下文</span></span><br><span class="line">    <span class="function"><span class="title">aUpdateInfo</span>(<span class="params">context,payload</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            	context.commit(<span class="string">&#x27;updateInfo&#x27;</span>)<span class="comment">//这是提交到mutations当中</span></span><br><span class="line">                <span class="built_in">console</span>.log(payload)</span><br><span class="line">                resolve(<span class="string">&#x27;1111&#x27;</span>)</span><br><span class="line">        	&#125;,<span class="number">1000</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="12-modules的使用详解"><a href="#12-modules的使用详解" class="headerlink" title="12.modules的使用详解"></a>12.modules的使用详解</h5><p>Vuex允许我们将store分割成模块（Module），而每个模块拥有自己的state、mutation、action、getters等</p>
<p>组织代码的方式：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA=&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;...&#125;,</span><br><span class="line">   	<span class="attr">mutations</span>:&#123;...&#125;,</span><br><span class="line">    <span class="attr">actions</span>:&#123;...&#125;,</span><br><span class="line">    <span class="attr">getters</span>:&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> moduleB=&#123;</span><br><span class="line">    <span class="attr">state</span>:&#123;...&#125;,</span><br><span class="line">   	<span class="attr">mutations</span>:&#123;...&#125;,</span><br><span class="line">    <span class="attr">actions</span>:&#123;...&#125;,</span><br><span class="line">    <span class="attr">getters</span>:&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> store=<span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="attr">modules</span>:&#123;</span><br><span class="line">       <span class="attr">a</span>:moduleA,</span><br><span class="line">       <span class="attr">b</span>:moduleB</span><br><span class="line">  &#125;         </span><br><span class="line">&#125;)       </span><br><span class="line"></span><br><span class="line">store.state.a<span class="comment">//moduleA的状态</span></span><br><span class="line">store.state.b<span class="comment">//moduleB的状态               </span></span><br><span class="line">               </span><br></pre></td></tr></table></figure>

<p>怎么在页面拿到模块里面的state的属性呢？</p>
<p>mutation的话是一样的，但是记得名字千万不能一样</p>
<p>getters的话，在页面调用的时候也是一样的，但是getters里面的代码有一点不一样</p>
<p>代码如下</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">getters:&#123;</span><br><span class="line">    <span class="function"><span class="title">fullname</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> state.name+<span class="string">&#x27;11111&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">fullname2</span>(<span class="params">state,getters</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getters.fullname+<span class="string">&quot;22222&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//接下来就是不一样的地方，他可以传入第三个参数，而这个就是根状态    </span></span><br><span class="line">    <span class="function"><span class="title">fullname3</span>(<span class="params">state,getters,rootState</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getters.fullname2+rooState.counter</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>action的话基本是一样的，但是他可以获取rootGetters和rooState，通过context.rootGetters</p>
<h5 id="13-store文件夹的目录组织"><a href="#13-store文件夹的目录组织" class="headerlink" title="13.store文件夹的目录组织"></a>13.store文件夹的目录组织</h5><p><img src="/2021/09/02/vue/45.png"></p>
<h4 id="二十五、vue-router"><a href="#二十五、vue-router" class="headerlink" title="二十五、vue-router"></a>二十五、vue-router</h4><h5 id="1-前端渲染、后端渲染、前端路由、后端路由"><a href="#1-前端渲染、后端渲染、前端路由、后端路由" class="headerlink" title="1.前端渲染、后端渲染、前端路由、后端路由"></a>1.前端渲染、后端渲染、前端路由、后端路由</h5><p>（1）后端渲染</p>
<p>jsp:java server page</p>
<p>（2）后端路由</p>
<p>后端处理URL和页面之间的映射关系</p>
<p>当我们页面中需要请求不同的路径内容时，交给服务器来进行处理，服务器渲染好整个页面，并且将页面返回给客户端，这种情况下渲染好的页面，不需要单独加载任何的js和css，可以直接交给浏览器展示，这样也有利于SEO的优化</p>
<ul>
<li>早期的网站开发整个HTML页面是由服务器来渲染的<ul>
<li>服务器直接生产渲染好对应的HTML页面，返回给客户端进行展示</li>
</ul>
</li>
<li>一个网站，这么多页面服务器处理方式<ul>
<li>一个页面有自己对应的网址，也就是URL</li>
<li>URL会发送到服务器，服务器会通过正则对该URL进行匹配，并且最后交给一个Controller进行处理</li>
<li>Controller进行各种处理，最终生成HTML或者数据，返回给前端</li>
<li>这就完成了一个IO操作</li>
</ul>
</li>
</ul>
<p>（3）前后端分离</p>
<p>后端只负责提供数据，不负责任何阶段的内容</p>
<p>（4）前端路由阶段</p>
<ul>
<li>前后端分离阶段</li>
<li>单页面富应用阶段（SPA）<ul>
<li>其实SPA最主要的特点就是在前后端分离的基础上加了一层前端路由</li>
</ul>
</li>
<li>前端路由的核心是什么？<ul>
<li>改变URL，但是页面不进行整体的刷新</li>
</ul>
</li>
</ul>
<h5 id="2-url的hash和HTML5的history"><a href="#2-url的hash和HTML5的history" class="headerlink" title="2.url的hash和HTML5的history"></a>2.url的hash和HTML5的history</h5><p>（1）url的hash</p>
<ul>
<li>url的hash也就是锚点（#），本质上是改变window.location的href属性</li>
<li>我们可以通过直接赋值location.hash来改变href，但是页面不发生刷新</li>
</ul>
<p>（2）HTML的history模式</p>
<p>可以返回</p>
<ul>
<li>history.pushState({},’’,home)入栈</li>
<li>history.back()出栈</li>
<li>history.replaceState({},’’,home)返回按钮不可点击</li>
<li>history.go(-1)=history.back()弹出一个，返回栈顶，正数是压栈</li>
<li>history.forward=history.go(1)</li>
</ul>
<p>history.go(),history.back(),history.forward()这三个接口等同于浏览器界面的前进后退</p>
<h5 id="3-vue-router安装和配置方式"><a href="#3-vue-router安装和配置方式" class="headerlink" title="3.vue-router安装和配置方式"></a>3.vue-router安装和配置方式</h5><p>（1）vue-router是基于路由和组件的</p>
<ul>
<li>路由用于设定访问路径，将路径和组件映射起来</li>
<li>在vue-router的单页面应用中，页面的路径的改变就是组件的切换</li>
</ul>
<p>（2）安装和使用vue-router</p>
<ul>
<li>步骤一：安装vue-router<ul>
<li>npm install vue-router –save</li>
</ul>
</li>
<li>步骤二：在模块化工程中使用它（因为是一个插件，所以可以通过Vue.use()来安装路由功能）<ul>
<li>导入路由对象，并且调用Vue.use(VueRouter)</li>
<li>创建路由实例，并且传入路由映射配置</li>
<li>在Vue实例中挂在创建的路由实例</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//在router文件夹下的index.js中</span></span><br><span class="line"><span class="comment">//配置路由相关的信息</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.通过Vue.use(插件)，安装插件</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.创建VueRouter对象</span></span><br><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">    </span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    <span class="comment">//配置路由和组件之间的应用关系</span></span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.将router对象传入到Vue实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<p>在main.js中配置router</p>
<p>（3）使用vue-router的步骤</p>
<ul>
<li>第一步：创建路由组件</li>
<li>第二步：配置路由映射-&gt;组件和路径映射关系</li>
<li>第三步：使用路由-&gt;通过<router-link>和<router-view></router-view></router-link></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line"><span class="comment">//2.创建VueRouter对象</span></span><br><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:Home</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:About</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>在App.vue中引用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;router-link to=&quot;/home&quot;&gt;首页&lt;/router-link&gt;</span><br><span class="line">        &lt;router-link to=&quot;/about&quot;&gt;关于&lt;/router-link&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><router-link>：该标签是一个vue-router中已经内置的组件，它会被渲染成一个<a>标签</a></router-link></li>
<li><router-view>:该标签会根据当前的路径，动态渲染出不同的组件</router-view></li>
<li>网页的其他内容，比如顶部的标题/导航，或者底部的一些版权信息等会和<router-view>处于同一个等级</router-view></li>
<li>在路由切换时，切换的是<router-view>挂载的组件，其他内容不会发生改变</router-view></li>
</ul>
<h5 id="4-路由的默认值和修改为history模式"><a href="#4-路由的默认值和修改为history模式" class="headerlink" title="4.路由的默认值和修改为history模式"></a>4.路由的默认值和修改为history模式</h5><p>（1）路由的默认路径</p>
<p>怎么可以让路径默认跳到首页，并且<router-view>渲染首页组件</router-view></p>
<p>配置如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">redirect</span>:<span class="string">&#x27;/home&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<ul>
<li>我们在routes中又配置了一个映射</li>
<li>path配置的是根路径：/</li>
<li>redirect是重定向，也就是我们将根路径重定向到/home的路径下</li>
</ul>
<p>（2）修改为history模式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes,</span><br><span class="line">    <span class="attr">mode</span>:<span class="string">&#x27;history&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="5-router-link的其他属性补充"><a href="#5-router-link的其他属性补充" class="headerlink" title="5.router-link的其他属性补充"></a>5.router-link的其他属性补充</h5><ul>
<li>tag:tag可以指定<router-link>之后渲染成什么组件，例如</router-link></li>
</ul>
<p>会被渲染成一个<li>元素，而不是<a></a></li></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-link to=&#x27;/home&#x27; tag=&#x27;li&#x27;&gt;&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>replace:replace不会留下history记录，所以指定replace的情况下，后退键返回不能返回到上一个页面中</li>
<li>active-class:当<router-link>对应的路由匹配成功时，会自动给当前元素设置一个router-link-active的class，设置linkActiveClass可以修改默认的名称</router-link></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> VueRouter&#123;</span><br><span class="line">    routes,</span><br><span class="line">    <span class="attr">mode</span>:<span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">    <span class="attr">linkActiveClass</span>:<span class="string">&#x27;active&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>exact-active-class<ul>
<li>类似于active-class，只是在精准匹配下才会出现的class</li>
<li>在嵌套路由中出现</li>
</ul>
</li>
</ul>
<h5 id="6-通过代码跳转路由"><a href="#6-通过代码跳转路由" class="headerlink" title="6.通过代码跳转路由"></a>6.通过代码跳转路由</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;nav&quot;&gt;</span><br><span class="line">      &lt;!-- &lt;router-link to=&quot;/&quot;&gt;Home&lt;/router-link&gt; |</span><br><span class="line">      &lt;router-link to=&quot;/about&quot;&gt;About&lt;/router-link&gt; --&gt;</span><br><span class="line">      &lt;button @click=&quot;homeClick&quot;&gt;首页&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;aboutClick&quot;&gt;关于&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;router-view/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">  name:&#x27;App&#x27;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    homeClick()&#123;</span><br><span class="line">      //通过代码的方式修改路由vue-router</span><br><span class="line">      // this.$router.push(&#x27;/home&#x27;)</span><br><span class="line">      this.$router.replace(&#x27;/home&#x27;)</span><br><span class="line">      console.log(&#x27;homeClick&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    aboutClick()&#123;</span><br><span class="line">      // this.$router.push(&#x27;/about&#x27;)</span><br><span class="line">      this.$router.replace(&#x27;/about&#x27;)</span><br><span class="line">      console.log(&#x27;aboutClick&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="7-动态路由的使用"><a href="#7-动态路由的使用" class="headerlink" title="7.动态路由的使用"></a>7.动态路由的使用</h5><p>在前面的/user之外，后面还跟上了用户的ID</p>
<p>例子：</p>
<p>在App.vue中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#x27;/user/&#x27;+userId&quot;&gt;User&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">    	userId:&#x27;zhangsan&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在index.js中配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>:<span class="string">&#x27;/user/:userId&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&#x27;User&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>:User</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在User.vue中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;用户界面&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;&#123;&#123;userId&#125;&#125;&lt;/h2&gt;//zhangsan </span><br><span class="line">      &lt;h2&gt;&#123;&#123;$route.params.userId&#125;&#125;&lt;/h2&gt;//zhangsan</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;User&#x27;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">        userId()&#123;</span><br><span class="line">            return this.$route.params.userId</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="8-路由的懒加载"><a href="#8-路由的懒加载" class="headerlink" title="8.路由的懒加载"></a>8.路由的懒加载</h5><ul>
<li>当打包构建应用时,Javascript包会变得非常大，影响页面加载</li>
<li>把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件</li>
<li>路由中通常会定义很多不同的页面，一般情况下，是放在一个js文件中，但是页面这么多放在一个js文件中，必然会造成这个页面非常大，如果我们一次性从服务器请求下来这个页面，可能需要花费一定的时间，甚至用户的电脑上还出现了短暂空白的情况</li>
</ul>
<p>（1）路由懒加载做了什么</p>
<ul>
<li>路由懒加载的主要作用就是将路由对应的组件打包成一个个的js代码块</li>
<li>只有在这个路由被访问到的时候，才加载对应的组件</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">    &#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">		<span class="attr">component</span>:<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;../views/Home&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h5 id="9-嵌套路由"><a href="#9-嵌套路由" class="headerlink" title="9.嵌套路由"></a>9.嵌套路由</h5><p>（1）比如在home页面中，希望通过/home/news和/home/message访问一些内容</p>
<p>（2）一个路径映射一个组件，访问这两个路径也会分别渲染两个组件</p>
<p>（3）实现嵌套路由有两个步骤：</p>
<ul>
<li>创建对应的子组件，并且在路由映射中配置对应的子路由</li>
<li>在组件内部使用<router-view>标签</router-view></li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: Home,</span><br><span class="line">    <span class="attr">children</span>:[</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">redirect</span>:<span class="string">&#x27;news&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;../views/HomeNews.vue&#x27;</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;../views/HomeMessage.vue&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;home&quot;&gt;</span><br><span class="line">    &lt;h2&gt;我是首页&lt;/h2&gt;</span><br><span class="line">    &lt;router-link to=&quot;/home/news&quot;&gt;新闻&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/home/message&quot;&gt;消息&lt;/router-link&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="10-参数传递"><a href="#10-参数传递" class="headerlink" title="10.参数传递"></a>10.参数传递</h5><p>传递参数主要有两种类型：params和query</p>
<ul>
<li>params的类型：<ul>
<li>配置路由格式：/router/:id</li>
<li>传递的方式：在path后面跟上对应的值</li>
<li>传递后形成的路径：/router/123,/router/abc</li>
</ul>
</li>
<li>query的类型：<ul>
<li>配置路由格式：/router，也就是普通配置</li>
<li>传递的方式：对象中使用query的key作为传递方式</li>
<li>传递后形成的路径：/router?id=123,/router?id=abc</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#123;path:&#x27;/profile&#x27;,query:&#123;name:&#x27;manman&#x27;,age:18&#125;&#125;&quot;&gt;档案&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;button @click=&quot;userClick&quot;&gt;用户&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;profileClick&quot;&gt;档案&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">userClick()&#123;</span><br><span class="line">	this.$router.push(&#x27;/user/&#x27;+this.userId)</span><br><span class="line">&#125;,</span><br><span class="line">profileClick()&#123;</span><br><span class="line">	this.$router.push(&#123;</span><br><span class="line">		path:&#x27;/profile&#x27;,</span><br><span class="line">		query:&#123;</span><br><span class="line">			name:&#x27;he&#x27;,</span><br><span class="line">			age:18</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="二十六、vue中的动画特效"><a href="#二十六、vue中的动画特效" class="headerlink" title="二十六、vue中的动画特效"></a>二十六、vue中的动画特效</h4><h5 id="1-Vue中的动画原理"><a href="#1-Vue中的动画原理" class="headerlink" title="1.Vue中的动画原理"></a>1.Vue中的动画原理</h5><p>(1)显示的时候的图表解释</p>
<p><img src="/2021/09/02/vue/46.png"></p>
<p>(2)隐藏的时候的图表解释</p>
<p><img src="/2021/09/02/vue/47.png"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue动画原理<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="comment">/*进入的时候，也就还没有点击的时候的状态*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-class">.v-enter</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/*点击按钮触发显示动画效果*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-class">.v-enter-active</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>:opacity <span class="number">3s</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/*离开最终的效果*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-class">.v-leave-to</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">opacity</span>:<span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="comment">/*点击按钮，触发隐藏的效果*/</span></span></span><br><span class="line"><span class="css">        <span class="selector-class">.v-leave-active</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>:opacity <span class="number">3s</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--可以给transition起个名字name:&#x27;fade&#x27;然后类名就要换成.fade-enter等--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;show&quot;</span> &gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> app=<span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">            <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="javascript">            <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="attr">message</span>:<span class="string">&#x27;hello world&#x27;</span>,</span></span><br><span class="line"><span class="javascript">                <span class="attr">show</span>:<span class="literal">false</span></span></span><br><span class="line"><span class="javascript">            &#125;,</span></span><br><span class="line"><span class="javascript">            <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">handleClick</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="built_in">this</span>.show=!<span class="built_in">this</span>.show</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;)</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="2-在Vue中使用animate-css库"><a href="#2-在Vue中使用animate-css库" class="headerlink" title="2.在Vue中使用animate.css库"></a>2.在Vue中使用animate.css库</h5><p>官网：<a href="https://animate.style/">https://animate.style/</a></p>
<p>使用animate.css库有两个注意点：</p>
<ul>
<li>必须是自己重新命名的类，而且里面一定要有animated</li>
<li>根据自己的需要在后面加上效果</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">enter-active-class</span>=<span class="string">&quot;animated swing&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">leave-active-class</span>=<span class="string">&quot;animated shake&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;show&quot;</span>&gt;</span></span><br><span class="line">        hello world</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-在Vue中同时使用过渡和动画"><a href="#3-在Vue中同时使用过渡和动画" class="headerlink" title="3.在Vue中同时使用过渡和动画"></a>3.在Vue中同时使用过渡和动画</h5><p>动画时长的问题：</p>
<ul>
<li><p>animate库是设置为1s</p>
</li>
<li><p>可以加个type=”transition”作为总的动画时长</p>
</li>
<li><p>也可以自定义动画播放的时长</p>
<ul>
<li>:duration=”1000”</li>
<li>:duration=“{enter:100,leave:200}”</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--第一次内容显示有动画用appear解决--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">appear</span> <span class="attr">appear-active-class</span>=<span class="string">&quot;animated swing&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;show&quot;</span>&gt;</span></span><br><span class="line">        hello</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--两种动画结合--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">enter-active-class</span>=<span class="string">&quot;animated swing fade-enter-active&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">&quot;show&quot;</span>&gt;</span></span><br><span class="line">        hello</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h3><h4 id="一、Vue3带来了什么"><a href="#一、Vue3带来了什么" class="headerlink" title="一、Vue3带来了什么"></a>一、Vue3带来了什么</h4><h5 id="1-性能的提升"><a href="#1-性能的提升" class="headerlink" title="1.性能的提升"></a>1.性能的提升</h5><ul>
<li><p>打包大小减少41%</p>
</li>
<li><p>初次渲染快55%，更新渲染块133%</p>
</li>
<li><p>内存减少54%</p>
<p>……</p>
</li>
</ul>
<h5 id="2-源码的升级"><a href="#2-源码的升级" class="headerlink" title="2.源码的升级"></a>2.源码的升级</h5><ul>
<li><p>使用Proxy代替defineProperty实现响应式</p>
</li>
<li><p>重写虚拟DOM的实现和Tree-Shaking</p>
<p>……</p>
</li>
</ul>
<h5 id="3-拥抱TypeScript"><a href="#3-拥抱TypeScript" class="headerlink" title="3.拥抱TypeScript"></a>3.拥抱TypeScript</h5><ul>
<li>Vue3可以更好的支持TypeScript</li>
</ul>
<h5 id="4-新的特性"><a href="#4-新的特性" class="headerlink" title="4.新的特性"></a>4.新的特性</h5><p>（1）Composition API(组合API)</p>
<ul>
<li><p>setup配置</p>
</li>
<li><p>ref与reactive</p>
</li>
<li><p>watch与watchEffect</p>
</li>
<li><p>provide与inject</p>
<p>……</p>
</li>
</ul>
<p>（2）新的内置组件</p>
<ul>
<li>Fragment</li>
<li>Teleport</li>
<li>Suspense</li>
</ul>
<p>（3）其它改变</p>
<ul>
<li><p>新的声明中周期钩子</p>
</li>
<li><p>data选项应始终被声明为一个函数</p>
</li>
<li><p>移除keyCode支持作为v-on的修饰符</p>
<p>……</p>
</li>
</ul>
<h4 id="二、使用vue-cli创建工程"><a href="#二、使用vue-cli创建工程" class="headerlink" title="二、使用vue-cli创建工程"></a>二、使用vue-cli创建工程</h4><ul>
<li>确保vue-cli在4.5以上</li>
<li>npm run serve</li>
</ul>
<h4 id="三、使用vite创建工程"><a href="#三、使用vite创建工程" class="headerlink" title="三、使用vite创建工程"></a>三、使用vite创建工程</h4><ul>
<li><p>vite</p>
<ul>
<li>新一代的前端构建工具</li>
<li>优势如下：<ul>
<li>开发环境中，无需打包操作，可快速的冷启动</li>
<li>轻量快速的热重载（HMR）</li>
<li>真正的按需编译，不再等待整个应用编译完成</li>
</ul>
</li>
<li>一上来就准备好了server</li>
</ul>
</li>
<li><p>npm init vite-app <project-name></project-name></p>
<p>cd <project-name></project-name></p>
<p>npm run dev</p>
</li>
</ul>
<h4 id="四、分析工程结构"><a href="#四、分析工程结构" class="headerlink" title="四、分析工程结构"></a>四、分析工程结构</h4><h5 id="1-main-js入口文件"><a href="#1-main-js入口文件" class="headerlink" title="1.main.js入口文件"></a>1.main.js入口文件</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入的不再是Vue构造函数了，引入的是一个名为createApp的工厂函数</span></span><br><span class="line"><span class="keyword">import</span> &#123;createApp&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建应用实例对象——app(类似于之前Vue2中的vm，但app比vm更‘轻’)</span></span><br><span class="line"><span class="keyword">const</span> app=createApp(app)</span><br><span class="line"><span class="comment">//挂载</span></span><br><span class="line">app.mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="2-在App-vue中"><a href="#2-在App-vue中" class="headerlink" title="2.在App.vue中"></a>2.在App.vue中</h5><p>在template中可以不用加div将东西包裹起来</p>
<h4 id="五、常用Composition-API"><a href="#五、常用Composition-API" class="headerlink" title="五、常用Composition API"></a>五、常用Composition API</h4><h5 id="1-初识setup"><a href="#1-初识setup" class="headerlink" title="1.初识setup"></a>1.初识setup</h5><ul>
<li>Vue3.0中一个新的配置项，值为一个函数</li>
<li>setup是所有Composition API(组合API)“表演舞台”</li>
<li>组件中所用到的：数据、方法等等，均要配置在setup中</li>
<li>setup函数的两种返回值：<ul>
<li>若返回一个对象，则对象中的属性、方法，在模板中均可以直接使用</li>
<li>若返回一个渲染函数：则可以自定义渲染内容</li>
</ul>
</li>
<li>注意点：<ul>
<li>尽量不要与Vue2.x配置混用<ul>
<li>Vue2.x配置（data、methods、computed…）中可以访问到setup中的属性、方法</li>
<li>但在setup中不能访问到Vue2.x配置（data、methods、computed…）</li>
<li>如果有重名，setup优先</li>
</ul>
</li>
<li>setup不能是一个async函数，因为返回值不再是return的对象，而是promise，模板看不到return对象中的属性</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;	</span><br><span class="line">    &lt;h1&gt;</span><br><span class="line">    一个人的信息  </span><br><span class="line">    &lt;/h1&gt;</span><br><span class="line">	&lt;h2&gt;</span><br><span class="line">        姓名：&#123;&#123;name&#125;&#125;</span><br><span class="line">    &lt;/h2&gt;</span><br><span class="line">	&lt;h2&gt;</span><br><span class="line">        年龄：&#123;&#123;age&#125;&#125;</span><br><span class="line">    &lt;/h2&gt;</span><br><span class="line">	&lt;button @click=&quot;sayHello&quot;&gt;</span><br><span class="line">       说话</span><br><span class="line">    &lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        setup()&#123;</span><br><span class="line">            //数据</span><br><span class="line">            let name=&#x27;张三&#x27;</span><br><span class="line">            let age=18</span><br><span class="line">            //方法</span><br><span class="line">            function sayHello()&#123;</span><br><span class="line">                alert(`我叫$&#123;name&#125;，我$&#123;age&#125;岁了`)</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            return&#123;</span><br><span class="line">                name,</span><br><span class="line">                age,</span><br><span class="line">                sayHello</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="2-ref函数"><a href="#2-ref函数" class="headerlink" title="2.ref函数"></a>2.ref函数</h5><p>作用：定义一个响应式的数据</p>
<p>语法：const xxx=ref(initValue)</p>
<ul>
<li>创建一个包含响应式数据的<strong>引用对象（reference对象，简称ref对象）</strong></li>
<li>JS中操作数据：xxx.value</li>
<li>模板中读取数据：不需要.value，直接：<div></div></li>
</ul>
<p>备注：</p>
<ul>
<li>接收的数据可以是：基本类型、也可以是对象类型</li>
<li>基本类型的数据：响应式依然是靠Object.defineProperty()的get与set完成的</li>
<li>对象类型的数据：内部“求助”了Vue3.0中的一个新函数——reactive函数</li>
</ul>
<p>（1）<strong>处理基本数据类型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;信息&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup()&#123;</span><br><span class="line">    //数据</span><br><span class="line">    let name=ref(&#x27;张三&#x27;)</span><br><span class="line">    let age=ref(18)</span><br><span class="line"></span><br><span class="line">    //方法</span><br><span class="line">    function changeInfo()&#123;</span><br><span class="line">      name.value=&#x27;李四&#x27;</span><br><span class="line">      age.value=&#x27;10&#x27;</span><br><span class="line">      console.log(name,age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //返回一个对象</span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/51.png"></p>
<p>（2）<strong>处理对象类型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;信息&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;职位：&#123;&#123;job.type&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;工作薪水：&#123;&#123;job.salary&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup()&#123;</span><br><span class="line">    //数据</span><br><span class="line">    let name=ref(&#x27;张三&#x27;)</span><br><span class="line">    let age=ref(18)</span><br><span class="line">    let job=ref(&#123;</span><br><span class="line">      type:&#x27;前端工程师&#x27;,</span><br><span class="line">      salary:&#x27;10k&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    //方法</span><br><span class="line">    function changeInfo()&#123;</span><br><span class="line">      job.value.type=&#x27;UI设计师&#x27;</span><br><span class="line">      job.value.salary=&#x27;20k&#x27;</span><br><span class="line">      console.log(job.value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //返回一个对象</span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">      job,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/52.png"></p>
<h5 id="3-reactive函数"><a href="#3-reactive函数" class="headerlink" title="3.reactive函数"></a>3.reactive函数</h5><p>作用：定义一个<strong>对象类型</strong>的响应式数据（基本类型不要用它，要用ref函数）</p>
<p>语法：const 代理对象=reactive(源对象) 接收一个对象（或数组），返回一个<strong>代理对象（proxy对象）</strong></p>
<p>reactive定义的响应式数据时“深层次的”</p>
<p>内部基于ES6的Proxy实现，通过代理对象操作源对象内部数据进行操作</p>
<p>在处理对象的时候是深层次的</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;信息&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;职位：&#123;&#123;job.type&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;工作薪水：&#123;&#123;job.salary&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;测试c：&#123;&#123;job.a.b.c&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref,reactive &#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup()&#123;</span><br><span class="line">    //数据</span><br><span class="line">    let name=ref(&#x27;张三&#x27;)</span><br><span class="line">    let age=ref(18)</span><br><span class="line">    let job=reactive(&#123;</span><br><span class="line">      type:&#x27;前端工程师&#x27;,</span><br><span class="line">      salary:&#x27;10k&#x27;,</span><br><span class="line">      a:&#123;</span><br><span class="line">        b:&#123;</span><br><span class="line">          c:999</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    //方法</span><br><span class="line">    function changeInfo()&#123;</span><br><span class="line">      name.value=&#x27;里斯&#x27;</span><br><span class="line">      age.value=20</span><br><span class="line">      job.type=&#x27;UI设计师&#x27;</span><br><span class="line">      job.salary=&#x27;20k&#x27;</span><br><span class="line">      //在这里如果输出job.value是undefined</span><br><span class="line">      // console.log(job)//Proxy对象</span><br><span class="line">      job.a.b.c=666</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //返回一个对象</span><br><span class="line">    return &#123;</span><br><span class="line">      name,</span><br><span class="line">      age,</span><br><span class="line">      job,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>数组：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;信息&lt;/h1&gt;</span><br><span class="line">  &lt;h2&gt;爱好：&#123;&#123;hobby&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改人的信息&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  setup()&#123;</span><br><span class="line">    let hobby=reactive([&#x27;学习&#x27;,&#x27;唱歌&#x27;])</span><br><span class="line"></span><br><span class="line">    //方法</span><br><span class="line">    function changeInfo()&#123;</span><br><span class="line">      hobby[0]=&#x27;玩游戏&#x27;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //返回一个对象</span><br><span class="line">    return &#123;</span><br><span class="line">      hobby,</span><br><span class="line">      changeInfo</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-回顾Vue2-x的响应式原理"><a href="#4-回顾Vue2-x的响应式原理" class="headerlink" title="4.回顾Vue2.x的响应式原理"></a>4.回顾Vue2.x的响应式原理</h5><ul>
<li>实现原理：<ul>
<li>对象类型：通过Object.defineProperty()对属性的读取、修改进行拦截（数据劫持）</li>
<li>数组类型：通过重写更新数组的一系列方法来实现拦截（对数组的变更方法进行了包裹）</li>
</ul>
</li>
<li>存在问题：<ul>
<li>新增属性、删除属性，界面不会更新</li>
<li>直接通过下标修改数组，界面不会自动更新</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;姓名：&#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;年龄：&#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;性别：&#123;&#123;person.sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;爱好：&#123;&#123;person.hobby&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;addAttr&quot;&gt;增加一个属性&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;deleteAttr&quot;&gt;删除一个属性&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;updateHobby&quot;&gt;更新爱好&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123; Button &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      person:&#123;</span><br><span class="line">        name:&#x27;张三&#x27;,</span><br><span class="line">        age:18,</span><br><span class="line">        hobby:[&#x27;学习&#x27;,&#x27;玩游戏&#x27;]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    addAttr()&#123; </span><br><span class="line">      // this.person.sex=&#x27;女&#x27;//添加失败</span><br><span class="line">      // console.log(this.person.sex)</span><br><span class="line">      //实现真正添加的方法</span><br><span class="line">      // this.$set(this.person,&#x27;sex&#x27;,&#x27;女&#x27;)</span><br><span class="line">      Vue.set(this.person,&#x27;sex&#x27;,&#x27;男&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    deleteAttr()&#123;</span><br><span class="line">      // this.$delete(this.person,&#x27;name&#x27;)</span><br><span class="line">      Vue.delete(this.person,&#x27;name&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    updateHobby()&#123;</span><br><span class="line">      // this.$set.hobby(this.person.hobby,0,&#x27;逛街&#x27;)</span><br><span class="line">      this.person.hobby.splice(0,1,&#x27;逛街&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//源数据</span></span><br><span class="line">        <span class="keyword">let</span> person=&#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//模拟Vue2.x中实现响应式原理</span></span><br><span class="line">        <span class="keyword">let</span> p=&#123;&#125;</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(p,<span class="string">&#x27;name&#x27;</span>,&#123;</span><br><span class="line">            <span class="attr">configurable</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;<span class="comment">//有人读取name时调用</span></span><br><span class="line">                <span class="keyword">return</span> person.name</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span>&#123;<span class="comment">//有人修改name时调用</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&#x27;有人修改了name属性&#x27;</span>)</span><br><span class="line">                person.name=value</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(p,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">            <span class="attr">configurable</span>:<span class="literal">true</span>,</span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params"></span>)</span>&#123;<span class="comment">//有人读取age时调用</span></span><br><span class="line">                <span class="keyword">return</span> person.age</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">value</span>)</span>&#123;<span class="comment">//有人修改age时调用</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&#x27;有人修改了age属性&#x27;</span>)</span><br><span class="line">                person.age=value</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/53.png"></p>
<h5 id="5-Vue3-0的响应式"><a href="#5-Vue3-0的响应式" class="headerlink" title="5.Vue3.0的响应式"></a>5.Vue3.0的响应式</h5><ul>
<li>实现原理<ul>
<li>实现Proxy(代理)：拦截对象中任意属性的变化，包括：属性值的读写、属性的添加、属性的删除等</li>
<li>通过Reflext（反射）：对被代理对象的属性进行操作</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//源数据</span></span><br><span class="line">        <span class="keyword">let</span> person=&#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//模拟Vue3.0中响应式原理</span></span><br><span class="line">        <span class="keyword">const</span> p=<span class="keyword">new</span> <span class="built_in">Proxy</span>(person,&#123;</span><br><span class="line">            <span class="function"><span class="title">get</span>(<span class="params">target,propName</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`有人读取了p身上的<span class="subst">$&#123;propName&#125;</span>属性`</span>)</span><br><span class="line">                <span class="comment">// return target[propName]在真正地操作源数据</span></span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target,propName)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//有人修改p的某个属性或者追加时调用</span></span><br><span class="line">            <span class="function"><span class="title">set</span>(<span class="params">target,propName,value</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`有人修改了p身上的<span class="subst">$&#123;propName&#125;</span>`</span>)</span><br><span class="line">                <span class="comment">// target[propName]=value</span></span><br><span class="line">                <span class="built_in">Reflect</span>.set(target,propName,value)</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="function"><span class="title">deleteProperty</span>(<span class="params">target,propName</span>)</span>&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`有人删除了p身上的<span class="subst">$&#123;propName&#125;</span>`</span>)</span><br><span class="line">                <span class="comment">// return delete target[propName]</span></span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">Reflect</span>.deleteProperty(target,propName)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/02/vue/54.png"></p>
<h5 id="6-reactive对比ref"><a href="#6-reactive对比ref" class="headerlink" title="6.reactive对比ref"></a>6.reactive对比ref</h5><ul>
<li>从定义数据角度对比：<ul>
<li>ref用来定义：基本类型数据</li>
<li>reactive用来定义：对象（或数组）类型数据</li>
<li>备注：ref也可以用来定义对象（或数组）类型数据，它内部会自动通过reactive转为代理对象</li>
</ul>
</li>
<li>从原理角度对比：<ul>
<li>ref通过Object.defineProperty()的get与set来实现响应式（数据劫持）</li>
<li>reactive通过使用Proxy来实现响应式（数据劫持），并通过Reflect操作源对象内部的数据</li>
</ul>
</li>
<li>从使用角度对比：<ul>
<li>ref定义的数据：操作数据需要.value,读取数据时模板中直接读取不需要.value</li>
<li>reactive定义的数据：操作数据与读取数据，均不需要.value</li>
</ul>
</li>
</ul>
<h5 id="7-setup的两个注意点"><a href="#7-setup的两个注意点" class="headerlink" title="7.setup的两个注意点"></a>7.setup的两个注意点</h5><ul>
<li>setup执行的时机<ul>
<li>在beforeCreate之前执行一次，this是undefined</li>
</ul>
</li>
<li>setup的参数<ul>
<li>props:值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性</li>
<li>context:上下文对象<ul>
<li>attrs:值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性，相当于this.$attrs</li>
<li>slots:收到的插槽内容相当于this.$slots</li>
<li>emit:分发自定义事件的函数，相当于this.$emit</li>
</ul>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>html+css</title>
    <url>/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h2 id="html-css"><a href="#html-css" class="headerlink" title="html+css"></a>html+css</h2><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><h3 id="一、自结束标签和注释"><a href="#一、自结束标签和注释" class="headerlink" title="一、自结束标签和注释"></a>一、自结束标签和注释</h3><ol>
<li>标签一般成对出现，但是也存在一些自结束标签</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;img&gt;</span><br><span class="line">&lt;img/&gt;</span><br><span class="line">&lt;input&gt;</span><br><span class="line">&lt;input/&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>HTML的注释</li>
</ol>
<p>（1）HTML的注释，注释中的内容会被浏览器所忽略，不会在网页中直接显示，但是可以在源码中查看注释，注释用来对代码进行解释说明的，开发中一定要养成良好的编写注释的习惯，数值要求简单明了</p>
<p>（2）注释还可以将一些不希望显示的内容隐藏</p>
<p>（3）注释不能嵌套</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--注释--&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="二、标签中的属性"><a href="#二、标签中的属性" class="headerlink" title="二、标签中的属性"></a>二、标签中的属性</h3><p>1.属性，在标签中（开始标签或自结束标签）还可以设置属性</p>
<p>（1）属性是一个名值对（x=y）</p>
<p>（2）属性用来设置标签中的内容如何显示</p>
<p>（3）属性和标签名或其他属性应该使用空格隔开</p>
<p>（4）属性不能瞎写，应该根据文档中的规定来编写，有些属性有属性值，有些没有，如果有属性值，属性值应该使用引号引起来</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是我的<span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span> <span class="attr">size</span>=<span class="string">&#x27;3&#x27;</span>&gt;</span>第三个网页<span class="tag">&lt;/<span class="name">font</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="三、文档声明"><a href="#三、文档声明" class="headerlink" title="三、文档声明"></a>三、文档声明</h3><p>1.迭代</p>
<p>（1）网页的版本</p>
<ul>
<li>HTML4</li>
<li>XHTML2.0</li>
<li>HTML5</li>
</ul>
<p>（2）文档声明（doctype)</p>
<ul>
<li><p>文档声明用来高速浏览器当前网页的版本</p>
</li>
<li><p>html5的文档声明</p>
<ul>
<li>```html<!doctype html>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- ```html</span><br><span class="line">  &lt;!Doctype HTML&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>2.进制</p>
<p>（1）十进制（日常使用）</p>
<ul>
<li>特点：满10进1</li>
<li>计数：0 1 2 3 4 5 6 7… 19 20</li>
<li>单位数字：10个（0-9）</li>
</ul>
<p>（2）二进制（计算机底层的进制）</p>
<ul>
<li><p>特点：满2进1</p>
</li>
<li><p>计数：0 1 10 11 100 101 110 111</p>
</li>
<li><p>单位数字：2个（0-1）</p>
</li>
<li><p>扩展：</p>
<ul>
<li><p>所有数据在计算机底层都会以二进制的形式保存</p>
</li>
<li><p>可以将内存想象为一个有多个小格子组成的容器，每一个小格子中可以存储一个1或一个0，这个小个子在内存中被称为1位（bit）</p>
<p>8bit=1byte(字节)</p>
<p>1024byte=1kb(千字节)</p>
<p>1024kb=1mb(兆字节)</p>
<p>1024mb=1gb(吉字节)</p>
<p>1024gb=1tb(特字节)</p>
<p>1024tb=1pb</p>
</li>
</ul>
</li>
</ul>
<p>（3）八进制（很少用）</p>
<ul>
<li>特点：满8进1</li>
<li>计数：0 1 2 3 4…17 20</li>
<li>单位数字：8个（0-7）</li>
</ul>
<p>（4）十六进制（一般显示一个二进制数字时，都会转换为十六进制）</p>
<ul>
<li>特点：满16进1</li>
<li>计数：0 1 2 3 4 5 6 7 8 9 a b c d e f 10 11 12…1a 1b 1c 1d 1e 1f 20..</li>
<li>单位数字：16个（0-f)</li>
</ul>
<h3 id="四、字符编码"><a href="#四、字符编码" class="headerlink" title="四、字符编码"></a>四、字符编码</h3><p>1.坚持-&gt;110101010（编码）</p>
<p>110101010-&gt;坚持（解码）</p>
<p>2.所有的数据在计算机中存储时都是以二进制形式存储的，文字也不例外，所以一段文字在存储到内存中时，都需要转换为二进制编码。当我们读取这段文字时，计算机会将编码转换为字符，供我们阅读</p>
<p>3.编码：将字符转换为二进制码的过程称为编码</p>
<p>4.解码：将二进制码转换为字符的过程称为解码</p>
<p>5.字符集（charset）：编码和解码所采用的规则称为字符集</p>
<p>6.乱码问题：如果编码和解码所采用的字符集不同就会出现乱码问题</p>
<p>7.常见字符集：</p>
<ul>
<li>ASCII</li>
<li>ISO88591</li>
<li>GB2312</li>
<li>GBK</li>
<li>UTF-8：在开发时我们使用的字符集都是UTF-8</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--可以通过meta标签来设置网页的字符集，避免乱码问题 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf--8&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 文档声明，声明当前网页的版本--&gt;</span></span><br><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--html的根标签（元素），网页中的所有内容都要写根元素的里边 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--head是网页的头部，head中的内容不会在网页中直接出现，主要用来帮助浏览器或搜索引擎来解析网页--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--meta标签用来设置网页的元数据，这里meta用来设置网页的字符集，避免乱码问题 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--title中的内容会显示在浏览器的标题栏，搜索引擎会主要根据title中的内容来判断网页的主要内容--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--body是html的主元素，表示网页的主体，网页中左右的可见内容都应该写在body里--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--h1网页的一级标题--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="五、实体"><a href="#五、实体" class="headerlink" title="五、实体"></a>五、实体</h3><p>1.在网页中编写的多个空格默认情况会自动被浏览器解析为一个空格</p>
<p>2.在HTML中有些时候，我们不能直接书写一些特殊符号</p>
<p>比如：多个连续的空格，比如字母两侧的大于和小于号</p>
<p>3.如果我们需要在网页中书写这些特殊的符号，则需要使用html中的实体（转义字符）</p>
<p><strong>实体的语法：&amp;实体的名字</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;nbsp;空格</span><br><span class="line">&amp;gt;大于号</span><br><span class="line">&amp;lt;小于号</span><br><span class="line">&amp;copy;版权符号</span><br></pre></td></tr></table></figure>

<h3 id="六、meta标签"><a href="#六、meta标签" class="headerlink" title="六、meta标签"></a>六、meta标签</h3><p>1.meta主要用于设置网页中的一些元数据，元数据不是给用户看</p>
<p>charset 指定网页的字符集</p>
<p>name 指定的数据的名称</p>
<ul>
<li>keywords表示网站的关键字，可以同时指定多个关键字，关键字间使用，隔开 </li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;keywords&quot;</span> <span class="attr">content</span>=<span class="string">&quot;网上购物，网上商城&quot;</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>description用于指定网站的描述</p>
<p>网站的描述会显示在搜索引擎的搜索的结果中</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;description&quot;</span> <span class="attr">content</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>title标签的内容会作为搜索结果的超链接上的文字显示</li>
</ul>
<p>content 指定的数据的内容</p>
<h3 id="七、语义化标签"><a href="#七、语义化标签" class="headerlink" title="七、语义化标签"></a>七、语义化标签</h3><p>1.在网页中html专门用来负责网页的结构，所以在使用html标签时，应该关注的是标签的语义，而不是它的样式</p>
<p>2.标题标签：h1~h6 一共有六级标题</p>
<ul>
<li>从h1~h6重要性递减，h1最重要，h6最不重要</li>
<li>h1在网页中的重要性仅此于title标签，一般情况下一个页面中只会有一个h1，一般情况下标题标签只会使用到h1<del>h3,h4</del>h6很少用</li>
<li>标题标签都是块元素</li>
</ul>
<p>3.在页面中独占一行的元素称为块元素（block element）</p>
<p>p标签表示页面中一个段落，p也是一个块元素</p>
<p>4.hgroup标签用来为标题分组，可以将一组相关的标题同时放入到hgroup</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hgroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">        回乡偶书二首</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span></span><br><span class="line">        其一</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">hgroup</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>5.em标签用于表示语音语调的一个加重</p>
<p>在页面中不会独占一行的元素称为行内元素（inline element）</p>
<p>6.strong表示强调，重要内容</p>
<p>7.blockqoute表示一个长引用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">鲁迅说：</span><br><span class="line"><span class="tag">&lt;<span class="name">blockqoute</span>&gt;</span></span><br><span class="line">    这句话我是从来没有说过的</span><br><span class="line"><span class="tag">&lt;/<span class="name">blockqoute</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>8.q表示一个短引用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">子曰<span class="tag">&lt;<span class="name">q</span>&gt;</span>学而时习之，乐呵乐呵<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>9.br标签表示页面中的换行</p>
<h3 id="八、块和行内"><a href="#八、块和行内" class="headerlink" title="八、块和行内"></a>八、块和行内</h3><p>1.块元素（block element）</p>
<p>在网页中一般通过块元素来对页面进行布局</p>
<p>2.行内元素（inline element）</p>
<ul>
<li>行内元素主要用来包裹文字</li>
<li>一般情况下会在块元素中放行内元素，而不会在行内元素中放块元素</li>
<li>块元素中基本上什么都能放</li>
<li>p元素中不能放任何的块元素</li>
</ul>
<p>3.浏览器在解析网页时，会自动对网页中不符合规范的内容进行修正</p>
<p>比如：标签写在了根元素的外部</p>
<p>​             p元素中嵌套了块元素</p>
<p>​            根元素中出现了除head和body以外的子元素</p>
<p>4.布局标签（结构化语义标签）</p>
<ul>
<li>header表示网页的头部</li>
<li>main表示网页的主体部分（一个页面中只会有一个main）</li>
<li>footer表示网页的底部</li>
<li>nav表示网页中的导航</li>
<li>aside和主体相关的其它内容（侧边栏）</li>
<li>article表示一个独立的文章</li>
<li>section表示一个独立的区块，上边的标签都不能表示时使用section</li>
<li>div没有语义，就用来表示一个区块，目前来讲div还是我们主要的布局元素</li>
<li>span行内元素，没有任何的语义，一般用于在网页中选中文字</li>
</ul>
<h3 id="九、列表"><a href="#九、列表" class="headerlink" title="九、列表"></a>九、列表</h3><p>一共有三种</p>
<p>1.有序列表</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2.无序列表</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3.定义列表</p>
<p>使用dl标签来创建一个定义列表</p>
<p>使用dt来表示定义的内容</p>
<p>使用dd来对内容进行解释说明</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dl</span>&gt;</span><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.列表之间可以相互嵌套</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="十、超链接"><a href="#十、超链接" class="headerlink" title="十、超链接"></a>十、超链接</h3><p>1.可以让我们从一个页面跳转到其他页面或者是当前页面的其他的位置</p>
<p>超链接也是一个行内元素，在a标签中可以嵌套任何的元素，除了他自身</p>
<p>2../可以不写，如果不写./也不写../则就相当于写了./</p>
<p>./表示当前文件所在的目录</p>
<p>../表示当前文件所在目录的上一级目录</p>
<p>3.target属性，用来指定超链接打开的位置</p>
<p>可选值：</p>
<ul>
<li>_self：默认值，在当前页面中打开超链接</li>
<li>_blank：在一个新的页面中打开超链接</li>
</ul>
<p>4.可以直接将超链接的href属性设置为#，这样点击超链接以后页面不会发生跳转，而是转到当前页面的顶部的位置</p>
<p>可以跳转到页面的指定位置，只需将href属性设置 #目标元素的id属性值</p>
<p>id属性（唯一不重复的）</p>
<ul>
<li>每一个标签都可以添加一个id属性</li>
<li>id属性就是元素的唯一标识，同一个页面中不能出现重复的id属性</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#bottom&quot;</span>&gt;</span>去底部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    ....</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;bottom&quot;</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>回到顶部<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以使用javascript:;来作为href的属性，此时点击这个超链接什么也不会发啊生</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="十一、图片标签"><a href="#十一、图片标签" class="headerlink" title="十一、图片标签"></a>十一、图片标签</h3><p>img是一个自结束标签</p>
<p>1.属性</p>
<ul>
<li>src</li>
<li>alt 图片的描述，这个描述默认情况下不会显示，有些浏览器会图片无法加载时显示，搜索引擎会根据alt中的内容来识别图片，如果不写alt属性则图片不会被搜索引擎搜到</li>
<li>width 图片的宽度（单位是像素）</li>
<li>height 图片的高度<ul>
<li>宽度和高度中如果只修改了一个，则另一个会等比例缩放</li>
<li>注意：一般情况在pc端，不建议修改图片的大小，但是在移动端经常需要对图片进行缩放</li>
</ul>
</li>
</ul>
<p>2.图片的格式</p>
<ul>
<li>jpeg(jpg)<ul>
<li>支持的颜色比较丰富，不支持透明效果，不支持动图</li>
<li>一般用来显示图片</li>
</ul>
</li>
<li>gif<ul>
<li>支持的颜色比较少，支持简单透明，支持动图</li>
<li>颜色单一的图片，动图</li>
</ul>
</li>
<li>png<ul>
<li>支持的颜色丰富，支持复杂透明，不支持动图</li>
<li>颜色丰富，复杂透明图片（专为网页而生）</li>
</ul>
</li>
<li>webp<ul>
<li>这种格式是谷歌新推出的专门用来表示网页中的图片的一种格式</li>
<li>它具备其他图片格式的所有优点，而且文件还特别小</li>
<li>缺点：兼容性不好</li>
</ul>
</li>
<li>base64（网站将图片转换为base64）<ul>
<li>将图片使用base64进行编码，对数据进行加密，这样可以将图片转换为字符，通过字符的形式来引入图片</li>
<li>一般都是一些需要和网页一起加载的图片才会使用base64</li>
</ul>
</li>
</ul>
<h3 id="十一、内联框架"><a href="#十一、内联框架" class="headerlink" title="十一、内联框架"></a>十一、内联框架</h3><p>用于向当前页面中引入一个其他页面</p>
<ul>
<li>src 指定要引入的网页的路径</li>
<li>frameborder 指定内联框架的边框</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;https://www.qq.com&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> <span class="attr">height</span>=<span class="string">&quot;600&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="十二、音视频播放"><a href="#十二、音视频播放" class="headerlink" title="十二、音视频播放"></a>十二、音视频播放</h3><p>用来向页面中引入一个外部的音频文件的，音视频文件引入时，默认情况不允许用户自己控制播放停止</p>
<p>属性：</p>
<ul>
<li>controls 是否允许用户控制播放</li>
<li>autoplay 音频文件是否自动播放<ul>
<li>如果设置了autoplay则因为在打开页面时会自动播放，但是目前来讲大部分浏览器都不会自动对音乐进行播放</li>
</ul>
</li>
<li>loop 音乐循环播放</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">src</span>=<span class="string">&#x27;...&#x27;</span> <span class="attr">controls</span> <span class="attr">autoplay</span> <span class="attr">loop</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">video</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>除了通过src来指定外部文件的路径以外，还可以通过source来指定文件（可以显示提示文件，可以写多个source）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">controls</span>&gt;</span></span><br><span class="line">    对不起，您的浏览器不支持</span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;..&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;..&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 这个都兼容--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;..&quot;</span> <span class="attr">type</span>=<span class="string">&quot;audio/map3&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;..&quot;</span> <span class="attr">type</span>=<span class="string">&quot;videp/map4&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h3><p>1.使用css来修改元素的样式</p>
<ul>
<li>在标签内部通过style属性来这是元素的样式（内联样式，行内样式）<ul>
<li>使用内联样式，样式只能对一个标签生效，如果希望影响到多个元素必须在每一个元素中都复制一遍，当样式发生变化时，必须一个一个修改</li>
<li>开发时，不要用</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:red;font-size:60px&quot;</span>&gt;</span></span><br><span class="line">    哈哈哈</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>将样式编写到head中的style标签中（内部样式表）<ul>
<li>只能对一个网页起作用</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;style&gt; </span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>外部样式表，编辑到外部的cc文件中<ul>
<li>可以使用到浏览器的缓存机制</li>
<li>加快网页的加载速度，提高用户的体验</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./style.css&quot;</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="二、css的基本语法"><a href="#二、css的基本语法" class="headerlink" title="二、css的基本语法"></a>二、css的基本语法</h3><p>1.注释</p>
<p>/**/</p>
<p>2.基本语法</p>
<p>选择器 声明块</p>
<p>选择器，通过选择可以选中页面中的指定元素</p>
<p>声明块，通过声明块来指定要为元素设置的样式</p>
<ul>
<li>声明块有一个一个的声明组成</li>
<li>声明是一个名值对结构<ul>
<li>一个样式名对应一个样式值，名和值之间以：连接，以;结尾</li>
</ul>
</li>
</ul>
<h3 id="三、常用选择器"><a href="#三、常用选择器" class="headerlink" title="三、常用选择器"></a>三、常用选择器</h3><h4 id="1-元素选择器"><a href="#1-元素选择器" class="headerlink" title="1.元素选择器"></a>1.元素选择器</h4><p>作用：根据标签名来选中指定的元素</p>
<p>语法：标签名{}</p>
<p>例子：p{} h1{} div{}</p>
<h4 id="2-id选择器"><a href="#2-id选择器" class="headerlink" title="2.id选择器"></a>2.id选择器</h4><p>作用：根据元素的id属性值选中一个元素</p>
<p>语法：#id属性值{}</p>
<p>例子：#box{}  #red{}</p>
<h4 id="3-类选择器"><a href="#3-类选择器" class="headerlink" title="3.类选择器"></a>3.类选择器</h4><p>作用：根据元素的class属性值选中一组元素（可以重复）</p>
<p>语法：.class属性值{}</p>
<p>例子：.blue{}</p>
<p>class可以同时为一个元素指定多个class属性</p>
<h4 id="4-通配选择器"><a href="#4-通配选择器" class="headerlink" title="4.通配选择器"></a>4.通配选择器</h4><p>作用：选中页面中的所有元素</p>
<p>语法：*</p>
<h3 id="四、复合选择器"><a href="#四、复合选择器" class="headerlink" title="四、复合选择器"></a>四、复合选择器</h3><h4 id="1-交集选择器"><a href="#1-交集选择器" class="headerlink" title="1.交集选择器"></a>1.交集选择器</h4><p>作用：选中同时复合多个条件的元素</p>
<p>语法：选择器1选择器2选择器3选择器n{}</p>
<p>注意点：交集选择器中如果有元素选择器，必须使用元素选择器开头</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">div.red&#123;</span><br><span class="line">	font-size:90px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;red&quot;</span>&gt;</span></span><br><span class="line">    我是div</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-选择器分组（并集选择器）"><a href="#2-选择器分组（并集选择器）" class="headerlink" title="2.选择器分组（并集选择器）"></a>2.选择器分组（并集选择器）</h4><p>作用：同时选择多个选择器对应的元素</p>
<p>语法：选择器1，选择器2，选择器4，选择器n{}</p>
<p>#b1,.p1,h1,span{}</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">h1,span&#123;</span><br><span class="line">	color:green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="五、父子兄弟选择器（关系选择器）"><a href="#五、父子兄弟选择器（关系选择器）" class="headerlink" title="五、父子兄弟选择器（关系选择器）"></a>五、父子兄弟选择器（关系选择器）</h3><h4 id="1-子元素选择器"><a href="#1-子元素选择器" class="headerlink" title="1.子元素选择器"></a>1.子元素选择器</h4><p>作用：选中指定父元素的指定子元素</p>
<p>语法：父元素&gt;子元素</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">div.box&gt;span&#123;</span><br><span class="line">	color:red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-选择下一个兄弟"><a href="#2-选择下一个兄弟" class="headerlink" title="2.选择下一个兄弟"></a>2.选择下一个兄弟</h4><p>语法：前一个+下一个</p>
<h4 id="3-选择下边所有的兄弟"><a href="#3-选择下边所有的兄弟" class="headerlink" title="3.选择下边所有的兄弟"></a>3.选择下边所有的兄弟</h4><p>语法：兄~弟</p>
<h3 id="六、属性选择器"><a href="#六、属性选择器" class="headerlink" title="六、属性选择器"></a>六、属性选择器</h3><p>[属性名] 选择含有指定属性的元素</p>
<p>[属性名=属性值] 选择含有指定属性和属性值的元素</p>
<p>[属性名^=属性值] 选择属性值以指定值开头的元素</p>
<p>[属性名$=属性值] 选择属性值以指定值结尾的元素</p>
<p>[属性名*=属性值] 选择属性值中含有某值的元素的元素</p>
<h3 id="七、伪类选择器"><a href="#七、伪类选择器" class="headerlink" title="七、伪类选择器"></a>七、伪类选择器</h3><p>伪类（不存在的类，特殊的类）</p>
<ul>
<li>伪类用来描述一个元素的特殊状态<ul>
<li>比如：第一个子元素、被点击的元素、鼠标移入的元素…</li>
</ul>
</li>
<li>伪类一般情况下都是使用：开头<ul>
<li>:first-child 第一个子元素</li>
<li>:last-child 最后一个子元素</li>
<li>:nth-child() 选中第n个子元素<ul>
<li>特殊值：<ul>
<li>n 第n个 n的范围0到正无穷</li>
<li>2n 或 even 表示选中偶数位的元素</li>
<li>2n+1 或 odd 表示选中奇数位的元素</li>
</ul>
</li>
<li>以上这些伪类都是根据所有的子元素进行排序</li>
</ul>
</li>
<li>:first-of-type </li>
<li>:last-of-type</li>
<li>:nth-of-type()<ul>
<li>这几个伪类的功能和上述的类似，不通点是他们是在同类型元素中进行排序</li>
</ul>
</li>
<li>:not()否定伪类<ul>
<li>将符合条件的元素从选择器中去除</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ul&gt;li:first-child&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">ul&lt;li:last-child&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">ul&gt;li:nth-child(2n+1)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">ul&gt;li:not(:first-child)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="八、超链接伪类"><a href="#八、超链接伪类" class="headerlink" title="八、超链接伪类"></a>八、超链接伪类</h3><ul>
<li>:link 用来表示没访问过的链接（正常的链接）</li>
<li>:visited 用来表示访问过的链接<ul>
<li>由于隐私的原因，所以visited这个伪类只能修改链接的颜色</li>
</ul>
</li>
<li>:hover 用来表示鼠标移入的状态</li>
<li>:active 用来表示鼠标点击</li>
</ul>
<h3 id="九、伪元素"><a href="#九、伪元素" class="headerlink" title="九、伪元素"></a>九、伪元素</h3><p>伪元素，表示页面中一些特殊的并不真实的存在的元素（特殊的位置）</p>
<p>伪元素使用 ::开头</p>
<ul>
<li>::first-letter 表示第一个字母</li>
<li>::first-line 表示第一行</li>
<li>::selection 表示选中的内容</li>
<li>::before 元素的开始位置</li>
<li>::after 元素的最后<ul>
<li>before和after必须结合content属性来使用</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">div:before&#123;</span><br><span class="line">	content:&#x27;[]&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="十、继承"><a href="#十、继承" class="headerlink" title="十、继承"></a>十、继承</h3><p>1.样式的继承，我们为一个元素设置的样式同时也会应用到它的后代元素上</p>
<p>2.继承是发生在祖先后代之间的</p>
<p>3.继承的设计是为了方便我们的开发，利用继承我们可以将一些通用的样式同意设置到共同的祖先元素上，这样只需设置一次即可让所有的元素都具有该元素</p>
<p>4.注意：并不是所有的样式都会被继承</p>
<ul>
<li>比如：背景相关的，布局相关等的这些样式都不会被继承</li>
</ul>
<h3 id="十一、选择器的权重"><a href="#十一、选择器的权重" class="headerlink" title="十一、选择器的权重"></a>十一、选择器的权重</h3><p>1.样式的冲突</p>
<ul>
<li>当我们通过不同的选择器，选中相同的元素，并且为相同的样式设置不同的值时，此时就发生了样式的冲突</li>
</ul>
<p>2.发生样式冲突时，应用哪个样式由选择器的权重（优先级）决定</p>
<p>3.选择器的权重</p>
<ul>
<li>内联样式            1,0,0,0</li>
<li>id选择器             0,1,0,0</li>
<li>类和伪类选择器0,0,1,0</li>
<li>元素选择器        0,0,0,1</li>
</ul>
<p>4.比较优先级时，需要将所有的选择器的优先级进行相加计算，最后优先级 越高，在越优先显示（分组选择器是单独计算的），选择器的累加不会超过其最大的数量级，类选择器在不会超过id选择器。如果优先级计算后相同，此时则优先使用靠下的样式</p>
<p>5.可以在某一个样式的后边添加!important，则此时该样式会获取到最高的优先级，甚至超过内联样式，注意：在开发中这个玩意一定要慎用</p>
<h3 id="十二、长度单位"><a href="#十二、长度单位" class="headerlink" title="十二、长度单位"></a>十二、长度单位</h3><ul>
<li>像素<ul>
<li>屏幕（显示器）实际上是由一个一个的小点点构成的</li>
<li>不同屏幕的像素大小是不同的，像素越小的屏幕显示的效果越清晰</li>
</ul>
</li>
<li>百分比<ul>
<li>也可以将属性值设置为相对于其父元素属性的百分比</li>
<li>设置百分比可以使子元素跟随父元素的改变而改变</li>
</ul>
</li>
<li>em<ul>
<li>em是相对于元素的字体大小来计算的</li>
<li>1em = 1font-size(16px)</li>
<li>em会根据字体大小的改变而改变</li>
</ul>
</li>
<li>rem<ul>
<li>rem是相对于根元素的字体大小来计算</li>
</ul>
</li>
</ul>
<h3 id="十三、颜色单位"><a href="#十三、颜色单位" class="headerlink" title="十三、颜色单位"></a>十三、颜色单位</h3><p>在CSS中可以直接使用颜色来设置各种颜色，但是不方便</p>
<ul>
<li>RGB值<ul>
<li>RGB通过三种颜色的不同浓度来调配出不同的颜色</li>
<li>R red,G green,B Blue</li>
<li>每一种颜色的范围在0-255（0%-100%）之间</li>
<li>语法：RGB(红色，绿色，蓝色)</li>
</ul>
</li>
<li>RGBA：<ul>
<li>就是在rgb的基础上增加了一个a表示不透明度</li>
<li>第四个表示不透明度<ul>
<li>1表示完全不透明</li>
<li>0表示完全透明</li>
<li>.5表示半透明</li>
</ul>
</li>
</ul>
</li>
<li>十六进制的RGB值<ul>
<li>语法：#红色绿色蓝色</li>
<li>颜色浓度通过00-ff</li>
<li>如果颜色两位两位重复可以进行简写<ul>
<li>#aabbcc –&gt; #abc</li>
</ul>
</li>
</ul>
</li>
<li>HSL值    HSLA值<ul>
<li>H色相（0-360）</li>
<li>S饱和度，颜色的浓度 0%-100%</li>
<li>L亮度，颜色的亮度 0%-100%</li>
</ul>
</li>
</ul>
<h3 id="十四、文档流-normal-flow"><a href="#十四、文档流-normal-flow" class="headerlink" title="十四、文档流(normal flow)"></a>十四、文档流(normal flow)</h3><ul>
<li>网页是一个多层的解构，一层摞着一层</li>
<li>通过css可以分别为每一层来设置样式</li>
<li>作为用户来讲只能看到最顶上一层</li>
<li>这些层中，最底下的一层称为文档流，文档流是网页的基础<ul>
<li>我们所创建的元素默认都是在文档流中进行排列</li>
</ul>
</li>
<li>对我们讲元素主要有两个状态<ul>
<li>在文档流中</li>
<li>不在文档流中（脱离文档流）</li>
</ul>
</li>
<li>元素在文档流中有什么特点<ul>
<li>块元素<ul>
<li>块元素会在页面中独占一行（自上向下垂直排列）</li>
<li>默认宽度是父元素的全部（会把元素撑满）</li>
<li>默认高度是被内容撑开（子元素）</li>
</ul>
</li>
<li>行内元素<ul>
<li>行内元素不会独占页面的一行，只占自身的大小</li>
<li>行内元素在页面中左向右水平排列，如果一行不能，则元素会换到第二行继续自左向右排列</li>
<li>行内元素的默认宽度和高度都是被内容撑开</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="十五、盒子模式"><a href="#十五、盒子模式" class="headerlink" title="十五、盒子模式"></a>十五、盒子模式</h3><p>一共盒子的可见框的大小，由内容区、内边框和边框共同决定，所以在计算盒子大小时，需要将这三个区域加到一起计算</p>
<h4 id="1-盒模型、盒子模型、框模型（box-model）"><a href="#1-盒模型、盒子模型、框模型（box-model）" class="headerlink" title="1.盒模型、盒子模型、框模型（box model）"></a>1.盒模型、盒子模型、框模型（box model）</h4><ul>
<li>CSS将页面中的所有元素都设置为了一个矩形的盒子</li>
<li>将元素设置为矩形的盒子后，对页面的布局就变成将不同的盒子摆放到不同的位置</li>
<li>每一个盒子都由以下几个部分组成：<ul>
<li>内容区（content）<ul>
<li>元素中的所有的子元素和文本内容都在内容区中排列</li>
<li>内容区的大小由width和height两个属性来设置<ul>
<li>width 设置内容区的宽度</li>
<li>height 设置内容区的高度</li>
</ul>
</li>
</ul>
</li>
<li>内边距（padding）</li>
<li>边框（border）<ul>
<li>边框属于盒子边缘，边框里边属于盒子内部，出了边框都是盒子的外部，要设置边框，需要至少设置三个样式：</li>
<li>边框的宽度 border-width</li>
<li>边框的颜色 border-color</li>
<li>边框的样式 border-style</li>
</ul>
</li>
<li>外边距（margin）</li>
</ul>
</li>
</ul>
<h4 id="2-边框"><a href="#2-边框" class="headerlink" title="2.边框"></a>2.边框</h4><ul>
<li>默认值，一般都是3个像素</li>
<li>border-width可以用来指定四个方向的边框的宽度值的情况<ul>
<li>四个值：上    右    下    左</li>
<li>三个值：上    左右    下</li>
<li>两个值：上下   左右</li>
<li>一个值：上下左右</li>
</ul>
</li>
<li>除了border-width还有一组border-xxx-width<ul>
<li>xxx可以是top right bottom left</li>
<li>用来单独指定某一个边的宽度</li>
</ul>
</li>
<li>border-color用来指定边框的颜色，同样可以分别指定四个边的边框规则和border-width一样<ul>
<li>border-color也可以省略不写，如果省略了则自动使用color的颜色值</li>
</ul>
</li>
<li>border-style指定边框的样式<ul>
<li>solid表示实线</li>
<li>dotted点状虚线</li>
<li>dashed虚线</li>
<li>double双线</li>
</ul>
</li>
<li>border简写属性，通过该属性可以同时设置边框所有的相关样式，并且没有顺序要求</li>
<li>除了border以外还有四个border-xxx<ul>
<li>border-top</li>
<li>border-right</li>
<li>border-bottom</li>
<li>border-left</li>
</ul>
</li>
</ul>
<h4 id="3-内边距"><a href="#3-内边距" class="headerlink" title="3.内边距"></a>3.内边距</h4><ul>
<li>内容区和边框之间的距离是内边距</li>
<li>一共有四个方向的内边距：<ul>
<li>padding-top</li>
<li>padding-right</li>
<li>padding-bottom</li>
<li>padding-left</li>
</ul>
</li>
<li>内边距的设置会影响到盒子的大小</li>
<li>背景颜色会延伸到内边距上</li>
<li>padding内边距的简写属性，可以同时指定四个方向的内边距规则和border-width一样</li>
</ul>
<h4 id="4-外边距"><a href="#4-外边距" class="headerlink" title="4.外边距"></a>4.外边距</h4><ul>
<li>外边距不会影响盒子可见框的大小</li>
<li>但是外边距会影响盒子的位置</li>
<li>一共有四个方向的外边距：<ul>
<li>margin-top<ul>
<li>上外边框，设置一个正值，元素会向下移动</li>
</ul>
</li>
<li>margin-right</li>
<li>margin-bottom</li>
<li>margin-left<ul>
<li>左外边距，设置一个正值，元素会向右移动</li>
</ul>
</li>
</ul>
</li>
<li>元素在页面中时按照自左向右的顺序排列的，所以默认情况下如果我们设置的左和上外边距则会移动而设置下和右边距会移动其他元素</li>
<li>margin的简写属性<ul>
<li>margin可以同时设置四个方向的外边距，用法和padding一样</li>
</ul>
</li>
</ul>
<h4 id="5-水平方向的布局"><a href="#5-水平方向的布局" class="headerlink" title="5.水平方向的布局"></a>5.水平方向的布局</h4><ul>
<li><p>元素在其父元素中水平方向的位置由以下几个属性共同决定</p>
<ul>
<li>margin-left</li>
<li>border-left</li>
<li>padding-left</li>
<li>width</li>
<li>padding-right</li>
<li>border-right</li>
<li>margin-right</li>
</ul>
</li>
<li><p>一个元素在其父元素中，水平布局必须要满足以下的等式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">marign-left+border-left+padding-left+width+padding-right+border-right+margin-right=其父元素内容区的宽度（必须满足）</span><br></pre></td></tr></table></figure></li>
<li><p>以上等式必须满足，如果相加结果使等式不成立，则称为过渡约束，则等式会自动调整</p>
<ul>
<li>调整的情况：<ul>
<li>如果这七个值中没有为auto的情况，则浏览器会子宫调整margin-right值以使等式满足</li>
</ul>
</li>
</ul>
</li>
<li><p>这七个值中有三个值和设置为auto</p>
<ul>
<li>width</li>
<li>margin-left</li>
<li>margin-right<ul>
<li>如果某个值为auto，则会自动调整为auto的那个值以使等式成立</li>
<li>如果将一个宽度和一个外边距设置为auto，则宽度会调整到最大，设置为auto的外边距会自动为0</li>
<li>如果将三个值都设置为auto，则外边距都是0，宽度最大</li>
<li>如果将两个外边距设置为auto，宽度固定值，则会将外边距设置为相同的值，所以我们经常利用这个特点来使一个元素在其父元素中水平居中<ul>
<li>示例：<ul>
<li>width:xxxpx</li>
<li>margin:0 auto</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="6-垂直方向的布局"><a href="#6-垂直方向的布局" class="headerlink" title="6.垂直方向的布局"></a>6.垂直方向的布局</h4><p>（1）默认情况下父元素的高度被内容撑开</p>
<p>（2）子元素是在父元素的内容区中排列的，如果子元素的大小超过了父元素，则子元素会从父元素中溢出</p>
<ul>
<li>使用overflow属性来设置父元素如何处理溢出的子元素</li>
<li>可选值：<ul>
<li>visible 默认值 子元素会从父元素中溢出，在父元素外部的位置显示</li>
<li>hidden 溢出内容将会被裁剪不会显示</li>
<li>scroll 生成两个滚动条，通过滚动条来查看完整的内容</li>
<li>auto 根据需要生成滚动条</li>
</ul>
</li>
<li>over-flow-x</li>
<li>over-flow-y</li>
</ul>
<h4 id="7-垂直外边距的折叠"><a href="#7-垂直外边距的折叠" class="headerlink" title="7.垂直外边距的折叠"></a>7.垂直外边距的折叠</h4><ul>
<li>相邻的垂直方向外边距会发生重叠现象</li>
<li>兄弟元素<ul>
<li>兄弟元素间的相邻垂直外边距会取两者之间的较大值（两者都是正值）<ul>
<li>特殊情况：<ul>
<li>如果相邻的外边距一正一负，则取两者的和</li>
<li>如果相邻的外边距都是负值，则取两者中绝对值较大的</li>
</ul>
</li>
<li>兄弟元素之间的外边距的重叠，对于开发是有利的，所以我们不需要进行处理</li>
</ul>
</li>
<li>父子元素<ul>
<li>父子元素间相邻外边距，子元素的会传递给父元素（上外边距）</li>
<li>父子外边距的折叠会影响到页面的布局，必须要进行处理</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="8-行内元素的盒模式"><a href="#8-行内元素的盒模式" class="headerlink" title="8.行内元素的盒模式"></a>8.行内元素的盒模式</h4><ul>
<li>行内元素不支持设置宽度和高度</li>
<li>行内元素可以设置padding，但是垂直方向padding不会影响页面的布局</li>
<li>行内元素可以设置border，垂直方向的border不会影响页面的布局</li>
<li>行内元素可以设置margin，垂直方向的margin不会影响布局</li>
<li>display用来设置元素显示的类型<ul>
<li>可选值：<ul>
<li>inline 将元素设置为行内元素</li>
<li>block 将元素设置为块元素</li>
<li>inline-block将元素设置为行内块元素<ul>
<li>行内块，既可以设置宽度和高度又不会独占一行</li>
</ul>
</li>
<li>title 将元素设置为一个表格</li>
<li>none 元素不在页面中显示</li>
</ul>
</li>
</ul>
</li>
<li>visibility用来设置元素的显示状态<ul>
<li>可选值：<ul>
<li>visible默认值，元素在页面中正常显示</li>
<li>hidden元素在页面中隐藏，不显示，但是依然占据页面的位置</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="9-盒子大小"><a href="#9-盒子大小" class="headerlink" title="9.盒子大小"></a>9.盒子大小</h4><p>默认情况下，盒子可见框的大小由内容区、内边距和边框共同决定</p>
<ul>
<li>box-sizing 用来设置盒子尺寸的计算方式（设置width和height 的作用)</li>
<li>可选值：<ul>
<li>content-box 默认值，宽度和高度用来设置内容区的大小</li>
<li>border-box 宽度和高度用来设置整个盒子可见框的大小<ul>
<li>width和height指的是内容区和内边距和边框的总大小</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="十六、浏览器的默认样式"><a href="#十六、浏览器的默认样式" class="headerlink" title="十六、浏览器的默认样式"></a>十六、浏览器的默认样式</h3><p>1.默认样式：</p>
<ul>
<li>通常情况，浏览器都会为元素设置一些默认样式</li>
<li>默认样式的存在会影响到页面的布局，通常情况下编写网页时必须要去除浏览器的默认样式（PC端）</li>
</ul>
<p>2.重叠样式表：专门用来对浏览器的样式进行重叠的</p>
<ul>
<li>reset.css 直接去除了浏览器的默认样式</li>
<li>nrmalize.css 对默认样式进行了统一</li>
</ul>
<h3 id="十七、轮廓阴影和圆角"><a href="#十七、轮廓阴影和圆角" class="headerlink" title="十七、轮廓阴影和圆角"></a>十七、轮廓阴影和圆角</h3><h4 id="1-outline"><a href="#1-outline" class="headerlink" title="1.outline"></a>1.outline</h4><p>用来设置元素</p>
<h4 id="2-border-shadow"><a href="#2-border-shadow" class="headerlink" title="2.border-shadow"></a>2.border-shadow</h4><h4 id="3-border-radius"><a href="#3-border-radius" class="headerlink" title="3.border-radius"></a>3.border-radius</h4><p>用来设置圆角 圆角设置的圆的半径大小</p>
<ul>
<li>border-top-left-radius</li>
<li>border-top-right-radius</li>
<li>border-bottom-left-radius</li>
<li>border-bottom-right-radius:50px 100px;</li>
<li>border-radius 可以分别指定四个角的圆角<ul>
<li>四个值：左上 右上 右下 左下</li>
<li>三个值：左上 右上/左下 右下</li>
<li>两个值：左上/右下 右上/左下</li>
</ul>
</li>
<li>椭圆<ul>
<li>border-radius:20px/40px</li>
</ul>
</li>
<li>将元素设置为一个圆形<ul>
<li>border-radius:50%</li>
</ul>
</li>
</ul>
<h3 id="十八、浮动"><a href="#十八、浮动" class="headerlink" title="十八、浮动"></a>十八、浮动</h3><h4 id="1-浮动的简介"><a href="#1-浮动的简介" class="headerlink" title="1.浮动的简介"></a>1.浮动的简介</h4><p>通过浮动可以使一个元素向其父元素的左侧或右侧移</p>
<p>（1）使用float属性来设置元素的浮动</p>
<p>可选值：</p>
<ul>
<li>none 默认值，元素不浮动</li>
<li>left 元素向左浮动</li>
<li>right 元素向右浮动</li>
</ul>
<p>（2）注意：元素设置浮动以后，水平布局的等式便不需要强制成立</p>
<p>元素设置浮动以后，会完全从文档流中脱离，不再占用文档流的位置，所以元素下边的还在文档流中的元素会自动向上移动</p>
<h4 id="2-浮动的特点"><a href="#2-浮动的特点" class="headerlink" title="2.浮动的特点"></a>2.浮动的特点</h4><p>（1）浮动元素会完全脱离文档流，不再占据文档流中的位置</p>
<p>（2）设置浮动以后元素会向父元素的左侧或右侧移动</p>
<p>（3）浮动元素默认不会从父元素中移出</p>
<p>（4）浮动元素向左或向右移动时，不会超过它前边的其他浮动元素</p>
<p>（5）如果浮动元素的上边是一个没有浮动的块元素，则浮动元素无法上移</p>
<p>（6）浮动元素不会超过它上边的浮动的兄弟元素，最多最多就是和它一样高</p>
<p>简单总结：浮动目前来讲它的主要作用就是让页面中的元素可以水平排列，通过浮动可以制作一些水平方向的布局</p>
<p>（7）浮动元素不会盖住文字，文字会自动环绕在浮动元素的周围，所以我们可以利用浮动来设置文字环绕图片的效果</p>
<p>（8）元素设置浮动以后，将会从文档流中脱离，从文档流中脱离后，元素的一些特点也会发生变化</p>
<p>脱离文档流的特点：</p>
<ul>
<li>块元素<ul>
<li>块元素不再独占页面的一行</li>
<li>脱离文档流以后，块元素的宽度和高度默认都被内容撑开</li>
</ul>
</li>
<li>行内元素<ul>
<li>行内元素脱离文档流以后会变成块元素，特点和块元素一样</li>
</ul>
</li>
<li>脱离文档流以后，不需要再区分块和行内了</li>
</ul>
<h3 id="十九、高度塌陷和BFC"><a href="#十九、高度塌陷和BFC" class="headerlink" title="十九、高度塌陷和BFC"></a>十九、高度塌陷和BFC</h3><h4 id="1-高度塌陷的问题："><a href="#1-高度塌陷的问题：" class="headerlink" title="1.高度塌陷的问题："></a>1.高度塌陷的问题：</h4><p>在浮动布局中，父元素的高度默认是被子元素撑开的，当子元素浮动后，其会完全脱离文档流，子元素从文档流中脱离将会无法撑起父元素的高度，导致父元素的高度丢失。父元素高度丢失以后u，其下的元素会自动上移，导致页面的布局混乱，所以高度塌陷是浮动布局中比较常见的一个问题，这个问题我们必须要进行处理</p>
<h4 id="2-BFC-Block-Formatting-Context-块级格式化环境"><a href="#2-BFC-Block-Formatting-Context-块级格式化环境" class="headerlink" title="2.BFC(Block Formatting Context) 块级格式化环境"></a>2.BFC(Block Formatting Context) 块级格式化环境</h4><ul>
<li>BFC是一个CSS中的一个隐含的属性，可以为一个元素开启BFC，开启BFC该元素会变成一个独立的布局区域</li>
<li>元素开启BFC后的特点：<ul>
<li>开启BFC的元素不会被浮动元素所覆盖</li>
<li>开启BFC的元素子元素和父元素外边距不会重叠</li>
<li>开启BFC的元素可以包含浮动的子元素</li>
</ul>
</li>
<li>可以通过一些特殊方式来开启元素的BFC<ul>
<li>设置元素的浮动（不推荐）</li>
<li>将元素设置为行内块元素（不推荐）</li>
<li>将元素的overflow设置为一个非visible的值<ul>
<li>常用的方式 为元素设置overflow:hidden 开启其BFC以使其可以包含浮动元素</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-高度塌陷最终解决方案"><a href="#3-高度塌陷最终解决方案" class="headerlink" title="3.高度塌陷最终解决方案"></a>3.高度塌陷最终解决方案</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>:<span class="number">10px</span> red solid;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:<span class="number">#bfa</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box3</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">clear</span>:both;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span><span class="selector-pseudo">::after</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">clear</span>:both;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>:block;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="二十、clear"><a href="#二十、clear" class="headerlink" title="二十、clear"></a>二十、clear</h3><p>如果我们不希望某个元素因为其他元素浮动的影响而改变位置，可以通过clear属性来清楚浮动元素对当前元素所产生的影响</p>
<p>作用：清除浮动元素对当前元素所产生的影响</p>
<p>可选值：</p>
<ul>
<li>left 清除左侧浮动元素对当前元素的影响</li>
<li>right 清除右侧浮动元素对当前元素的影响</li>
<li>both 清除两侧中最大影响的那侧</li>
</ul>
<p>原理：设置清除浮动以后，浏览器会自动为元素添加一个上外边距，以使其位置不受其他元素的印象影响</p>
<h3 id="二十一、clearfix"><a href="#二十一、clearfix" class="headerlink" title="二十一、clearfix"></a>二十一、clearfix</h3><p>这个样式可以同时解决高度塌陷和外边距重叠的问题</p>
<p>解决外边距重叠的问题：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span><span class="selector-pseudo">::before</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>:table;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:orange;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>同时解决</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:orange;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.clearfix</span><span class="selector-pseudo">::before</span>,</span></span><br><span class="line"><span class="css">    <span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">display</span>:table;</span></span><br><span class="line"><span class="css">        <span class="attribute">clear</span>:both</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1 clearfix&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="二十二、定位（position"><a href="#二十二、定位（position" class="headerlink" title="二十二、定位（position)"></a>二十二、定位（position)</h3><ul>
<li>定位是一种更加高级的布局手段</li>
<li>通过定位可以将元素摆放到页面的任意位置</li>
<li>使用position属性来设置定位</li>
<li>可选值<ul>
<li>static 默认值，元素是静止的没有开启定位</li>
<li>relative 开启元素的相对定位</li>
<li>absolute 开启元素的绝对定位</li>
<li>fixed 开启元素的固定定位</li>
<li>sticky 开元素的粘滞定位</li>
</ul>
</li>
</ul>
<h4 id="1-相对定位："><a href="#1-相对定位：" class="headerlink" title="1.相对定位："></a>1.相对定位：</h4><ul>
<li>当元素的position属性值设置为relative时则开起来元素的相对定位</li>
<li>相对定位的特点：<ul>
<li>元素开启相对定位以后，如果不设置偏移量元素不会发生任何的变化</li>
<li>相对定位是参照于元素在文档流中的位置进行定位的</li>
<li>相对定位会提升元素的层级</li>
<li>相对定位不会使元素脱离文档流</li>
<li>相对定位不会改变元素的性质块还是块，行内还是行内</li>
</ul>
</li>
</ul>
<h4 id="2-偏移量（offset）"><a href="#2-偏移量（offset）" class="headerlink" title="2.偏移量（offset）"></a>2.偏移量（offset）</h4><ul>
<li>当元素开启了定位以后，可以通过偏移量来设置元素的位置<ul>
<li>top<ul>
<li>定位元素和定位位置上边的距离</li>
</ul>
</li>
<li>bottom<ul>
<li>定位元素和定位位置下边的距离</li>
<li>定位元素垂直方向的位置由top和bottom两个属性来控制，通常情况下我们只会使用其中一个</li>
<li>top值越大，定位元素越向下移动</li>
<li>bottom值越大，定位元素越向上移动</li>
</ul>
</li>
<li>left<ul>
<li>定位元素和定位位置的左侧距离</li>
</ul>
</li>
<li>right<ul>
<li>定位元素和定位位置的右侧距离</li>
<li>定位元素水平方向的位置由left和right两个属性控制，通常情况下我们只会使用其中一个</li>
<li>left越大元素越靠右</li>
<li>right越大元素越靠左</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="3-绝对定位"><a href="#3-绝对定位" class="headerlink" title="3.绝对定位"></a>3.绝对定位</h4><p>当元素的position属性值为absolute时，则开启了元素的绝对定位</p>
<p>绝对定位的特点：</p>
<ul>
<li>开启绝对定位后，如果不设置偏移量元素的位置不会发生变化</li>
<li>开启绝对定位后，元素会从文档流中脱离</li>
<li>绝对定位会改变元素的性质，行内变成块，块的宽高被内容撑开</li>
<li>绝对定位会使元素提升一个层级</li>
<li>绝对定位元素是相对于其包含块进行定位的</li>
</ul>
<p>包含块（containing block）</p>
<ul>
<li>正常情况下：<ul>
<li>包含块就是离它最近的开启了定位的祖先元素，如果所有的祖先元素都没有开启定位则根元素就是它的包含块</li>
</ul>
</li>
<li>绝对定位的包含块<ul>
<li>包含块就是离它最近的开启了定位祖先元素，如果所有的祖先元素都没有开启定位则根元素就是它的包含块</li>
</ul>
</li>
<li>html(根元素、初始包含块)</li>
</ul>
<p>当我们开启了绝对定位后：</p>
<ul>
<li>水平方向的布局等式就需要添加left和right两个值，此时规则和之前一样只是多添加了两个值，当发生过度约束：<ul>
<li>如果9个值中没有auto则自动调整right值以使等式满足</li>
<li>如果有auto，则自动调整auto的值以使等式满足 </li>
<li>可设置auto的值<ul>
<li>margin width left right</li>
</ul>
</li>
<li>因为left和right的值默认是auto，所以如果不知道left和right，则等适合不满足时，会自动调整这两个值</li>
</ul>
</li>
<li>垂直方向布局的等式也必须要满足，再加上top+bottom</li>
</ul>
<h4 id="4-固定定位"><a href="#4-固定定位" class="headerlink" title="4.固定定位"></a>4.固定定位</h4><ul>
<li>将元素的position属性设置为fixed则开启了元素的固定定位</li>
<li>固定定位也是一种绝对定位，所以固定定位的大部分特点都和绝对定位一样，唯一不同的是固定定位永远参照于浏览器的视口进行定位，固定定位的元素不会随网页的滚动条滚动</li>
</ul>
<h4 id="5-粘滞定位"><a href="#5-粘滞定位" class="headerlink" title="5.粘滞定位"></a>5.粘滞定位</h4><ul>
<li>当元素的position属性设置为sticky时则开启了元素的粘滞定位</li>
<li>粘滞定位和相对定位的特点基本一致<ul>
<li>不同的是粘滞定位可以在元素到达某个位置时将其固定</li>
</ul>
</li>
</ul>
<h2 id="二十三、元素的层级"><a href="#二十三、元素的层级" class="headerlink" title="二十三、元素的层级"></a>二十三、元素的层级</h2><p>对于开启了定位元素，可以通过<strong>z-index</strong>属性来指定元素的层级,<strong>z-index</strong>需要一个整数作为参数，值越大元素的层级越高，元素的层级越高越优先显示</p>
<ul>
<li>如果元素的层级一样，则优先实现靠下的元素</li>
<li>祖先的元素的层级再高也不会盖住后代元素</li>
</ul>
<h2 id="二十四、字体族"><a href="#二十四、字体族" class="headerlink" title="二十四、字体族"></a>二十四、字体族</h2><h3 id="1-字体相关的样式"><a href="#1-字体相关的样式" class="headerlink" title="1.字体相关的样式"></a>1.字体相关的样式</h3><ul>
<li>color 用来设置字体颜色</li>
<li>font-size 字体的大小<ul>
<li>和font-size相关的单位</li>
<li>em相当于当前元素的一个font-size</li>
<li>rem相对于根元素的一个font-size</li>
</ul>
</li>
<li>font-family字体族（字体的格式）<ul>
<li>可选值：（代表字体的类别）<ul>
<li>serif     衬线字体</li>
<li>sans-serif  非衬线字体</li>
<li>monospace 等宽字体</li>
</ul>
</li>
<li>指定字体的类别，浏览器会自动使用该类别下的字体，会有兼容性的问题</li>
<li>font-family可以同时指定多个字体，多个字体间使用,隔开，字体生效时优先使用第一个，第一个无法使用则使用第二个，以此类推</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;!--<span class="attribute">font</span>-face可以将服务器中的字体直接提供给用户使用--&gt;</span><br><span class="line"><span class="keyword">@font-face</span>&#123;</span><br><span class="line">	<span class="comment">/*指定字体的名字*/</span></span><br><span class="line">	<span class="attribute">font-family</span>:<span class="string">&#x27;myfont&#x27;</span>;</span><br><span class="line">	<span class="comment">/*服务器中字体的路径*/</span></span><br><span class="line">	<span class="attribute">src</span>:<span class="built_in">url</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>font-face的问题<ul>
<li>加载速度</li>
<li>版权</li>
</ul>
</li>
</ul>
<h3 id="2-图标字体（iconfont）"><a href="#2-图标字体（iconfont）" class="headerlink" title="2.图标字体（iconfont）"></a>2.图标字体（iconfont）</h3><ul>
<li>在网页中经常需要使用一些图标，可以通过图片来引入图标，但是图片大小本身比较大，并且非常的不灵活</li>
<li>所以在使用图标时，我们还可以将图标直接设置为字体，然后通过font-face的形式来对字体进行引入</li>
<li>这样我们就可以通过使用字体的形式来使用图标</li>
<li>font awesome使用步骤<ul>
<li>下载<a href="https://fontawesome.com/">https://fontawesome.com</a></li>
<li>解压</li>
<li>将css和webfonts移动到项目中</li>
<li>将all.css引入到网页中</li>
<li>使用图标字体<ul>
<li>直接通过类名来使用图标字体<ul>
<li>class=”fas fa-bell”</li>
<li>class=”fab fa-acessible”</li>
<li>不是fas就是fab，后面的是要用的图标</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>优点：可以改变大小，颜色</li>
</ul>
<p>（2）通过伪元素来设置图标字体</p>
<ul>
<li>找到要设置图标的元素通过before或after</li>
<li>在content中设置字体的编码</li>
<li>设置字体的样式<ul>
<li>fab<ul>
<li>font-family:’font awesome 5 brands’</li>
</ul>
</li>
<li>fas<ul>
<li>font-family:’font awesome 5 free’</li>
<li>font-weight:800;</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>（2）通过实体来使用图标字体，&amp;#x图标的编码</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;fas&quot;</span>&gt;</span><span class="symbol">&amp;#xf0f3;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-行高"><a href="#3-行高" class="headerlink" title="3.行高"></a>3.行高</h3><p>（1）可以将行高设置为和高度一样的值，使单行文字在一个元素中垂直居中</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">line-height:200px;</span><br></pre></td></tr></table></figure>

<p>(2)行高指的是文字占有的实际高度</p>
<p>可以通过line-height来设置行高</p>
<ul>
<li>行高可以直接指定一个大小（px em）</li>
<li>也可以直接为行高设置一个整数<ul>
<li>如果是一个整数的话，行高将会是字体的指定的倍数</li>
</ul>
</li>
<li>行高经常还用来设置文字的行间距<ul>
<li>行间距=行高-字体大小</li>
</ul>
</li>
</ul>
<p>（3）字体框</p>
<p>字体存在的各自，设置font-size实际上就是在设置字体框的高度</p>
<p>行高会在字体框的上下平均分配</p>
<h3 id="4-字体的简写属性"><a href="#4-字体的简写属性" class="headerlink" title="4.字体的简写属性"></a>4.字体的简写属性</h3><p>font 可以设置字体相关的所有属性</p>
<p>语法：</p>
<ul>
<li>font :字体代销/行高 字体族<ul>
<li>行高可以省略不写 如果不写使用默认值</li>
</ul>
</li>
</ul>
<p>font-weight 字重 字体的加粗</p>
<p>可选值：</p>
<ul>
<li>normal 默认值 不加粗</li>
<li>bold 加粗</li>
<li>100-900 九个级别（没什么用）</li>
</ul>
<p>font-style 字体的风格</p>
<ul>
<li>normal 正常的</li>
<li>italic 斜体</li>
</ul>
<h3 id="5-文本的水平和垂直水平"><a href="#5-文本的水平和垂直水平" class="headerlink" title="5.文本的水平和垂直水平"></a>5.文本的水平和垂直水平</h3><p>（1）text-align 文本的水平对齐</p>
<p>可选值：</p>
<ul>
<li>left 左侧对齐</li>
<li>right 右对齐</li>
<li>center 居中对齐</li>
<li>justify 两端对齐</li>
</ul>
<p>（2）vertical-align设置元素垂直对齐的方式</p>
<p>可选值：</p>
<ul>
<li>baseline 默认值 基线对齐</li>
<li>top 顶部对齐</li>
<li>bottom 底部对齐</li>
<li>middle 居中对齐</li>
</ul>
<h3 id="6-其他的文本样式"><a href="#6-其他的文本样式" class="headerlink" title="6.其他的文本样式"></a>6.其他的文本样式</h3><p>（1）text-decoration 设置文本修饰</p>
<p>可选值：</p>
<ul>
<li>none 什么都没有</li>
<li>underline 下划线</li>
<li>line-through 删除线</li>
<li>overline 上划线</li>
</ul>
<p>（2）white-space 设置网页如何处理空白</p>
<p>可选值：</p>
<ul>
<li>normal 正常</li>
<li>nowrap 不换行</li>
<li>pre 保留空白</li>
</ul>
<h2 id="二十五、animation"><a href="#二十五、animation" class="headerlink" title="二十五、animation"></a>二十五、animation</h2><h3 id="1-过渡（transition）"><a href="#1-过渡（transition）" class="headerlink" title="1.过渡（transition）"></a>1.过渡（transition）</h3><p>通过过渡可以制定一个属性发生变化时的切换方式</p>
<p>通过过渡可以创建一些非常好的溪小果，提升用户的体验</p>
<p>属性：</p>
<ul>
<li>transition-property:指定要执行过渡的属性<ul>
<li>多个属性间使用,隔开</li>
<li>如果所有属性都需要过渡，则使用all关键字</li>
<li>大部分属性都支持过渡效果（可计算的），注意过渡时必须是从一个有效数值向另外一个有效数值进行过渡</li>
<li>transition-property:width,height</li>
</ul>
</li>
<li>transition-duration：指定执行过渡效果的持续事件<ul>
<li>时间单位:s和ms   1s=1000ms</li>
<li>transition-duration:100ms</li>
</ul>
</li>
<li>transition-timing-function:过渡的时序函数<ul>
<li>指定动画过渡的执行的方式</li>
<li>可选值<ul>
<li>ease 默认值，慢速开始，先加速，再减速</li>
<li>linear 匀速运动</li>
<li>ease-in 加速运动</li>
<li>ease-out 减速运动</li>
<li>ease-in-out 先加速后减速</li>
<li>cubic-bezier(.25,.1,.25,1) 来指定时序函数（<a href="https://cubic-bezier.com)/">https://cubic-bezier.com）</a></li>
<li>steps(2,end) 分步执行过渡效果，2表示间断地跳转需要2步的操作，end是默认值，表示1秒数完再动，如果是start就一开始就动。end 在时间结束时执行过渡（默认值），start，在时间开始时执行过渡</li>
</ul>
</li>
<li>transition-timing-function:ease</li>
</ul>
</li>
<li>transition-delay：过渡效果的延迟，等待一段时间后再执行过渡<ul>
<li>transition-delay:2s</li>
</ul>
</li>
<li>transition 可以同时设置过渡相关的所有属性，只有一个要求，如果要写延迟，则两个时间中第一个是持续时间，第二个是延迟时间<ul>
<li>transition:2s margin-left 2s;</li>
</ul>
</li>
</ul>
<p>练习：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>:<span class="number">271px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>:<span class="number">132px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>:<span class="number">0</span> auto;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;./img/bigtap-mitu-queue-big.png&quot;</span>);</span></span><br><span class="line"><span class="css">            <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">transition</span>: <span class="number">1s</span> <span class="built_in">steps</span>(<span class="number">3</span>);</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.box1</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-position</span>:-<span class="number">396px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="css">        &#125;</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-动画（animation）"><a href="#2-动画（animation）" class="headerlink" title="2.动画（animation）"></a>2.动画（animation）</h3><p>与过渡类似，都是可以实现一些动态的效果，不同的是过渡需要在某个属性发生变化时才会触发，动画可以<strong>自动触发动态效果</strong></p>
<p>设置动画效果，必须先要设置一个关键帧，关键帧设置了动画执行每一个步骤</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> test&#123;</span><br><span class="line">    <span class="comment">/*from 表示动画的开始位置，也可以使用 0%*/</span></span><br><span class="line">    <span class="selector-tag">from</span>&#123;</span><br><span class="line">        <span class="attribute">margin-left</span>:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*to 动画的结束位置，也可以使用100%*/</span></span><br><span class="line">    <span class="selector-tag">to</span>&#123;</span><br><span class="line">        <span class="attribute">margin-left</span>:<span class="number">700px</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后引用</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box2</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#bfa</span>;</span><br><span class="line">    <span class="comment">/*设置box2动画*/</span></span><br><span class="line">    <span class="comment">/*animation-name:要对当前元素生效的关键帧的名字*/</span></span><br><span class="line">    <span class="attribute">animation-name</span>:test;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*animation-duration:动画的执行时间*/</span></span><br><span class="line">    <span class="attribute">animation-duration</span>:<span class="number">4s</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*动画延时*/</span></span><br><span class="line">    <span class="attribute">animation-delay</span>:<span class="number">1s</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="attribute">animation-timing-function</span>:ease-in-out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相比于transition多出来的属性如下</p>
<ul>
<li>animation-iteration-count:动画执行的次数<ul>
<li>可选值：<ul>
<li>次数 1,2,3</li>
<li>inifinite 无限执行</li>
</ul>
</li>
<li>animation-iteration-count:1</li>
<li>animation-iteration-count:infinite</li>
</ul>
</li>
<li>animation-direction:指定动画运行的方向<ul>
<li>可选值：<ul>
<li>normal 默认值 从from向to运行 每次都这样</li>
<li>reverse 从to向from运行 ，每次都这样</li>
<li>alternate 从from向to运行 重复执行动画时反向执行</li>
<li>alternate-reverse 从to向from运行 重复执行动画时反向执行</li>
</ul>
</li>
</ul>
</li>
<li>animation-play-state:设置动画的执行状态<ul>
<li>可选值;<ul>
<li>running 默认值 动画执行</li>
<li>paused 动画暂停</li>
</ul>
</li>
</ul>
</li>
<li>animation-fill-mode:动画的填充模式<ul>
<li>可选值：<ul>
<li>none 默认值 动画执行完毕元素回到原来位置</li>
<li>forwards 动画执行完毕元素会停止在动画结束的位置</li>
<li>backwards 动画延时等待时，元素就会处于开始位置</li>
<li>both  结合了forwards和backwards</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-变形（transform）"><a href="#3-变形（transform）" class="headerlink" title="3.变形（transform）"></a>3.变形（transform）</h3><p>指通过CSS来改变元素的形状或位置</p>
<ul>
<li>变形不会影响到页面的布局</li>
<li>transform用来设置元素的变形效果</li>
</ul>
<h4 id="（1）平移"><a href="#（1）平移" class="headerlink" title="（1）平移"></a>（1）平移</h4><ul>
<li>translateX() 沿着x轴方向平移</li>
<li>translateY() 沿着y轴方向平移<ul>
<li>平移元素，百分比是相对于自身计算的</li>
</ul>
</li>
<li>translateZ() 沿着z轴方向平移</li>
<li>z轴平移，调整元素在z轴的位置，正常情况就是调凭证元素和人眼之间的距离，距离越大，元素离人越近</li>
<li>z轴平移属于立体效果（近大远小），默认情况下网页是不支持透视，如果需要看见效果必须设置网页的视距</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="comment">/*设置当前网页的视距为800px，人眼距离网页的距离*/</span></span><br><span class="line">    <span class="attribute">perspective</span>:<span class="number">800px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（2）旋转"><a href="#（2）旋转" class="headerlink" title="（2）旋转"></a>（2）旋转</h4><p>通过旋转可以使元素沿着x,y或z旋转指定的角度</p>
<ul>
<li>rotateX()</li>
<li>rotateY()</li>
<li>rotateZ()</li>
</ul>
<p>里面的参数可以写90deg（90度），1turn（一圈，即360度）</p>
<p>还有一个就是backface-visibility:visible(默认值)，hidden的话就隐藏，它的作用就是是否显示元素的背面</p>
<p>上面想要有效果的话，就要添加视距哦</p>
<h4 id="（3）缩放"><a href="#（3）缩放" class="headerlink" title="（3）缩放"></a>（3）缩放</h4><p>对元素进行缩放的函数</p>
<ul>
<li>scaleX() 水平方向缩放</li>
<li>scaleY() 垂直方向缩放</li>
<li>scale() 双方向缩放</li>
</ul>
<p>变形的原点 默认值 center</p>
<ul>
<li>transform-origin:20px 20px</li>
</ul>
<h2 id="二十六、less"><a href="#二十六、less" class="headerlink" title="二十六、less"></a>二十六、less</h2><h3 id="1-less简介"><a href="#1-less简介" class="headerlink" title="1.less简介"></a>1.less简介</h3><p>vscode中安装插件easy less</p>
<p>是一门css的预处理语言，less是一个css增强版，通过less可以编写更少的代码，实现更强大的样式</p>
<p>在less中添加了许多的新特性：像对变量的支持、对mixin的支持</p>
<p>less的语法大体上和css语法一致，但是less中增添了许多对css的扩展，所以浏览器无法直接执行less代码，要执行必须向将less转换为css，然后再有浏览器执行</p>
<p>原生的css也支持，但是它的兼容性不好</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/*css原生也支持变量的设置*/</span></span></span><br><span class="line"><span class="css">        --<span class="attribute">color</span>:<span class="number">#bfa</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>: <span class="built_in">var</span>(--color);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>:<span class="built_in">var</span>(--color);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box3</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">border</span>:<span class="number">10px</span> solid <span class="built_in">var</span>(--color);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-less中的变量"><a href="#2-less中的变量" class="headerlink" title="2.less中的变量"></a>2.less中的变量</h3><p>要使在其中生效，要引入.css</p>
<p>less文件中</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">//less中单行注释，注释中的内容不会被解析到css中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">less中的多行注释，内容会被解析到css文件中</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.box1</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#bfa</span>;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.box2</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:<span class="number">#ff0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.box3</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:orange;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//变量，在变量中可以存储一个任意的值</span></span><br><span class="line"><span class="comment">//并且我们可以在需要时，任意的修改变量中的值</span></span><br><span class="line"><span class="comment">//变量的语法：@变量名</span></span><br><span class="line"><span class="variable">@a:</span><span class="number">100px</span>;</span><br><span class="line"><span class="variable">@b:</span><span class="number">#bfa</span>;</span><br><span class="line"><span class="variable">@c:</span>box6;</span><br><span class="line"><span class="selector-class">.box5</span>&#123;</span><br><span class="line">    <span class="comment">//使用变量时，如果是直接使用则以@变量名 的形式使用即可</span></span><br><span class="line">    <span class="attribute">width</span>:<span class="variable">@a</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="variable">@b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//作为类名，或者一部分值使用时必须以@&#123;变量名&#125; 的形式使用</span></span><br><span class="line"><span class="selector-class">.@&#123;c&#125;</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="variable">@a</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">&quot;@&#123;c&#125;/1.png&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">@d:</span><span class="number">200px</span>;</span><br><span class="line"><span class="variable">@d:</span><span class="number">300px</span>;</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="comment">//变量发生重名时，会优先使用比较近的变量</span></span><br><span class="line">    <span class="variable">@d:</span><span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="variable">@d</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="variable">@e</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以在变量声明前就使用变量</span></span><br><span class="line"><span class="variable">@e:</span><span class="number">335px</span>;</span><br></pre></td></tr></table></figure>

<p>转换成的css文件</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">less中的多行注释，内容会被解析到css文件中</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span> <span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span> <span class="selector-class">.box3</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box5</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box6</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;box6/1.png&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">335px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-父元素和扩展"><a href="#3-父元素和扩展" class="headerlink" title="3.父元素和扩展"></a>3.父元素和扩展</h3><p>less文件中</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box1</span>&#123;</span><br><span class="line">    <span class="selector-class">.box2</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">    &gt;<span class="selector-class">.box3</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:red;</span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">            <span class="attribute">color</span>:orange;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//为box1设置一个hover</span></span><br><span class="line">    <span class="comment">//&amp;就表示外层的父元素</span></span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">        <span class="attribute">color</span>:orange;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.p1</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//p2对p1元素扩展</span></span><br><span class="line"><span class="comment">//:extend()对当前选择器扩展指定选择器的样式（选择器分组）</span></span><br><span class="line"><span class="selector-class">.p2</span>:<span class="selector-tag">extend</span>(.p1)&#123;</span><br><span class="line">    <span class="attribute">color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不建议用，相当于复制</span></span><br><span class="line"><span class="selector-class">.p3</span>&#123;</span><br><span class="line">    <span class="comment">//直接对指定的样式进行引用，这里就相当于将p1的样式进行了赋值</span></span><br><span class="line">    <span class="comment">//mixin混合</span></span><br><span class="line">    <span class="selector-class">.p1</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//只是给别人引用，自己本身没有作用</span></span><br><span class="line"><span class="comment">//使用类选择器时可以在选择器后边添加一个括号，这时我们实际上就创建了一个minxins</span></span><br><span class="line"><span class="selector-class">.p4</span>()&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.p5</span>&#123;</span><br><span class="line">    <span class="selector-class">.p4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>转换为css文件</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box1</span> <span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span> &gt; <span class="selector-class">.box3</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span> &gt; <span class="selector-class">.box3</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.p1</span>,</span><br><span class="line"><span class="selector-class">.p2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.p2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.p3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.p5</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-混合函数"><a href="#4-混合函数" class="headerlink" title="4.混合函数"></a>4.混合函数</h3><p>less文件中的</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">//混合函数 在混合函数中可以直接设置变量</span></span><br><span class="line"><span class="selector-class">.test</span>(<span class="variable">@w</span>:<span class="number">100px</span>,<span class="variable">@h</span>:<span class="number">200px</span>,<span class="variable">@bg-color</span>:red)&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="variable">@w</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="variable">@h</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="variable">@bg-color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="comment">//调用混合函数，按顺序传递参数</span></span><br><span class="line">    <span class="comment">// .test(200px,300px,#bfa);</span></span><br><span class="line">    <span class="comment">// .test(300px)</span></span><br><span class="line">    <span class="selector-class">.test</span>(<span class="variable">@bg-color</span>:red,<span class="variable">@h</span>:<span class="number">100px</span>,<span class="variable">@w</span>:<span class="number">300px</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:average(red,blue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:darken(<span class="number">#bfa</span>,<span class="number">20%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>转换成css</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#800080</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#69ff44</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-less补充知识"><a href="#5-less补充知识" class="headerlink" title="5.less补充知识"></a>5.less补充知识</h3><p>less中的文件</p>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">//可以通过imoprt来将其他的less引入到当前的less中</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;xxxx.less&quot;</span>;</span><br><span class="line"><span class="selector-class">.box1</span>&#123;</span><br><span class="line">    <span class="comment">//在less中所有的数值都可以直接进行运算</span></span><br><span class="line">    <span class="comment">//+ - *</span></span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>+<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100px</span>/<span class="number">2</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>转换成的css文件</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>/<span class="number">2</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#bfa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*# sourceMappingURL=./style.css.map */</span></span><br></pre></td></tr></table></figure>

<p>在扩展插件中添加定位less文件的操作如下</p>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/14.png"></p>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/15.png"></p>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/16.png"></p>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/17.png"></p>
<h2 id="二十七、弹性盒"><a href="#二十七、弹性盒" class="headerlink" title="二十七、弹性盒"></a>二十七、弹性盒</h2><h3 id="1-flex（弹性盒、伸缩盒）"><a href="#1-flex（弹性盒、伸缩盒）" class="headerlink" title="1.flex（弹性盒、伸缩盒）"></a>1.flex（弹性盒、伸缩盒）</h3><ul>
<li><p>是CSS中的又一种布局手段，它主要用来代替浮动来完成页面的布局</p>
</li>
<li><p>flex可以使元素具有弹性，让元素可以跟随页面的大小的改变而改变</p>
</li>
</ul>
<h4 id="（1）弹性容器"><a href="#（1）弹性容器" class="headerlink" title="（1）弹性容器"></a>（1）弹性容器</h4><ul>
<li>要使用弹性盒，必须先将一个元素设置为弹性容器</li>
<li>我们通过display来设置弹性容器<ul>
<li>display:flex 设置为块级弹性容器</li>
<li>display:inline-flex 设置为行内的弹性容器</li>
</ul>
</li>
</ul>
<h4 id="（2）弹性元素"><a href="#（2）弹性元素" class="headerlink" title="（2）弹性元素"></a>（2）弹性元素</h4><ul>
<li>弹性容器的子元素是弹性元素（弹性项）</li>
<li>一个元素可以同时是弹性容器和弹性元素</li>
</ul>
<h4 id="（3）弹性元素flex-direction"><a href="#（3）弹性元素flex-direction" class="headerlink" title="（3）弹性元素flex-direction"></a>（3）弹性元素flex-direction</h4><h5 id="指定容器中弹性元素的排列方式"><a href="#指定容器中弹性元素的排列方式" class="headerlink" title="指定容器中弹性元素的排列方式"></a>指定容器中弹性元素的排列方式</h5><p>可选值：</p>
<ul>
<li>row 默认值，弹性元素在容器中水平排列(左向右)<ul>
<li>主轴自左向右</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.png"></p>
<ul>
<li>row-reverse 弹性元素在容器中反向水平排列（右向左）<ul>
<li>主轴自右向左</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2.png"></p>
<ul>
<li>column 弹性元素纵向排列（自上向下）<ul>
<li>主轴自上向下</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/3.png"></p>
<ul>
<li>column 弹性元素纵向排列（自下向上）<ul>
<li>主轴自下向上</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4.png"></p>
<p>主轴：</p>
<ul>
<li>弹性元素的排列方向称为主轴</li>
</ul>
<p>侧轴：</p>
<ul>
<li>与主轴垂直方向的称为主轴</li>
</ul>
<h4 id="（4）弹性元素的属性"><a href="#（4）弹性元素的属性" class="headerlink" title="（4）弹性元素的属性"></a>（4）弹性元素的属性</h4><ul>
<li><h5 id="flex-grow-指定弹性元素的伸展的系数"><a href="#flex-grow-指定弹性元素的伸展的系数" class="headerlink" title="flex-grow 指定弹性元素的伸展的系数"></a>flex-grow 指定弹性元素的伸展的系数</h5><ul>
<li>当父元素有多余的空间时，子元素如何伸展</li>
<li>父元素的剩余空间，会按照比例进行分配</li>
<li>值越大增长越多</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/5.png"></p>
<ul>
<li><h5 id="flex-shrink-指定弹性元素的收缩系数"><a href="#flex-shrink-指定弹性元素的收缩系数" class="headerlink" title="flex-shrink 指定弹性元素的收缩系数"></a>flex-shrink 指定弹性元素的收缩系数</h5><ul>
<li>当父元素中的空间不足以容纳所有的子元素时，如果对子元素进行收缩</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/6.png"></p>
<h3 id="2-弹性容器上的样式"><a href="#2-弹性容器上的样式" class="headerlink" title="2.弹性容器上的样式"></a>2.弹性容器上的样式</h3><h4 id="（1）flex-wrap"><a href="#（1）flex-wrap" class="headerlink" title="（1）flex-wrap"></a>（1）flex-wrap</h4><p>设置弹性元素是否在弹性容器中自动换行</p>
<p>可选值：</p>
<ul>
<li>nowrap 默认值，元素不会自动换行</li>
<li>wrap 元素沿着辅轴方向自动换行</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/7.png"></p>
<ul>
<li>wrap-reverse 元素沿着辅轴反方向换行</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/8.png"></p>
<h4 id="（2）flex-flow"><a href="#（2）flex-flow" class="headerlink" title="（2）flex-flow"></a>（2）flex-flow</h4><p>wrap和direction的简写属性</p>
<p>flex-flow:row wrap</p>
<h4 id="（3）justify-content"><a href="#（3）justify-content" class="headerlink" title="（3）justify-content"></a>（3）justify-content</h4><p>如何分配主轴上的空白空间（主轴上的元素如何排列）</p>
<p>可选值：</p>
<ul>
<li>flex-start 元素沿着主轴起边排列</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/1.png"></p>
<ul>
<li>flex-end 元素沿着主轴终边排列</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/9.png"></p>
<ul>
<li>center 元素居中排列</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/10.png"></p>
<ul>
<li>space-around 空白分布到元素两侧</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/11.png"></p>
<ul>
<li>space-between 空白均匀分布到元素间</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/12.png"></p>
<ul>
<li>space-evenly 空白分布到元素的单侧（有浏览器兼容性问题）</li>
</ul>
<p><img src="/2021/09/02/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/13.png"></p>
<h4 id="（4）align-items"><a href="#（4）align-items" class="headerlink" title="（4）align-items"></a>（4）align-items</h4><p>元素在辅轴上如何对齐</p>
<p>元素间的关系：</p>
<p>可选值：</p>
<ul>
<li>stretch 默认值，将元素的长度设置为相同的值</li>
<li>flex-start 元素不会拉伸，沿着辅轴起边对其</li>
<li>flex-end 沿着辅轴的终边对齐</li>
<li>center 居中对齐</li>
<li>baseline 基线对齐（沿着文字的基线）</li>
</ul>
<p>在弹性盒子中实现居中的方式：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">justify-content:center;</span><br><span class="line">align-items:center;</span><br></pre></td></tr></table></figure>

<h4 id="（5）align-content"><a href="#（5）align-content" class="headerlink" title="（5）align-content"></a>（5）align-content</h4><p>辅轴空白空间的分布</p>
<p>属性与justify-content一样的</p>
<h3 id="3-弹性元素上的样式"><a href="#3-弹性元素上的样式" class="headerlink" title="3.弹性元素上的样式"></a>3.弹性元素上的样式</h3><h4 id="（1）align-self"><a href="#（1）align-self" class="headerlink" title="（1）align-self"></a>（1）align-self</h4><p>用来覆盖当前弹性元素上的align-items</p>
<h4 id="（2）弹性元素的增长系数"><a href="#（2）弹性元素的增长系数" class="headerlink" title="（2）弹性元素的增长系数"></a>（2）弹性元素的增长系数</h4><p>flex-grow:1</p>
<p>（3）弹性元素的缩减系数</p>
<ul>
<li>缩减系数的计算方式比较复杂</li>
<li>缩减多少是根据缩减系数和元素大小来计算</li>
</ul>
<p>flex-shrink:1</p>
<h4 id="（4）元素基础长度-flex-basis"><a href="#（4）元素基础长度-flex-basis" class="headerlink" title="（4）元素基础长度 flex-basis"></a>（4）元素基础长度 flex-basis</h4><p>指定的是元素在主轴上的基础长度</p>
<p>如果主轴是横向的，则该值指定的就是元素的宽度</p>
<p>如果主轴是纵向的，则该值指定的就是元素的高度</p>
<ul>
<li>默认值是auto，表示参考元素自身的高度或宽度</li>
<li>如果传递了一个具体的数值，则以该值为准</li>
</ul>
<p>flex-basis:100px;</p>
<h4 id="（5）flex可以设置弹性元素所有的三个样式"><a href="#（5）flex可以设置弹性元素所有的三个样式" class="headerlink" title="（5）flex可以设置弹性元素所有的三个样式"></a>（5）flex可以设置弹性元素所有的三个样式</h4><p>flex 增长 缩减 基础</p>
<p>initial “ flex:0 1 auto”</p>
<p>auto “flex:1 1 auto”</p>
<p>none” flex:0 0 auto”弹性元素没有弹性</p>
<h4 id="（6）order决定弹性元素的排列顺序"><a href="#（6）order决定弹性元素的排列顺序" class="headerlink" title="（6）order决定弹性元素的排列顺序"></a>（6）order决定弹性元素的排列顺序</h4><h3 id="4-像素"><a href="#4-像素" class="headerlink" title="4.像素"></a>4.像素</h3><ul>
<li><p>屏幕是由一个一个发光的小点构成的，这一个个的小点就是像素</p>
</li>
<li><p>分辨率：1920x1080 说的就是屏幕中小点的数量</p>
</li>
</ul>
<h4 id="（1）在前端开发中像素分成两种情况讨论"><a href="#（1）在前端开发中像素分成两种情况讨论" class="headerlink" title="（1）在前端开发中像素分成两种情况讨论"></a>（1）在前端开发中像素分成两种情况讨论</h4><ul>
<li>物理像素：上述所说的小点点就属于物理像素</li>
<li>CSS像素：编写网页时，我们所用像素都是CSS像素<ul>
<li>浏览器在显示网页时，需要将CSS像素转换为物理像素然后再呈现</li>
<li>一个CSS像素最终由几个物理像素显示，由浏览器决定，默认情况下，在PC端，一个CSS像素等于一个物理像素</li>
</ul>
</li>
</ul>
<h3 id="5-视口（viewport）"><a href="#5-视口（viewport）" class="headerlink" title="5.视口（viewport）"></a>5.视口（viewport）</h3><ul>
<li><p>视口就是屏幕中用来显示网页的区域</p>
</li>
<li><p>可以通过查看视口的大小，来观察CSS像素和物理像素的比值</p>
</li>
<li><p>默认情况下：</p>
<ul>
<li><p>视口宽度 1920px (像素)</p>
<p>​                1920px(物理)</p>
</li>
<li><p>此时，css像素和物理像素的比是1:1</p>
</li>
</ul>
</li>
<li><p>放大两倍的情况：</p>
<ul>
<li>视口宽度 960px(css像素)</li>
</ul>
<p>​                1920px(物理像素)</p>
<ul>
<li>此时，css像素和物理像素的比是1:2</li>
</ul>
</li>
<li><p>我们可以通过改变视口的大小，来改变CSS像素和物理像素的比值</p>
</li>
</ul>
<h3 id="6-移动端"><a href="#6-移动端" class="headerlink" title="6.移动端"></a>6.移动端</h3><p>在不同的屏幕，单位像素的大小是不同的，像素越小屏幕会越清晰</p>
<ul>
<li>24寸 1920x1080</li>
<li>16   4.7寸  750x1334</li>
</ul>
<p>查看手机分辨率：<a href="https://material.io/resources/devices/">https://material.io/resources/devices/</a></p>
<p>智能手机的像素点远远小于计算机的像素点</p>
<p>问题：一个宽度为900px的网页在iphone6中要如何显示呢？</p>
<ul>
<li>默认情况下，移动端的网页都会将视口设置为980像素（css像素），以确保pc端网页可以在移动端正常访问，但是如果网页的宽度超过了980，移动端的浏览器会自动对网页缩放以完整地显示网页</li>
</ul>
<p>所以基本大部分的pc端网站都可以在移动端中正常浏览，但是往往都不会有一个好的体验，为了解决这个问题，大部分网站都会专门为移动端设计网页</p>
<h3 id="7-完美视口"><a href="#7-完美视口" class="headerlink" title="7.完美视口"></a>7.完美视口</h3><p>移动端默认的视口大小是980px（css像素），默认情况下，移动端的像素比就是980/移动端宽度，如果我们直接在网页中编写移动端代码，这样在980的视口下，像素比是非常不好，导致网页中的内容非常非常小</p>
<p>编写移动端页面，必须要确保有一个比较合理的像素比：</p>
<ul>
<li>1css像素 对应 2个物理像素</li>
<li>2css像素 对应 3个物理像素</li>
</ul>
<p>可以通过meta标签来设置视口大小</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=375px&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>每一款移动设备设计时，都会有一个最佳的像素比，一般我们只需要将像素比设置为该值即可得到一个最佳效果</p>
<p>将像素比设置为最佳像素比的视口大小我们称为完美视口（像素比1:2）</p>
<p>设置视口大小，device-width表示设备的宽度（完美视口）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将网页的视口设置为完美视口</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="8-vw单位"><a href="#8-vw单位" class="headerlink" title="8.vw单位"></a>8.vw单位</h3><p>不同的设备完美视口的大小是不一样的</p>
<ul>
<li>iphone6 – 375</li>
<li>iphone6plus – 414</li>
</ul>
<p>由于不同设备视口和像素不同，所以同样的375个像素在不同的设备下意义是不一样的，比如在iphone6中375就是全屏，而到了plus中375就会缺一块</p>
<p>所以在移动端开发时，就不能再使用px来进行布局了</p>
<p>vw表示的是视口的宽度（viewport width）</p>
<ul>
<li>100vw = 一个视口的宽度</li>
<li>1vw=1%视口宽度</li>
<li>vw这个单位永远相当于视口宽度进行计算</li>
</ul>
<p>创建一个48px x 35px 大小的元素</p>
<p>100vw = 750px(设计图的像素) 0.133333333333vw=1px</p>
<p>6.4vw=48px（设计图的像素）</p>
<p>4.667vw=35px</p>
<h3 id="9-vw适配"><a href="#9-vw适配" class="headerlink" title="9.vw适配"></a>9.vw适配</h3><p>网页中字体大小最小是12px，不能设置一个比12像素还小的字体，如果我们设置了一个小于12px的字体，则字体自动设置为12</p>
<p>可以在html中用vw设置字体大小，然后换算成rem就好了</p>
<h3 id="二十八、响应式布局"><a href="#二十八、响应式布局" class="headerlink" title="二十八、响应式布局"></a>二十八、响应式布局</h3><p>网页可以通过根据不同的设备或窗口大小呈现出不同的效果</p>
<p>使用响应式布局，可以使一个网页适用于所有设备</p>
<p>响应布局的关键 <strong>媒体查询</strong></p>
<p>通过媒体查询，可以为不同的设备，或设备不同状态来分别设置样式</p>
<ul>
<li>语法：@media 查询规则{}</li>
<li>媒体类型<ul>
<li>all 所有设备</li>
<li>print 打印设备</li>
<li>screen 带屏幕的设备</li>
<li>speech 屏幕阅读器</li>
<li>可以使用<strong>，</strong>连接多个媒体类型，这样他们之间就是一个或的关系</li>
</ul>
</li>
<li>可以在媒体类型前添加一个only,表示只有<ul>
<li>only的使用主要是为了兼容一些老版本浏览器</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen&#123;</span><br><span class="line">    <span class="selector-tag">body</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>媒体特性<ul>
<li>width 视口的宽度</li>
<li>height 视口的高度</li>
<li>min-width 视口的最小宽度（视口大于指定宽度时生效）</li>
<li>max-width 视口的最大宽度（视口小于指定宽度时生效）</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*只有到500px的时候才会出现颜色*/</span></span><br><span class="line"><span class="keyword">@media</span>(width:500px)&#123;</span><br><span class="line">    <span class="selector-tag">body</span>&#123;</span><br><span class="line">        <span class="attribute">background-color</span>:red;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>样式切换的分界点，我们称其为断点，也就是网页的样式会在这个点时发生变化，一般比较常用的断点</p>
<ul>
<li>小于768 超小屏幕 max-width=768px</li>
<li>大于768 小屏幕 min-width=768px</li>
<li>大于992 中型屏幕 min-width=992px</li>
<li>大于1200 大屏幕 min-width=1200px</li>
</ul>
]]></content>
      <categories>
        <category>html+css</category>
      </categories>
      <tags>
        <tag>html+css</tag>
      </tags>
  </entry>
  <entry>
    <title>图解HTTP</title>
    <url>/2021/09/30/%E5%9B%BE%E8%A7%A3HTTP/</url>
    <content><![CDATA[<h4 id="第一章-了解Web及网络基础"><a href="#第一章-了解Web及网络基础" class="headerlink" title="第一章 了解Web及网络基础"></a>第一章 了解Web及网络基础</h4><h5 id="1-1使用HTTP协议访问Web"><a href="#1-1使用HTTP协议访问Web" class="headerlink" title="1.1使用HTTP协议访问Web"></a>1.1使用HTTP协议访问Web</h5><ul>
<li><p>客户端：通过发送请求获取服务器资源的Web浏览器</p>
</li>
<li><p>Web使用一种名为HTTP（HyperText Transfer Protocol，超文本传输协议）的协议作为规范，完成从<strong>客户端到服务器端</strong>等一系列运作流程</p>
</li>
</ul>
<h5 id="1-2HTTP的诞生"><a href="#1-2HTTP的诞生" class="headerlink" title="1.2HTTP的诞生"></a>1.2HTTP的诞生</h5><ul>
<li>三项WWW技术<ul>
<li><strong>HTML</strong>:把SGML(Standard Generalized Markup Language，标准通用标记语言)作为页面的文本标记语言的HTML(HyperText Markup Language，超文本标记语言)</li>
<li><strong>HTTP</strong>:作为文档传递协议</li>
<li><strong>URL</strong>:指定文档所在地址</li>
</ul>
</li>
<li>Web成长时代</li>
</ul>
<p><img src="/2021/09/30/%E5%9B%BE%E8%A7%A3HTTP/1.png"></p>
<ul>
<li>驻足不前的http<ul>
<li>HTTP/0.9<ul>
<li>没有作为正式的标准被建立</li>
</ul>
</li>
<li>HTTP/1.0<ul>
<li>HTTP正式作为标准被公布是在1996年的5月</li>
<li>该协议标准至今仍被广泛使用在服务器端。</li>
</ul>
</li>
<li>HTTP/1.1<ul>
<li>1997年1月公布的HTTP/1.1是目前主流的HTTP协议版本</li>
</ul>
</li>
<li>现在HTTP协议已经超出了Web这个框架的局限，被运用到了各种场景里。</li>
</ul>
</li>
</ul>
<h5 id="1-3网络基础TCP-IP"><a href="#1-3网络基础TCP-IP" class="headerlink" title="1.3网络基础TCP/IP"></a>1.3网络基础TCP/IP</h5><ul>
<li>把与互联网相关联的协议集合起来总称为TCP/IP</li>
<li>两种说法：<ul>
<li>把与互联网相关联的协议集合起来总称为TCP/IP</li>
<li>TCP/IP是在IP协议的通信过程中，使用到的协议族的统称。</li>
</ul>
</li>
<li>TCP/IP层次化的好处：<ul>
<li>如果互联网只由一个协议统筹，某个地方需要改变设计时，就必须把所有部分整体替换掉</li>
<li>分层之后只需把变动的层替换掉即可。把各层之间的接口部分规划好之后，每个层次内部的设计就能够自由改动了。</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/30/%E5%9B%BE%E8%A7%A3HTTP/2.png"></p>
<ul>
<li>TCP/IP协议族进行网络通信<ul>
<li>发送端从应用层往下走，接收端则往应用层往上走。</li>
</ul>
</li>
</ul>
<h5 id="1-4与HTTP关系密切的协议：IP、TCP和DNS"><a href="#1-4与HTTP关系密切的协议：IP、TCP和DNS" class="headerlink" title="1.4与HTTP关系密切的协议：IP、TCP和DNS"></a>1.4与HTTP关系密切的协议：IP、TCP和DNS</h5><p>（1）IP</p>
<ul>
<li>IP其实是一种协议的名称</li>
<li>IP协议的作用<ul>
<li>把各种数据包传送给对方</li>
<li>保证确实传送到对方那里，则需要满足各类条件<ul>
<li>两个重要的条件是<strong>IP地址和MAC地址</strong><ul>
<li>IP地址指明了节点被分配到的地址</li>
<li>MAC地址是指网卡所属的固定地址</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>IP地址可以和MAC地址进行配对。IP地址可变换，但MAC地址基本上不会更改。</li>
<li>使用ARP协议凭借MAC地址进行通信<ul>
<li>IP间的通信依赖MAC地址</li>
<li>ARP是一种用以解析地址的协议，根据通信方的IP地址就可以反查出对应的MAC地址。</li>
</ul>
</li>
</ul>
<p>（2）TCP位于传输层，提供可靠的字节流服务</p>
<ul>
<li>字节流服务（Byte Stream Service）<ul>
<li>为了方便传输，将大块数据分割成以报文段（segment）为单位的数据包进行管理</li>
</ul>
</li>
<li>可靠的传输服务<ul>
<li>能够把数据准确可靠地传给对方</li>
</ul>
</li>
<li>TCP协议为了更容易传送大数据才把数据分割，而且TCP协议能够确认数据最终是否送达到对方。</li>
</ul>
<p>（3）确保数据能达到目标</p>
<p>TCP协议采用了三次握手（three-way handshaking）策略</p>
<ul>
<li>握手过程中使用了TCP的标志<ul>
<li>flag</li>
<li>SYN(synchronize)</li>
<li>ACK</li>
</ul>
</li>
<li>发送过程：<ul>
<li>发送端首先发送一个带SYN标志的数据包给对方</li>
<li>接收端收到后，回传一个带有SYN/ACK标志的数据包以示传达确认信息</li>
<li>发送端再回传一个带ACK标志的数据包，代表“握手”结束</li>
</ul>
</li>
</ul>
<h5 id="1-5负责域名解析的DNS服务"><a href="#1-5负责域名解析的DNS服务" class="headerlink" title="1.5负责域名解析的DNS服务"></a>1.5负责域名解析的DNS服务</h5><p>（1）作用：提供域名到IP地址之间的解析服务。</p>
<p>（2）DNS协议提供通过域名查找IP地址，或逆向从IP地址反查域名的服务</p>
<h5 id="1-6URI和URL"><a href="#1-6URI和URL" class="headerlink" title="1.6URI和URL"></a>1.6URI和URL</h5><ul>
<li><strong>URL</strong>:UniformResource Locator，统一资源定位符</li>
<li><strong>URI</strong>：Uniform Resource Identifier<ul>
<li>Uniform：规定统一的格式可方便处理多种不同类型的资源，而不用根据上下文环境来识别资源指定的访问方式</li>
<li>Resource：可标识的任何东西<ul>
<li>不仅是文档文件，图像或服务（例如当天的天气预报）等能够区别于其他类型的，全都可作为资源</li>
</ul>
</li>
<li>Identifier<ul>
<li>表示可标识的对象。也称为标识符。</li>
</ul>
</li>
<li>URI就是由某个协议方案表示的资源的定位标识符</li>
</ul>
</li>
<li>URI用字符串标识某一互联网资源，而URL表示资源的地点（互联网上所处的位置）。可见URL是URI的子集</li>
</ul>
<h4 id="第2章-简单的HTTP协议"><a href="#第2章-简单的HTTP协议" class="headerlink" title="第2章 简单的HTTP协议"></a>第2章 简单的HTTP协议</h4><h5 id="2-1-HTTP协议用于客户端和服务器端之间的通信"><a href="#2-1-HTTP协议用于客户端和服务器端之间的通信" class="headerlink" title="2.1 HTTP协议用于客户端和服务器端之间的通信"></a>2.1 HTTP协议用于客户端和服务器端之间的通信</h5><ul>
<li><p>请求访问文本或图像等资源的一端称为<strong>客户端</strong></p>
</li>
<li><p>提供资源响应的一端称为<strong>服务器端</strong></p>
</li>
<li><p>仅从一条通信路线来说，服务器端和客户端的角色是确定的，而用HTTP协议能够明确区分哪端是客户端，哪端是服务器端</p>
</li>
</ul>
<h5 id="2-2通过请求和响应的交换达成通信"><a href="#2-2通过请求和响应的交换达成通信" class="headerlink" title="2.2通过请求和响应的交换达成通信"></a>2.2通过请求和响应的交换达成通信</h5><ul>
<li>请求报文是由<ul>
<li>请求方法</li>
<li>请求URI</li>
<li>协议版本</li>
<li>可选的请求首部字段</li>
<li>内容实体构成的</li>
</ul>
</li>
<li>响应报文基本上由<ul>
<li>协议版本</li>
<li>状态码（表示请求成功或失败的数字代码）</li>
<li>用以解释状态码的原因短语</li>
<li>可选的响应首部字段</li>
<li>实体主体构成</li>
</ul>
</li>
</ul>
<h5 id="2-3HTTP是不保存状态的协议"><a href="#2-3HTTP是不保存状态的协议" class="headerlink" title="2.3HTTP是不保存状态的协议"></a>2.3HTTP是不保存状态的协议</h5><ul>
<li>HTTP是一种<strong>不保存状态</strong>，即<strong>无状态（stateless）协议</strong>，每当有新的请求发送时，就会有对应的新响应产生<ul>
<li>为了更快地处理大量事务，确保协议的可伸缩性</li>
<li>自然可减少服务器的CPU及内存资源的消耗</li>
<li>因为HTTP协议本身是非常简单的，所以才会被应用在各种场景里</li>
</ul>
</li>
<li>HTTP/1.1虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了<strong>Cookie技术</strong>。有了Cookie再用HTTP协议通信，就可以管理状态了</li>
</ul>
<h5 id="2-4请求URI定位资源"><a href="#2-4请求URI定位资源" class="headerlink" title="2.4请求URI定位资源"></a>2.4请求URI定位资源</h5><ul>
<li>HTTP协议使用URI定位互联网上的资源</li>
<li>如果不是访问特定资源而是对服务器本身发起请求，可以用一个*来代替请求URI</li>
</ul>
<h5 id="2-5告知服务器意图的HTTP方法"><a href="#2-5告知服务器意图的HTTP方法" class="headerlink" title="2.5告知服务器意图的HTTP方法"></a>2.5告知服务器意图的HTTP方法</h5><ul>
<li>GET：获取资源<ul>
<li>用来请求访问已被URI识别的资源</li>
</ul>
</li>
<li>POST：传输实体主体（GET也可以，但一般不用）</li>
<li>PUT：传输文件<ul>
<li>就像FTP协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求URI指定的位置。</li>
<li>HTTP/1.1的PUT方法自身不带验证机制，任何人都可以上传文件，存在安全性问题，因此一般的Web网站不使用该方法</li>
<li>配合HTTP/1.1的PUT方法自身不带验证机制，任何人都可以上传文件，存在安全性问题，因此一般的Web网站不使用该方法就可能可以使用</li>
</ul>
</li>
<li>HEAD：获得报文首部<ul>
<li>HEAD方法和GET方法一样，只是不返回报文主体部分</li>
<li>HEAD方法和GET方法一样，只是不返回报文主体部分</li>
</ul>
</li>
<li>DELETE：删除文件<ul>
<li>是与PUT相反的方法</li>
<li>按请求URI删除指定的资源</li>
<li>HTTP/1.1的DELETE方法本身和PUT方法一样不带验证机制，所以一般的Web网站也不使用DELETE方法</li>
</ul>
</li>
<li>OPTIONS：询问支持的方法<ul>
<li>来查询针对请求URI指定的资源支持的方法。</li>
</ul>
</li>
<li>TRACE：追踪路径<ul>
<li>让Web服务器端将<strong>之前的请求通信</strong>环回给客户端的方法。</li>
<li>发送请求时，在Max-Forwards首部字段中填入数值，每经过一个服务器端就将该数字减1，当数值刚好减到0时，就停止继续传输，最后接收到请求的服务器端则返回状态码200OK的响应</li>
<li>客户端通过TRACE方法可以查询发送出去的请求是怎样被加工修改/篡改的<ul>
<li>因为，请求想要连接到源目标服务器可能会通过代理中转，TRACE方法就是用来确认连接过程中发生的一系列操作</li>
</ul>
</li>
<li>容易引发XST（Cross-Site Tracing，跨站追踪）攻击，通常就更不会用到了。</li>
</ul>
</li>
<li>CONNECT：要求用隧道协议连接代理<ul>
<li>要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信</li>
<li>主要使用<strong>SSL（Secure SocketsLayer，安全套接层）</strong>和<strong>TLS（Transport Layer Security，传输层安全）协议</strong>把通信内容<strong>加密</strong>后经网络隧道传输</li>
</ul>
</li>
</ul>
<h5 id="2-6使用方法下达命令"><a href="#2-6使用方法下达命令" class="headerlink" title="2.6使用方法下达命令"></a>2.6使用方法下达命令</h5><ul>
<li>向请求URI指定的资源发送请求报文时，采用称为方法的命令。</li>
<li>方法名区分大小写，注意要用大写字母。</li>
</ul>
<h5 id="2-7持久连接节省通信量"><a href="#2-7持久连接节省通信量" class="headerlink" title="2.7持久连接节省通信量"></a>2.7持久连接节省通信量</h5><ul>
<li>持久连接<ul>
<li>持久连接的特点是，只要任意一端没有明确提出断开连接，则保持TCP连接状态。</li>
<li>好处<ul>
<li>在于减少了TCP连接的重复建立</li>
<li>减少断开所造成的额外开销<ul>
<li>这部分时间使HTTP请求和响应能够更早地结束，这样Web页面的显示速度也就相应提高了</li>
</ul>
</li>
<li>减轻了服务器端的负载</li>
</ul>
</li>
</ul>
</li>
<li>管线化<ul>
<li>持久连接使得多数请求以管线化（pipelining）方式发送成为可能</li>
<li>从前发送请求后需等待并收到响应，才能发送下一个请求。管线化技术出现后，不用等待响应亦可直接发送下一个请求</li>
<li>就能够做到<strong>同时并行发送多个请求</strong>，而不需要一个接一个地等待响应了</li>
</ul>
</li>
</ul>
<h5 id="2-8使用Cookie的状态管理"><a href="#2-8使用Cookie的状态管理" class="headerlink" title="2.8使用Cookie的状态管理"></a>2.8使用Cookie的状态管理</h5><ul>
<li>Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端的状态</li>
<li>Cookie会根据从服务器端发送的响应报文内的一个叫做<strong>Set-Cookie的首部字段信息</strong>—-&gt;通知<strong>客户端保存Cookie</strong>。当下次客户端再往该服务器发送请求时，客户端会<strong>自动</strong>在请求报文中<strong>加入Cookie值</strong>后发送出去。</li>
<li>服务器端发现客户端发送过来的Cookie后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息</li>
</ul>
<p><img src="/2021/09/30/%E5%9B%BE%E8%A7%A3HTTP/3.png"></p>
<h4 id="第3章-HTTP报文内的HTTP信息"><a href="#第3章-HTTP报文内的HTTP信息" class="headerlink" title="第3章 HTTP报文内的HTTP信息"></a>第3章 HTTP报文内的HTTP信息</h4><h5 id="3-1HTTP报文"><a href="#3-1HTTP报文" class="headerlink" title="3.1HTTP报文"></a>3.1HTTP报文</h5><ul>
<li>用于HTTP协议交互的信息被称为HTTP报文<ul>
<li>HTTP报文本身是由<strong>多行（用CR+LF作换行符）数据</strong>构成的字符串文本</li>
<li>大致可分为报文首部和报文主体两块，由最初出现的空行（CR+LF）来划分</li>
<li>由最初出现的空行（CR+LF）来划分</li>
</ul>
</li>
<li>请求端（客户端）的HTTP报文叫做请求报文</li>
<li>响应端（服务器端）的叫做响应报文</li>
</ul>
<h5 id="3-2请求报文及响应报文的结构"><a href="#3-2请求报文及响应报文的结构" class="headerlink" title="3.2请求报文及响应报文的结构"></a>3.2请求报文及响应报文的结构</h5><ul>
<li>请求报文和响应报文的<strong>首部内容</strong>由以下数据组成<ul>
<li>请求行<ul>
<li>包含用于请求的方法，请求URI和HTTP版本。</li>
</ul>
</li>
<li>状态行<ul>
<li>包含表明响应结果的状态码，原因短语和HTTP版本。</li>
</ul>
</li>
<li>首部字段<ul>
<li>包含表示请求和响应的各种条件和属性的各类首部。</li>
<li>一般有4种首部<ul>
<li>通用首部、请求首部、响应首部和实体首部。</li>
</ul>
</li>
</ul>
</li>
<li>其他<ul>
<li>可能包含HTTP的RFC里未定义的首部（Cookie等）。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="3-3编码提升传输速率"><a href="#3-3编码提升传输速率" class="headerlink" title="3.3编码提升传输速率"></a>3.3编码提升传输速率</h5><ul>
<li>编码的操作需要计算机来完成，因此会消耗更多的CPU等资源</li>
<li>报文主体和实体主体的差异<ul>
<li>报文（message）<ul>
<li>HTTP通信中的基本单位</li>
<li>8位<strong>组字节流</strong>（octetsequence，其中octet为8个比特）组成</li>
<li>通过HTTP通信传输</li>
</ul>
</li>
<li>实体（entity）<ul>
<li>作为请求或响应的有效载荷数据（补充项）被传输，其内容由<strong>实体首部和实体主体</strong>组成。</li>
</ul>
</li>
<li>HTTP报文的主体用于传输请求或响应的实体主体</li>
<li>通常，<strong>报文主体等于实体主体</strong>。只有<strong>当传输中进行编码操作</strong>时，实体主体的内容发生变化，才导致它和报文主体产生差异。</li>
</ul>
</li>
<li>内容编码<ul>
<li>指明应用在实体内容上的编码格式，并保持实体信息原样压缩</li>
<li>内容编码后的实体由客户端接收并负责解码。</li>
<li>常用的内容编码有以下几种<ul>
<li>gzip（GNU zip）</li>
<li>compress（UNIX系统的标准压缩）</li>
<li>deflate（zlib）</li>
<li>identity（不进行编码）</li>
</ul>
</li>
</ul>
</li>
<li>分块传输编码<ul>
<li>把实体主体分块的功能</li>
<li>在传输大容量数据时，通过把数据分割成多块，能够让浏览器逐步显示页面</li>
<li>每一块都会用十六进制来标记块的大小，而实体主体的最后一块会使用“0(CR+LF)”来标记。</li>
<li>使用分块传输编码的实体主体会由接收的客户端负责解码，恢复到编码前的实体主体。</li>
</ul>
</li>
</ul>
<h5 id="3-4发送多种数据的多部分对象集合"><a href="#3-4发送多种数据的多部分对象集合" class="headerlink" title="3.4发送多种数据的多部分对象集合"></a>3.4发送多种数据的多部分对象集合</h5><ul>
<li>在MIME（多用途因特网邮件扩展—-&gt;它允许邮件处理文本、图片、视频等多个不同类型的数据）扩展中会使用一种称为多部分对象集合（Multipart）的方法，来容纳多份不同类型的数据。</li>
<li>HTTP协议中也采纳了多部分对象集合，发送的一份报文主体内可含有多类型实体。通常是在图片或文本文件等上传时使用。<ul>
<li>多部分对象集合包含的对象如下<ul>
<li>multipart/form-data<ul>
<li>在Web表单文件上传时使用</li>
</ul>
</li>
<li>multipart/byteranges<ul>
<li>状态码206（Partial Content，部分内容）响应报文包含了多个范围的内容时使用。</li>
</ul>
</li>
<li>multipart/form-data</li>
<li>multipart/byteranges</li>
</ul>
</li>
<li>在HTTP报文中使用多部分对象集合时，需要在首部字段里加上Content-type</li>
<li>使用boundary字符串来划分多部分对象集合指明的各类实体<ul>
<li>在boundary字符串指定的各个实体的起始行之前插入“–”标记（例如：–AaB03x、–THIS_STRING_SEPARATES）</li>
<li>在多部分对象集合对应的字符串的最后插入“–”标记（例如：–AaB03x–、–THIS_STRING_SEPARATES–）作为结束</li>
</ul>
</li>
<li>多部分对象集合的每个部分类型中，都可以含有首部字段。<ul>
<li>可以在某个部分中嵌套使用多部分对象集合</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="3-5获取部分内容的范围请求"><a href="#3-5获取部分内容的范围请求" class="headerlink" title="3.5获取部分内容的范围请求"></a>3.5获取部分内容的范围请求</h5><ul>
<li><p>范围请求（Range Request）</p>
<ul>
<li><p>指定范围发送的请求</p>
</li>
<li><p>执行范围请求时，会用到首部字段Range来指定资源的byte范围</p>
<ul>
<li><p>byte范围的指定形式如下</p>
<ul>
<li><p>5001～10000字节</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Range:bytes=5001-10000</span><br></pre></td></tr></table></figure></li>
<li><p>从5001字节之后全部的</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Range:bytes=5001-</span><br></pre></td></tr></table></figure></li>
<li><p>从一开始到3000字节和5000～7000字节的多重范围</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Range:bytes=-3000,5000-700</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>针对范围请求，响应会返回状态码为206 Partial Content的响应报文</p>
</li>
<li><p>对于多重范围的范围请求，响应会在首部字段Content-Type标明multipart/byteranges后返回响应报文。</p>
</li>
<li><p>服务器端无法响应范围请求，则会返回状态码200 OK和完整的实体内容。</p>
</li>
</ul>
</li>
</ul>
<h5 id="3-6内容协商返回最合适的内容"><a href="#3-6内容协商返回最合适的内容" class="headerlink" title="3.6内容协商返回最合适的内容"></a>3.6内容协商返回最合适的内容</h5><ul>
<li>内容协商<ul>
<li>当浏览器的默认语言为英语或中文，访问相同URI的Web页面时，则会显示对应的英语版或中文版的Web页面</li>
</ul>
</li>
<li>内容协商机制<ul>
<li>指客户端和服务器端就响应的资源内容进行交涉，然后提供给客户端最为适合的资源</li>
<li>内容协商会以响应资源的语言、字符集、编码方式等作为判断的基准</li>
<li>包含在请求报文中的某些首部字段（如下）就是判断的基准<ul>
<li>Accept</li>
<li>Accept-Charset</li>
<li>Accept-Encoding</li>
<li>Accept-Language</li>
<li>Content-Language</li>
</ul>
</li>
</ul>
</li>
<li>内容协商技术有以下3种类型<ul>
<li>服务器驱动协商<ul>
<li>以请求的首部字段为参考，在服务器端自动处理</li>
<li>对用户来说，以浏览器发送的信息作为判定的依据，并不一定能筛选出最优内容</li>
</ul>
</li>
<li>客户端驱动协商<ul>
<li>用户从浏览器显示的可选项列表中手动选择</li>
<li>还可以利用JavaScript脚本在Web页面上自动进行上述选择</li>
</ul>
</li>
<li>透明协商<ul>
<li>是服务器驱动和客户端驱动的结合体</li>
<li>由服务器端和客户端各自进行内容协商的一种方法。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第4章-返回结果的HTTP状态码"><a href="#第4章-返回结果的HTTP状态码" class="headerlink" title="第4章 返回结果的HTTP状态码"></a>第4章 返回结果的HTTP状态码</h4><h5 id="4-1状态码告知从服务器端返回的请求结果"><a href="#4-1状态码告知从服务器端返回的请求结果" class="headerlink" title="4.1状态码告知从服务器端返回的请求结果"></a>4.1状态码告知从服务器端返回的请求结果</h5><ul>
<li>状态码<ul>
<li>当客户端向服务器端发送请求时，描述返回的请求结果</li>
<li>借助状态码，用户可以知道服务器端是正常处理了请求，还是出现了错误</li>
<li>以3位数字和原因短语组成<ul>
<li>数字中的第一位指定了响应类别，后两位无分类</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>类别</th>
<th>原因短语</th>
</tr>
</thead>
<tbody><tr>
<td>1XX</td>
<td>Information(信息性状态码)</td>
<td>接收的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td>Success(成功状态码)</td>
<td>请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td>Redirection(重定向状态码)</td>
<td>需要进行附加操作以完成请求</td>
</tr>
<tr>
<td>4XX</td>
<td>Client Error(客户端错误状态码)</td>
<td>服务器无法处理请求</td>
</tr>
<tr>
<td>5XX</td>
<td>Server Error(服务器错误状态码)</td>
<td>服务器处理请求出错</td>
</tr>
</tbody></table>
<h5 id="4-2-2XX成功（表明请求被正常处理了）"><a href="#4-2-2XX成功（表明请求被正常处理了）" class="headerlink" title="4.2 2XX成功（表明请求被正常处理了）"></a>4.2 2XX成功（表明请求被正常处理了）</h5><ul>
<li>200 OK<ul>
<li>表示从客户端发来的请求在服务器端被正常处理了</li>
<li>在响应报文内，随状态码一起返回的信息会因方法的不同而发生改变<ul>
<li>使用GET方法时，对应请求资源的实体会作为响应返回</li>
<li>而使用HEAD方法时，对应请求资源的实体主体不随报文首部作为响应返回（即在响应中只返回首部，不会返回实体的主体部分）。</li>
</ul>
</li>
</ul>
</li>
<li>204 No Content<ul>
<li>代表服务器接收的请求已成功处理，但在返回的响应报文中不含实体的主体部分</li>
<li>也不允许返回任何实体的主体</li>
<li>比如：<ul>
<li>当从浏览器发出请求处理后，返回204响应，那么浏览器显示的页面不发生更新</li>
</ul>
</li>
<li>使用场景<ul>
<li>一般在只需要从客户端往服务器发送信息，而对客户端不需要发送新信息内容的情况下使用</li>
</ul>
</li>
</ul>
</li>
<li>206 Partial Content<ul>
<li>表示客户端进行了范围请求，而服务器成功执行了这部分的GET请求</li>
<li>响应报文中包含由Content-Range指定范围的实体内容。</li>
</ul>
</li>
</ul>
<h5 id="4-3-3XX重定向（表明浏览器需要执行某些特殊的处理以正确处理请求）"><a href="#4-3-3XX重定向（表明浏览器需要执行某些特殊的处理以正确处理请求）" class="headerlink" title="4.3 3XX重定向（表明浏览器需要执行某些特殊的处理以正确处理请求）"></a>4.3 3XX重定向（表明浏览器需要执行某些特殊的处理以正确处理请求）</h5><ul>
<li><p>301 Moved Permanently</p>
<ul>
<li>永久性重定向</li>
<li>表示请求的资源已被分配了新的URI，以后应使用资源现在所指的URI</li>
<li>如果已经把资源对应的URI保存为书签了，这时应该按Location首部字段提示的URI重新保存</li>
</ul>
</li>
<li><p>302 Found</p>
<ul>
<li>临时性重定向</li>
<li>表示请求的资源已被分配了新的URI，希望用户（本次）能使用新的URI访问</li>
</ul>
</li>
<li><p>303 See Other</p>
<ul>
<li>表示由于请求对应的资源存在着另一个URI，应使用GET方法定向获取请求的资源</li>
<li>当301、302、303响应状态码返回时，几乎所有的浏览器都会把POST改成GET，并删除请求报文内的主体，之后请求会自动再次发送。301、302标准是禁止将POST方法改变成GET方法的，但实际使用时大家都会这么做。</li>
</ul>
</li>
<li><p>304 Not Modified（与重定向无关）</p>
<ul>
<li>表示客户端发送附带条件的请求时，服务器端允许请求访问资源</li>
<li>但因发生请求未满足条件的情况后，直接返回304 Not Modified（服务器端资源未改变，可直接使用客户端未过期的缓存）</li>
<li>304状态码返回时，不包含任何响应的主体部分</li>
</ul>
</li>
<li><p>307 Temporary Redirect</p>
<ul>
<li>临时重定向</li>
<li>该状态码与302 Found有着相同的含义</li>
<li>307会遵照浏览器标准，不会从POST变成GET</li>
</ul>
</li>
</ul>
<h5 id="4-4-4XX客户端错误（表明客户端是发生错误的原因所在）"><a href="#4-4-4XX客户端错误（表明客户端是发生错误的原因所在）" class="headerlink" title="4.4 4XX客户端错误（表明客户端是发生错误的原因所在）"></a>4.4 4XX客户端错误（表明客户端是发生错误的原因所在）</h5><ul>
<li>400 Bad Request<ul>
<li>表示请求报文中存在<strong>语法错误</strong></li>
<li>需修改请求的内容后再次发送请求</li>
<li>浏览器会像200 OK一样对待该状态码。</li>
</ul>
</li>
<li>401 Unauthorized<ul>
<li>表示发送的请求需要有通过HTTP认证（BASIC认证、DIGEST认证）的认证信息</li>
<li>若之前已进行过1次请求，则表示用户认证失败。</li>
<li>返回含有401的响应必须包含一个适用于被请求资源的WWW-Authenticate首部用以质询（challenge）用户信息</li>
<li>当浏览器初次接收到401响应，会弹出认证用的对话窗口。</li>
</ul>
</li>
<li>403 Forbidden<ul>
<li>表明对请求资源的访问被服务器拒绝了</li>
<li>未获得文件系统的访问授权，访问权限出现某些问题（从未授权的发送源IP地址试图访问）等列举的情况都可能是发生403的原因。</li>
</ul>
</li>
<li>404 Not Found<ul>
<li>表明服务器上无法找到请求的资源</li>
<li>可以在服务器端拒绝请求且不想说明理由时使用</li>
</ul>
</li>
</ul>
<h5 id="4-5-5XX服务器错误（表明服务器本身发生错误）"><a href="#4-5-5XX服务器错误（表明服务器本身发生错误）" class="headerlink" title="4.5 5XX服务器错误（表明服务器本身发生错误）"></a>4.5 5XX服务器错误（表明服务器本身发生错误）</h5><ul>
<li>500 Internal Server Error<ul>
<li>表明服务器端在执行请求时发生了错误</li>
<li>也有可能是Web应用存在的bug或某些临时的故障</li>
</ul>
</li>
<li>503 Service Unavailable<ul>
<li>表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求</li>
<li>如果事先得知解除以上状况需要的时间，最好写入Retry-After首部字段再返回给客户端</li>
</ul>
</li>
</ul>
<h4 id="第5章-与HTTP协作的Web服务器"><a href="#第5章-与HTTP协作的Web服务器" class="headerlink" title="第5章 与HTTP协作的Web服务器"></a>第5章 与HTTP协作的Web服务器</h4><h5 id="5-1-用单台虚拟主机实现多个域名"><a href="#5-1-用单台虚拟主机实现多个域名" class="headerlink" title="5.1 用单台虚拟主机实现多个域名"></a>5.1 用单台虚拟主机实现多个域名</h5><ul>
<li>HTTP/1.1规范允许一台HTTP服务器搭建多个Web站点<ul>
<li>比如：<ul>
<li>提供Web托管服务（Web Hosting Service）的供应商，可以用一台服务器为多位客户服务，也可以以每位客户持有的域名运行各自不同的网站</li>
<li>利用了虚拟主机（Virtual Host，又称虚拟服务器）的功能</li>
</ul>
</li>
</ul>
</li>
<li>在互联网上，域名通过DNS服务映射到IP地址（域名解析）之后访问目标网站</li>
<li>在相同的IP地址下，由于虚拟主机可以寄存多个不同主机名和域名的Web网站，因此在发送HTTP请求时，必须在Host首部内完整指定主机名或域名的URI</li>
</ul>
<h5 id="5-2-通信数据转发程序：代理、网关、隧道"><a href="#5-2-通信数据转发程序：代理、网关、隧道" class="headerlink" title="5.2 通信数据转发程序：代理、网关、隧道"></a>5.2 通信数据转发程序：代理、网关、隧道</h5><ul>
<li>这些应用程序和服务器可以将请求转发给通信线路上的下一站服务器，并且能接收从那台服务器发送的响应再转发给客户端。</li>
<li>代理<ul>
<li>一种有<strong>转发功能</strong>的应用程序</li>
<li>“中间人”的角色</li>
<li>接收由客户端发送的请求并转发给服务器，同时也接收服务器返回的响应并转发给客户端。</li>
<li>基本行为：<ul>
<li>接收客户端发送的请求后转发给其他服务器</li>
</ul>
</li>
<li>不改变请求URI，会直接发送给前方持有资源的目标服务器</li>
<li>源服务器：<ul>
<li>持有资源实体的服务器</li>
<li>从源服务器返回的响应经过代理服务器后再传给客户端</li>
</ul>
</li>
<li>使用代理服务器的理由<ul>
<li>利用缓存技术（稍后讲解）减少网络带宽的流量</li>
<li>组织内部针对特定网站的访问控制，以获取访问日志为主要目的</li>
</ul>
</li>
<li>实现代理的方法：两个基准<ul>
<li>是否使用缓存：<ul>
<li>缓存代理<ul>
<li>代理转发响应时，缓存代理（Caching Proxy）会预先将资源的副本（缓存）保存在代理服务器上</li>
<li>当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获取资源，而是将之前缓存的资源作为响应返回</li>
</ul>
</li>
</ul>
</li>
<li>是否会修改报文<ul>
<li>透明代理<ul>
<li>转发请求或响应时，不对报文做任何加工的代理类型</li>
</ul>
</li>
<li>非透明代理<ul>
<li>对报文内容进行加工的代理</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>网关<ul>
<li>转发其他服务器通信数据的服务器</li>
<li>接收从客户端发送来的请求时，它就<strong>像自己拥有资源的源服务器</strong>一样对请求进行处理</li>
<li>工作机制和代理十分相似，而网关能使通信线路上的服务器提供<strong>非HTTP协议服务</strong></li>
<li>好处<ul>
<li>能提高通信的安全性<ul>
<li>理由：</li>
<li>因为可以在<strong>客户端与网关</strong>之间的通信线路上<strong>加密</strong>以确保连接的安全</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>隧道<ul>
<li>在相隔甚远的客户端和服务器两者之间进行中转，并保持双方通信连接的应用程序</li>
<li>目的：<ul>
<li>确保客户端能与服务器进行安全的通信</li>
</ul>
</li>
<li>隧道本身不会去解析HTTP请求<ul>
<li>请求保持原样中转给之后的服务器。隧道会在通信双方断开连接时结束</li>
</ul>
</li>
<li>隧道本身是透明的</li>
</ul>
</li>
</ul>
<h5 id="5-3-保存资源的缓存"><a href="#5-3-保存资源的缓存" class="headerlink" title="5.3 保存资源的缓存"></a>5.3 保存资源的缓存</h5><ul>
<li>缓存<ul>
<li><strong>代理服务器或客户端本地磁盘内</strong>保存的资源副本</li>
<li>利用缓存的<strong>好处</strong>：<ul>
<li>可减少对源服务器的访问，因此也就节省了通信流量和通信时间</li>
</ul>
</li>
</ul>
</li>
<li>缓存服务器<ul>
<li>代理服务器的一种，并归类在缓存代理类型中</li>
<li>当代理转发从服务器返回的响应时，代理服务器将会保存一份资源的副本</li>
<li><strong>优势</strong>：<ul>
<li>在于利用缓存可避免多次从源服务器转发资源</li>
<li>因此客户端可就近从缓存服务器上获取资源，而源服务器也不必多次处理相同的请求了</li>
</ul>
</li>
</ul>
</li>
<li>缓存的有效期限<ul>
<li>因为客户端的要求、缓存的有效期等因素，向源服务器确认资源的有效性</li>
<li>若判断缓存失效，缓存服务器将会再次从源服务器上获取“新”资源</li>
</ul>
</li>
<li>客户端的缓存（临时网络文件）<ul>
<li>浏览器缓存如果有效，就不必再向服务器请求相同的资源了，可以直接从本地磁盘内读取</li>
</ul>
</li>
<li>在HTTP出现之前的协议<ul>
<li>FTP（File Transfer Protocol）<ul>
<li>传输文件时使用的协议（<strong>仍在使用</strong>）</li>
</ul>
</li>
<li>NNTP（Network News Transfer Protocol）<ul>
<li>用于NetNews电子会议室内传送消息的协议（<strong>已经不怎么使用了</strong>）</li>
<li>现在，利用Web交换信息已成主流</li>
</ul>
</li>
<li>Archie<ul>
<li>以关键词检索多个数据库使用的协议（<strong>已经不怎么使用了</strong>）</li>
</ul>
</li>
<li>Gopher<ul>
<li>查找与互联网连接的计算机内信息的协议</li>
<li>由于现在已经被HTTP协议替代，也已经不怎么使用了</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第6章-HTTP的首部"><a href="#第6章-HTTP的首部" class="headerlink" title="第6章 HTTP的首部"></a>第6章 HTTP的首部</h4><h5 id="6-1-HTTP报文首部"><a href="#6-1-HTTP报文首部" class="headerlink" title="6.1 HTTP报文首部"></a>6.1 HTTP报文首部</h5><ul>
<li>HTTP协议的请求和响应报文中必定包含HTTP首部</li>
<li>HTTP请求报文<ul>
<li>方法</li>
<li>URI</li>
<li>HTTP版本</li>
<li>HTTP首部字段等部分构成</li>
</ul>
</li>
<li>HTTP响应报文<ul>
<li>HTTP版本</li>
<li>状态码（数字和原因短语）</li>
<li>HTTP首部字段3部分构成</li>
</ul>
</li>
</ul>
<h5 id="6-2-HTTP首部字段"><a href="#6-2-HTTP首部字段" class="headerlink" title="6.2 HTTP首部字段"></a>6.2 HTTP首部字段</h5><ul>
<li>为了给浏览器和服务器提供报文主体大小、所使用的语言、认证信息等内容</li>
<li>HTTP首部字段结构<ul>
<li>首部字段名和字段值构成的，中间用冒号“:”分隔</li>
<li>首部字段名：字段值</li>
<li>例子：Content-Type:text/html</li>
<li>字段值对应单个HTTP首部字段可以有多个值<ul>
<li>Keep-Alive:timeout=15,max=100</li>
</ul>
</li>
</ul>
</li>
<li>4种HTTP首部字段类型<ul>
<li>通用首部字段（General Header Fields）<ul>
<li>请求报文和响应报文两方都会使用的首部</li>
</ul>
</li>
<li>请求首部字段（Request Header Fields）<ul>
<li>客户端向服务器端发送请求</li>
<li>补了请求的附加内容、客户端信息、响应内容相关优先级等信息</li>
</ul>
</li>
<li>响应首部字段（Response Header Fields）<ul>
<li>服务器端向客户端返回响应</li>
<li>补充了响应的附加内容，也会要求客户端附加额外的内容信息</li>
</ul>
</li>
<li>实体首部字段（Entity Header Fields）<ul>
<li>针对请求报文和响应报文的实体部分</li>
<li>补充了资源内容更新时间等与实体有关的信息</li>
</ul>
</li>
</ul>
</li>
<li>HTTP首部字段将定义成缓存代理和非缓存代理的行为，分成2种类型<ul>
<li>端到端首部（End-to-end Header）<ul>
<li>首部会转发给请求/响应对应的最终接收目标</li>
<li>且必须保存在由缓存生成的响应中</li>
<li>另外规定它必须被转发</li>
</ul>
</li>
<li>逐跳首部（Hop-by-hop Header）<ul>
<li>只对单次转发有效，会因通过缓存或代理而不再转发</li>
<li>如果要使用hop-by-hop首部，需提供Connection首部字段</li>
<li>Connection</li>
<li>Keep-Alive</li>
<li>Proxy-Authenticate</li>
<li>Proxy-Authorization</li>
<li>Trailer</li>
<li>TE</li>
<li>Transfer-Encoding</li>
<li>Upgrade</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="6-3-HTTP-1-1-通用首部字段"><a href="#6-3-HTTP-1-1-通用首部字段" class="headerlink" title="6.3 HTTP/1.1 通用首部字段"></a>6.3 HTTP/1.1 通用首部字段</h5><ul>
<li><p> Cache-Control</p>
</li>
<li><p>通过指定首部字段Cache-Control的指令，就能操作缓存的工作机制</p>
</li>
<li><p>指令的参数是可选的，多个指令之间通过“,”分隔</p>
</li>
<li><p>表示是否能缓存的指令:</p>
<ul>
<li>public指令(Cache-Control:public)<ul>
<li>当指定使用public指令时，则明确表明其他用户也可利用缓存</li>
</ul>
</li>
<li>private指令(Cache-Control:private)<ul>
<li>当指定private指令后，响应只以特定的用户作为对象，这与public指令的行为相反</li>
</ul>
</li>
<li>no-cache指令(Cache-Control:no-cache)<ul>
<li>为了防止从缓存中返回过期的资源</li>
<li>客户端发送的请求包含no-cache的话表示客户端将不会接收缓存过的响应</li>
<li>服务器返回的响应中包含no-cache指令，那么缓存服务器不能对资源进行缓存</li>
</ul>
</li>
</ul>
</li>
<li><p>控制可执行缓存的对象的指令</p>
<ul>
<li>no-store指令<ul>
<li>暗示请求（和对应的响应）或响应中包含<strong>机密信息</strong></li>
<li>规定缓存不能在本地存储请求或响应的任一部分</li>
</ul>
</li>
</ul>
</li>
<li><p>指定缓存期限和认证的指令</p>
<ul>
<li>s-maxage指令<ul>
<li>功能和max-age指令的相同，它们的不同点是s-maxage指令只适用于<strong>供多位用户使用的公共缓存服务器</strong></li>
<li>对于向同一用户重复返回响应的服务器来说，这个指令没有任何作用</li>
</ul>
</li>
<li>max-age指令<ul>
<li>客户端发送的请求中包含max-age指令时<ul>
<li>如果判定缓存资源的缓存时间数值比指定时间的数值<strong>更小</strong>，那么客户端就<strong>接收</strong>缓存的资源</li>
</ul>
</li>
<li>服务器返回的响应中包含max-age指令时<ul>
<li>缓存服务器将不对资源的有效性再作确认，而max-age数值代表资源保存为缓存的最长时间</li>
</ul>
</li>
</ul>
</li>
<li>min-fresh指令<ul>
<li>指令要求缓存服务器返回<strong>至少还未过指定时间</strong>的缓存资源</li>
</ul>
</li>
<li>max-stale指令<ul>
<li>指示缓存资源，即使过期也照常接收</li>
<li>指令未指定参数值，那么无论经过多久，客户端都会接收响应</li>
<li>指令中指定了具体数值，那么即使过期，只要仍处于max-stale指定的时间内，仍旧会被客户端接收</li>
</ul>
</li>
<li>only-if-cached指令<ul>
<li>表示客户端仅在缓存服务器本地缓存目标资源的情况下才会要求其返回</li>
<li>要求缓存服务器不重新加载响应，也不会再次确认资源有效性</li>
</ul>
</li>
<li>must-revalidate指令<ul>
<li>代理会向源服务器再次验证即将返回的响应缓存目前是否仍然有效</li>
<li>代理无法连通源服务器再次获取有效资源的话<ul>
<li>缓存必须给客户端一条504（Gateway Timeout）状态码</li>
</ul>
</li>
<li>使用must-revalidate指令会忽略请求的max-stale指令（即使已经在首部使用了max-stale，也不会再有效果）</li>
</ul>
</li>
<li>proxy-revalidate指令<ul>
<li>要求所有的缓存服务器在接收到客户端带有该指令的请求返回响应<strong>之前</strong>，必须再次验证缓存的有效性</li>
</ul>
</li>
<li>no-transform指令<ul>
<li>规定无论是在请求还是响应中，缓存都不能改变实体主体的媒体类型</li>
<li>作用：<ul>
<li>可防止缓存或代理压缩图片等类似操作</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Cache-Control扩展</p>
<ul>
<li>cache-extension token<ul>
<li>cache-extension标记（token），可以扩展Cache-Control首部字段内的指令</li>
</ul>
</li>
</ul>
</li>
<li><p>Connection</p>
<ul>
<li>控制不再转发给代理的首部字段</li>
<li>管理持久连接<ul>
<li>HTTP/1.1版本的默认连接都是持久连接，<ul>
<li>当服务器端想明确断开连接时，则指定Connection首部字段的值为Close</li>
</ul>
</li>
<li>HTTP/1.1之前的HTTP版本的默认连接都是非持久连接<ul>
<li>想在旧版本的HTTP协议上维持持续连接，则需要指定Connection首部字段的值为Keep-Alive</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Date</p>
<ul>
<li>表明创建HTTP报文的日期和时间</li>
</ul>
</li>
<li><p>Pragma</p>
<ul>
<li><p>Pragma是HTTP/1.1之前版本的历史遗留字段，仅作为与HTTP/1.0的向后兼容而定义</p>
</li>
<li><p>要整体掌握全部中间服务器使用的HTTP协议版本却是不现实的。因此，发送的请求会同时含有下面两个首部字段</p>
<ul>
<li><p>```<br>Cache-Control:no-cache<br>Progma:no-cache</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- Trailer</span><br><span class="line"></span><br><span class="line">  - 会事先说明在报文主体后记录了哪些首部字段</span><br><span class="line">  - 可应用在HTTP/1.1版本分块传输编码时</span><br><span class="line"></span><br><span class="line">- Transfer-Encoding</span><br><span class="line"></span><br><span class="line">  - 规定了传输报文主体时采用的编码方式</span><br><span class="line">  - HTTP/1.1的传输编码方式仅对分块传输编码有效</span><br><span class="line"></span><br><span class="line">- Upgrade</span><br><span class="line"></span><br><span class="line">  - 用于检测HTTP协议及其他协议是否可使用更高的版本进行通信，其参数值可以用来指定一个完全不同的通信协议</span><br><span class="line">  - Upgrade首部字段产生作用的Upgrade对象仅限于客户端和邻接服务器之间</span><br><span class="line">  - 使用首部字段Upgrade时，还需要额外指定Connection:Upgrade</span><br><span class="line"></span><br><span class="line">-  Via</span><br><span class="line"></span><br><span class="line">  - 为了追踪客户端与服务器之间的请求和响应报文的传输路径</span><br><span class="line">  - 报文经过代理或网关时，会先在首部字段Via中附加该服务器的信息，然后再进行转发</span><br><span class="line">  - 不仅用于追踪报文的转发，还可避免请求回环的发生。所以必须在经过代理时附加该首部字段内容</span><br><span class="line">  - 为了追踪传输路径，所以经常会和TRACE方法一起使用</span><br><span class="line"></span><br><span class="line">- Warning</span><br><span class="line"></span><br><span class="line">  - 首部通常会告知用户一些与缓存相关的问题的警告</span><br><span class="line"></span><br><span class="line">##### 6.4 请求首部字段</span><br><span class="line"></span><br><span class="line">- 从客户端往服务器端发送请求报文中所使用的字段，用于补充请求的附加信息、客户端信息、对响应内容相关的优先级等内容</span><br><span class="line"></span><br><span class="line">- Accept</span><br><span class="line"></span><br><span class="line">  - 可通知服务器，用户代理能够处理的媒体类型及媒体类型的相对优先级</span><br><span class="line"></span><br><span class="line">  - 可使用type/subtype这种形式，一次指定多种媒体类型</span><br><span class="line"></span><br><span class="line">  - 媒体类型的例子</span><br><span class="line"></span><br><span class="line">    - 文本文件</span><br><span class="line"></span><br><span class="line">      - ```</span><br><span class="line">        text/html, text/plain, text/css ...application/xhtml+xml, application/xml ...</span><br></pre></td></tr></table></figure></li>
<li><p>图片文件</p>
<ul>
<li>```<br>image/jpeg, image/gif, image/png …<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- 视频文件</span><br><span class="line"></span><br><span class="line">  - ```</span><br><span class="line">    video/mpeg, video/quicktime ..</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>应用程序使用的二进制文件</p>
<ul>
<li><pre><code>application/octet-stream, application/zip ...
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>给显示的媒体类型增加优先级，则使用q=来额外表示权重值，用分号（;）进行分隔</p>
<ul>
<li>权重值q的范围是0～1（可精确到小数点后3位）</li>
<li>1为最大值</li>
<li>不指定权重q值时，默认权重为q=1.0</li>
</ul>
</li>
</ul>
</li>
<li><p>Accept-Charset</p>
<ul>
<li>可用来通知服务器用户代理支持的字符集及字符集的相对优先顺序</li>
<li>可一次性指定多种字符集</li>
<li>与首部字段Accept相同的是可用权重q值来表示相对优先级</li>
<li>应用场景<ul>
<li>内容协商机制的服务器驱动协商</li>
</ul>
</li>
</ul>
</li>
<li><p>Accept-Encoding</p>
<ul>
<li>用来告知服务器用户代理支持的内容编码及内容编码的优先级顺序</li>
<li>可一次性指定多种内容编码</li>
<li>几个内容编码的例子<ul>
<li>gzip</li>
<li>compress</li>
<li>deflate</li>
<li>identity<ul>
<li>不执行压缩或不会变化的默认编码格式</li>
</ul>
</li>
</ul>
</li>
<li>采用权重q值来表示相对优先级，这点与首部字段Accept相同</li>
<li>可使用<strong>星号（*）</strong>作为通配符，指定任意的编码格式</li>
</ul>
</li>
<li><p>Accept-Language</p>
<ul>
<li>告知服务器用户代理能够处理的自然语言集（指中文或英文等），以及自然语言集的相对优先级。可一次指定多种自然语言集</li>
</ul>
</li>
<li><p>Authorization</p>
<ul>
<li>用来告知服务器，用户代理的认证信息（证书值)</li>
</ul>
</li>
<li><p>Expect</p>
<ul>
<li>告知服务器，期望出现的某种特定行为</li>
<li>可以利用该首部字段，写明所期望的扩展</li>
</ul>
</li>
<li><p>From</p>
<ul>
<li>告知服务器使用用户代理的用户的电子邮件地址</li>
<li>目的<ul>
<li>为了显示搜索引擎等用户代理的负责人的电子邮件联系方式</li>
</ul>
</li>
</ul>
</li>
<li><p>Host</p>
<ul>
<li>会告知服务器，请求的资源所处的互联网主机名和端口号</li>
<li>唯一一个必须被包含在请求内的首部字段</li>
</ul>
</li>
<li><p>If-Match</p>
<ul>
<li>告知服务器匹配资源所用的实体标记（ETag）值</li>
<li>可以使用星号（*）指定If-Match的字段值</li>
<li>形如If-xxx这种样式的请求首部字段，都可称为条件请求</li>
<li>服务器接收到附带条件的请求后，只有判断指定条件为真时，才会执行请求</li>
</ul>
</li>
<li><p>If-Modified-Since</p>
<ul>
<li>告知服务器若If-Modified-Since字段值早于资源的更新时间，则希望能处理该请求</li>
</ul>
</li>
<li><p> If-None-Match</p>
</li>
<li><p>和首部字段If-Match作用相反。用于指定If-None-Match字段值的实体标记（ETag）值与请求资源的ETag不一致时，它就告知服务器处理该请求</p>
</li>
<li><p>If-Range</p>
<ul>
<li>告知服务器若指定的If-Range字段值（ETag值或者时间）和请求资源的ETag值或时间相一致时，则<strong>作为范围请求处理</strong>。反之，则返回<strong>全体资源</strong></li>
</ul>
</li>
<li><p>If-Unmodified-Since</p>
<ul>
<li>告知服务器，指定的请求资源只有在字段值内指定的日期时间之后，未发生更新的情况下，才能处理请求</li>
<li>和首部字段If-Modified-Since的作用相反</li>
</ul>
</li>
<li><p>Max-Forwards</p>
<ul>
<li>当Max-Forwards字段值为0时，服务器就会立即返回响应，由此我们至少可以对以那台服务器为终点的传输路径的通信状况有所把握</li>
</ul>
</li>
<li><p>Proxy-Authorization</p>
<ul>
<li>接收到从代理服务器发来的认证质询时，客户端会发送包含首部字段Proxy-Authorization的请求，以告知服务器认证所需要的信息</li>
</ul>
</li>
<li><p>Range</p>
<ul>
<li>只需获取部分资源的范围请求，包含首部字段Range即可告知服务器资源的指定范围</li>
</ul>
</li>
<li><p>Referer</p>
<ul>
<li>告知服务器请求的原始资源的URI</li>
<li>原始资源的URI中的查询字符串可能含有ID和密码等保密信息，要是写进Referer转发给其他服务器，则有可能导致保密信息的泄露</li>
</ul>
</li>
<li><p>TE</p>
<ul>
<li>告知服务器客户端能够处理响应的传输编码方式及相对优先级</li>
</ul>
</li>
<li><p>User-Agent</p>
<ul>
<li>创建请求的浏览器和用户代理名称等信息传达给服务器</li>
</ul>
</li>
</ul>
<h5 id="6-5-响应首部字段"><a href="#6-5-响应首部字段" class="headerlink" title="6.5 响应首部字段"></a>6.5 响应首部字段</h5><p>由服务器端向客户端返回响应报文中所使用的字段，用于补充响应的附加信息、服务器信息，以及对客户端的附加要求等信息</p>
<ul>
<li>Accept-Ranges<ul>
<li>用来告知客户端服务器是否能处理范围请求，以指定获取服务器端某个部分的资源</li>
<li>可指定的字段值有两种:<ul>
<li>处理范围请求时指定其为bytes</li>
<li>反之则指定其为none</li>
</ul>
</li>
</ul>
</li>
<li>Age<ul>
<li>告知客户端，源服务器在多久前创建了响应。字段值的单位为秒</li>
<li>创建该响应的服务器是缓存服务器<ul>
<li>Age值是指缓存后的响应再次发起认证到认证完成的时间值</li>
</ul>
</li>
</ul>
</li>
<li>ETag<ul>
<li>告知客户端实体标识</li>
<li>一种可将资源以字符串形式做唯一性标识的方式</li>
<li>字符串形式做唯一性标识的方式。服务器会为每份资源分配对应的ETag值</li>
<li>资源被缓存时，就会被分配唯一性标识</li>
<li>分为强ETag和弱ETag值</li>
<li>强ETag值<ul>
<li>论实体发生多么细微的变化都会改变其值</li>
</ul>
</li>
<li>弱ETag值<ul>
<li>只用于提示资源是否相同</li>
<li>只有资源发生了根本改变，产生差异时才会改变ETag值</li>
</ul>
</li>
</ul>
</li>
<li> Location</li>
<li>可以将响应接收方引导至某个与请求URI位置不同的资源</li>
<li>Proxy-Authenticate<ul>
<li>会把由代理服务器所要求的认证信息发送给客户端</li>
</ul>
</li>
<li>Retry-After<ul>
<li>告知客户端应该在多久之后再次发送请求</li>
<li>主要配合状态码503 Service Unavailable响应，或3xxRedirect响应一起使用</li>
</ul>
</li>
<li>Server<ul>
<li>告知客户端当前服务器上安装的HTTP服务器应用程序的信息</li>
<li>不单单会标出服务器上的软件应用名称，还有可能包括版本号和安装时启用的可选项</li>
</ul>
</li>
<li>Vary<ul>
<li>可对缓存进行控制</li>
<li>源服务器会向代理服务器传达关于本地缓存使用方法的命令</li>
</ul>
</li>
<li>WWW-Authenticate<ul>
<li>用于HTTP访问认证</li>
<li>会告知客户端适用于访问请求URI所指定资源的认证方案（Basic或是Digest）和带参数提示的质询（challenge）</li>
</ul>
</li>
</ul>
<h5 id="6-6-实体首部字段"><a href="#6-6-实体首部字段" class="headerlink" title="6.6 实体首部字段"></a>6.6 实体首部字段</h5><p>包含在请求报文和响应报文中的实体部分所使用的首部，用于补充内容的更新时间等与实体相关的信息。</p>
<ul>
<li>Allow<ul>
<li>用于通知客户端能够支持Request-URI指定资源的所有HTTP方法</li>
<li>不支持的时候，会以状态码405Method Not Allowed作为响应返回，还会把所有能支持的HTTP方法写入首部字段Allow后返回</li>
</ul>
</li>
<li>Content-Encoding<ul>
<li>告知客户端服务器对实体的主体部分选用的内容编码方式</li>
<li>内容编码是指在不丢失实体信息的前提下所进行的压缩</li>
<li>以下4种内容编码的方式：<ul>
<li>gzip </li>
<li>compress</li>
<li>deflate</li>
<li>identity</li>
</ul>
</li>
</ul>
</li>
<li>Content-Language<ul>
<li>告知客户端，实体主体使用的自然语言（指中文或英文等语言）</li>
</ul>
</li>
<li>Content-Length<ul>
<li>表明了实体主体部分的大小（单位是字节）</li>
</ul>
</li>
<li>Content-Location<ul>
<li>给出与报文主体部分相对应的URI</li>
<li>和首部字段Location不同，Content-Location表示的是报文主体返回资源对应的URI</li>
</ul>
</li>
<li>Content-MD5<ul>
<li>一串由MD5算法生成的值，其目的在于检查报文主体在传输过程中是否保持完整，以及确认传输到达</li>
<li>对内容上的偶发性改变是无从查证的，也无法检测出恶意篡改</li>
</ul>
</li>
<li>Content-Range<ul>
<li>返回响应时使用的首部字段Content-Range，能告知客户端作为响应返回的实体的哪个部分符合范围请求</li>
<li>字段值以字节为单位，表示当前发送部分及整个实体大小</li>
</ul>
</li>
<li>Content-Type<ul>
<li>说明了实体主体内对象的媒体类型</li>
</ul>
</li>
<li> Expires</li>
<li>将资源失效的日期告知客户端</li>
<li>在Expires字段值指定的时间之前，响应的副本会一直被保存</li>
<li>当超过指定的时间后，缓存服务器在请求发送过来时，会转向源服务器请求资源</li>
<li>Last-Modified<ul>
<li>指明资源最终修改的时间</li>
<li>一般来说，这个值就是Request-URI指定资源被修改的时间</li>
</ul>
</li>
</ul>
<h5 id="6-7-为Cookie服务的首部字段"><a href="#6-7-为Cookie服务的首部字段" class="headerlink" title="6.7 为Cookie服务的首部字段"></a>6.7 为Cookie服务的首部字段</h5><ul>
<li>Cookie的工作机制是用户识别及状态管理</li>
<li>Cookie的规格标准文档有以下4种</li>
</ul>
<p><img src="/2021/09/30/%E5%9B%BE%E8%A7%A3HTTP/4.png"></p>
<ul>
<li>Set-Cookie<ul>
<li>Set-Cookie的字段值<ul>
<li> expires属性</li>
<li>指定浏览器可发送Cookie的有效期</li>
<li>当省略expires属性时，其有效期仅限于维持浏览器会话（Session）时间段内。这通常限于浏览器应用程序被关闭之前</li>
<li>一旦Cookie从服务器端发送至客户端，服务器端就不存在可以显式删除Cookie的方法。但可通过覆盖已过期的Cookie，实现对客户端Cookie的实质性删除操作</li>
<li>path属性<ul>
<li>可用于限制指定Cookie的发送范围的文件目录</li>
</ul>
</li>
<li>domain属性<ul>
<li>指定的域名可做到与结尾匹配一致</li>
</ul>
</li>
<li>secure属性<ul>
<li>用于限制Web页面<strong>仅在HTTPS</strong>安全连接时，才可以发送Cookie</li>
<li>设置了secure的话<ul>
<li>仅当在<a href="https://www.example.com/%EF%BC%88HTTPS%EF%BC%89%E5%AE%89%E5%85%A8%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E6%89%8D%E4%BC%9A%E8%BF%9B%E8%A1%8CCookie%E7%9A%84%E5%9B%9E%E6%94%B6%E3%80%82%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%AF%B4%EF%BC%8C%E5%8D%B3%E4%BD%BF%E5%9F%9F%E5%90%8D%E7%9B%B8%E5%90%8C%EF%BC%8Chttp://www.example.com/%EF%BC%88HTTP%EF%BC%89%E4%B9%9F%E4%B8%8D%E4%BC%9A%E5%8F%91%E7%94%9FCookie%E5%9B%9E%E6%94%B6%E8%A1%8C%E4%B8%BA">https://www.example.com/（HTTPS）安全连接的情况下才会进行Cookie的回收。也就是说，即使域名相同，http://www.example.com/（HTTP）也不会发生Cookie回收行为</a></li>
</ul>
</li>
<li>当省略secure属性时<ul>
<li>不论HTTP还是HTTPS，都会对Cookie进行回收</li>
</ul>
</li>
</ul>
</li>
<li>HttpOnly属性<ul>
<li>Cookie的扩展功能，它使JavaScript脚本无法获得Cookie</li>
<li>主要目的为防止跨站脚本攻击（Cross-site scripting,XSS）对Cookie的信息窃取</li>
</ul>
</li>
<li>通过上述设置<ul>
<li>通常从Web页面内还可以对Cookie进行读取操作</li>
<li>使用JavaScript的document.cookie就无法读取附加HttpOnly属性后的Cookie的内容了</li>
<li>因此，也就无法在XSS中利用JavaScript劫持Cookie了</li>
</ul>
</li>
</ul>
</li>
<li>Cookie<ul>
<li>当客户端想获得HTTP状态管理支持时，就会在请求中包含从服务器接收到的Cookie</li>
<li>接收到多个Cookie时，同样可以以多个Cookie形式发送</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="6-8-其他首部字段"><a href="#6-8-其他首部字段" class="headerlink" title="6.8 其他首部字段"></a>6.8 其他首部字段</h5><ul>
<li><p>X-Frame-Options</p>
<ul>
<li>属于HTTP响应首部</li>
<li>用于控制网站内容在其他Web网站的Frame标签内的显示问题</li>
<li>其主要目的是为了防止点击劫持（clickjacking）攻击</li>
<li>DENY：拒绝</li>
<li> SAMEORIGIN：仅同源域名下的页面匹配时许可</li>
</ul>
</li>
<li><p>X-XSS-Protection</p>
<ul>
<li>属于HTTP响应首部</li>
<li>针对跨站脚本攻击（XSS）的一种对策，用于控制浏览器XSS防护机制的开关</li>
<li>可指定的字段值：<ul>
<li>0 ：将XSS过滤设置成无效状态</li>
<li>将XSS过滤设置成无效状态</li>
</ul>
</li>
</ul>
</li>
<li><p>DNT</p>
<ul>
<li>属于HTTP请求首部</li>
<li>Do NotTrack的简称，意为拒绝个人信息被收集，是表示拒绝被精准广告追踪的一种方法</li>
<li>可指定的字段值：<ul>
<li> 0 ：同意被追踪</li>
<li>1 ：拒绝被追踪</li>
</ul>
</li>
</ul>
</li>
<li><p> P3P</p>
</li>
<li><p>属于HTTP响应首部</p>
</li>
<li><p>通过利用P3P技术，可以让Web网站上的个人隐私变成一种仅供程序可理解的形式，以达到保护用户隐私的目的</p>
</li>
</ul>
]]></content>
      <categories>
        <category>读书笔记</category>
      </categories>
      <tags>
        <tag>读书笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>算法--冲冲冲</title>
    <url>/2021/10/06/%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h3 id="简单"><a href="#简单" class="headerlink" title="简单"></a>简单</h3><h4 id="1-两数之和"><a href="#1-两数之和" class="headerlink" title="1.两数之和"></a>1.两数之和</h4><p><a href="https://leetcode-cn.com/problems/two-sum">https://leetcode-cn.com/problems/two-sum</a></p>
<p>题目描述：</p>
<p>给定一个整数数组 nums 和一个整数目标值 target，请你在该数组中找出 和为目标值 target  的那 两个 整数，并返回它们的数组下标。</p>
<p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素在答案里不能重复出现。</p>
<p>你可以按任意顺序返回答案。</p>
<h5 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h5><h6 id="（1）暴力求解"><a href="#（1）暴力求解" class="headerlink" title="（1）暴力求解"></a>（1）暴力求解</h6><ul>
<li>获取数组的长度</li>
<li>通过两层循环进行循环遍历</li>
<li><img src="/2021/10/06/%E7%AE%97%E6%B3%95/1.png"></li>
<li>直到找到值相加等于target的，将他们的下标存在数组里面</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span> length=nums.length;<span class="comment">//获取数组的长度</span></span><br><span class="line">        <span class="comment">//通过两层循环找到</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i]+nums[j]==target)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i,j&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;No two sum solution&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="（2）哈希表法"><a href="#（2）哈希表法" class="headerlink" title="（2）哈希表法"></a>（2）哈希表法</h6><ul>
<li>利用Map</li>
<li>Map第一个值存的是值，第二个存的时相应的下标值</li>
<li>通过目标值（target）去减相应的值，去map查看有没有包含这个值，如果有的话就返回，没有的话就要将值放进map里面</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span> len=nums.length;</span><br><span class="line">        Map&lt;Integer,Integer&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;(len-<span class="number">1</span>);</span><br><span class="line">        map.put(nums[<span class="number">0</span>],<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(target-nums[i]))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i,map.get(target-nums[i])&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(nums[i],i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;No two sum solution&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h5><p>求解方式类似于Java的哈希表法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">target</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number[]&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> twoSum = <span class="function"><span class="keyword">function</span>(<span class="params">nums, target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">let</span> j = target-nums[i]</span><br><span class="line">        <span class="keyword">if</span>(map.has(j))&#123;<span class="comment">//如果map中含有该数值的话</span></span><br><span class="line">            <span class="comment">//那我们就要返回数组，即将i和target-nums[i]的下标放进里面</span></span><br><span class="line">            <span class="keyword">return</span> [map.get(j),i]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//如果没有的话，就将值和对应的下标先存入在map中</span></span><br><span class="line">        map.set(nums[i],i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>算法</category>
      </categories>
      <tags>
        <tag>算法</tag>
      </tags>
  </entry>
  <entry>
    <title>软件设计</title>
    <url>/2021/10/08/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%B8%88/</url>
    <content><![CDATA[<h3 id="一、计算机组成与结构"><a href="#一、计算机组成与结构" class="headerlink" title="一、计算机组成与结构"></a>一、计算机组成与结构</h3><h4 id="1-计算机基本工作原理"><a href="#1-计算机基本工作原理" class="headerlink" title="1.计算机基本工作原理"></a>1.计算机基本工作原理</h4><p>当表示数据时并规定了位数后，其能表示的数值范围就确定了，在两个数据进行相加运算的结果超出了该范围后，就发生了溢出。在二进制情况下，溢出时符号位将变反</p>
]]></content>
      <categories>
        <category>题目</category>
      </categories>
      <tags>
        <tag>题目</tag>
      </tags>
  </entry>
  <entry>
    <title>电商管理vue项目实战</title>
    <url>/2021/09/25/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[<p>描述：基于Vue技术栈的SPA项目</p>
<h4 id="一、搭建vue-cli，采用可视化的形式搭建"><a href="#一、搭建vue-cli，采用可视化的形式搭建" class="headerlink" title="一、搭建vue-cli，采用可视化的形式搭建"></a>一、搭建vue-cli，采用可视化的形式搭建</h4><p>1.第一步，win+r打开cmd，然后输入vue ui</p>
<p><img src="/2021/09/25/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/1.png"></p>
<h4 id="二、此项目用到的工具"><a href="#二、此项目用到的工具" class="headerlink" title="二、此项目用到的工具"></a>二、此项目用到的工具</h4><h5 id="1-phpStudy"><a href="#1-phpStudy" class="headerlink" title="1.phpStudy"></a>1.phpStudy</h5><p>是一个php运行环境的集成包,用户不需要去配置运行环境,就可以使用。用它将把sql文件导入mysql</p>
<h5 id="2-postman"><a href="#2-postman" class="headerlink" title="2.postman"></a>2.postman</h5><p>网页调试工具的客户端，用于测试接口</p>
<h5 id="3-VSCode"><a href="#3-VSCode" class="headerlink" title="3.VSCode"></a>3.VSCode</h5><p>进行开发</p>
<h5 id="4-Git"><a href="#4-Git" class="headerlink" title="4.Git"></a>4.Git</h5><p>使用git将项目部署到码云Gitee</p>
<p><a href="https://gitee.com/peng-zeman/vue_shop">https://gitee.com/peng-zeman/vue_shop</a></p>
<h4 id="三、项目中添加的依赖"><a href="#三、项目中添加的依赖" class="headerlink" title="三、项目中添加的依赖"></a>三、项目中添加的依赖</h4><h5 id="1-element-ui"><a href="#1-element-ui" class="headerlink" title="1.element-ui"></a>1.element-ui</h5><ul>
<li><p><a href="https://element.eleme.cn/#/zh-CN">https://element.eleme.cn/#/zh-CN</a></p>
</li>
<li><p>安装方式：npm i element-ui -S</p>
</li>
<li><p>导入方式：在入口文件导入import ‘./plugins/element.js’</p>
</li>
<li><p>再在./plugins/element.js中按需导入</p>
</li>
</ul>
<h5 id="2-axios"><a href="#2-axios" class="headerlink" title="2.axios"></a>2.axios</h5><ul>
<li>安装方式：npm install axios</li>
<li>在入口环境配置</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//这样每一个vue组件可以通过this.$http访问到发起axios请求</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="comment">//配置请求的根路径</span></span><br><span class="line">axios.defaults.baseURL=<span class="string">&#x27;http://127.0.0.1:8888/api/private/v1/&#x27;</span></span><br><span class="line"><span class="comment">//在request中展示进度条NProgress.start()</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line">  NProgress.start()</span><br><span class="line">  <span class="comment">//为请求头对象，添加token验证的Authorization字段</span></span><br><span class="line">  config.headers.Authorization=<span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//在response拦截器中，隐藏进度条NProgress.done()</span></span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line">  NProgress.done()</span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;)</span><br><span class="line">Vue.prototype.$http=axios</span><br></pre></td></tr></table></figure>

<h5 id="3-TreeTable"><a href="#3-TreeTable" class="headerlink" title="3.TreeTable"></a>3.TreeTable</h5><ul>
<li><p>树型表格，可以进行多级扩展表格的创建</p>
</li>
<li><p>安装方式：npm i vue-table-with-tree-grid -S</p>
</li>
<li><p>导入方式：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> TreeTable <span class="keyword">from</span> <span class="string">&#x27;vue-table-with-tree-grid&#x27;</span></span><br><span class="line">Vue.component(<span class="string">&#x27;tree-table&#x27;</span>,TreeTable)</span><br></pre></td></tr></table></figure>

<h5 id="4-VueQuillEditor"><a href="#4-VueQuillEditor" class="headerlink" title="4.VueQuillEditor"></a>4.VueQuillEditor</h5><ul>
<li>富文本编辑器</li>
<li><a href="https://www.kancloud.cn/liuwave/quill/1434140">https://www.kancloud.cn/liuwave/quill/1434140</a></li>
<li>安装方式：npm install vue-quill-editor –save</li>
<li>导入方式：</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入富文本编辑器</span></span><br><span class="line"><span class="keyword">import</span> VueQuillEditor <span class="keyword">from</span> <span class="string">&#x27;vue-quill-editor&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// require styles</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;quill/dist/quill.core.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;quill/dist/quill.snow.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;quill/dist/quill.bubble.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引用富文本编辑器</span></span><br><span class="line">Vue.use(VueQuillEditor)</span><br></pre></td></tr></table></figure>

<h5 id="5-NProgress"><a href="#5-NProgress" class="headerlink" title="5.NProgress"></a>5.NProgress</h5><ul>
<li>加载进度条</li>
<li>安装方式：npm install –save nprogress</li>
<li>导入和使用</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//导入进度条的包</span></span><br><span class="line"><span class="keyword">import</span> NProgress <span class="keyword">from</span> <span class="string">&#x27;nprogress&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;nprogress/nprogress.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//在request中展示进度条NProgress.start()</span></span><br><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line">  NProgress.start()</span><br><span class="line">  <span class="comment">//为请求头对象，添加token验证的Authorization字段</span></span><br><span class="line">  config.headers.Authorization=<span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="6-lodash"><a href="#6-lodash" class="headerlink" title="6.lodash"></a>6.lodash</h5><ul>
<li>用到里面的深拷贝cloneDeep的方法，在添加商品上的goods_form表单</li>
<li>在report生成图表的地方用到merge方法，用于将数据和需要合并的操作合并起来</li>
<li><a href="https://www.lodashjs.com/">https://www.lodashjs.com/</a></li>
<li>安装方式：npm i –save lodash</li>
<li>导入方式：</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入lodash</span></span><br><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span></span><br><span class="line">Vue.prototype._=_</span><br></pre></td></tr></table></figure>

<h5 id="7-echarts"><a href="#7-echarts" class="headerlink" title="7.echarts"></a>7.echarts</h5><ul>
<li><a href="https://echarts.apache.org/handbook/zh/get-started/">https://echarts.apache.org/handbook/zh/get-started/</a></li>
<li>安装方式：npm install echarts –save</li>
<li>引入方式</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//引入echarts</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> echarts <span class="keyword">from</span> <span class="string">&#x27;echarts&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="四、登录-退出功能"><a href="#四、登录-退出功能" class="headerlink" title="四、登录/退出功能"></a>四、登录/退出功能</h4><h5 id="1-登录的业务流程"><a href="#1-登录的业务流程" class="headerlink" title="1.登录的业务流程"></a>1.登录的业务流程</h5><ul>
<li>在登录页面输入用户名和密码</li>
<li>调用后台接口进行验证</li>
<li>通过验证之后，根据后台的响应状态跳转到项目主页</li>
</ul>
<h5 id="2-登录的相关技术点"><a href="#2-登录的相关技术点" class="headerlink" title="2.登录的相关技术点"></a>2.登录的相关技术点</h5><ul>
<li>http无状态的</li>
<li>通过session在服务端记录状态</li>
<li>通过token方式维持状态</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line">  NProgress.start()</span><br><span class="line">  <span class="comment">//为请求头对象，添加token验证的Authorization字段</span></span><br><span class="line">  config.headers.Authorization=<span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3-token原理分析"><a href="#3-token原理分析" class="headerlink" title="3.token原理分析"></a>3.token原理分析</h5><p><img src="/2021/09/25/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/5.png"></p>
<h5 id="4-登录页面布局"><a href="#4-登录页面布局" class="headerlink" title="4.登录页面布局"></a>4.登录页面布局</h5><ul>
<li>el-form 登录表单（具有验证规则）</li>
</ul>
<h5 id="5-登录功能实现"><a href="#5-登录功能实现" class="headerlink" title="5.登录功能实现"></a>5.登录功能实现</h5><p>（1）实现登录</p>
<ul>
<li>用axios调用登录接口<ul>
<li>this.$http.post(‘login’,this.loginForm)</li>
</ul>
</li>
<li>登录成功之后保持用户token信息<ul>
<li>window.sessionStorage.setItem(‘token’, res.data.token)</li>
</ul>
</li>
<li>跳转到项目主页<ul>
<li>this.$router.push(‘/home’)</li>
</ul>
</li>
</ul>
<p>（2）登录功能实现</p>
<ul>
<li>路由导航守卫控制访问权限<ul>
<li>如果用户没有登录，但是直接通过URL访问特定页面，需要重新导航到登录页面。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//挂载路由导航守卫</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//to 将要访问的路径</span></span><br><span class="line">  <span class="comment">//from 代表从那个路径跳转而来</span></span><br><span class="line">  <span class="comment">//next 是一个函数，表示放行</span></span><br><span class="line">  <span class="comment">//next() 放行 next(&#x27;./login&#x27;) 强制跳转</span></span><br><span class="line">  <span class="comment">//如果是登录页面就不需要什么权限，直接放行</span></span><br><span class="line">  <span class="keyword">if</span>(to.path === <span class="string">&#x27;/login&#x27;</span>) <span class="keyword">return</span> next();</span><br><span class="line">  <span class="comment">//获取token值</span></span><br><span class="line">  <span class="keyword">const</span> tokenstr=<span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>);</span><br><span class="line">  <span class="comment">//如果没有token就证明没有</span></span><br><span class="line">  <span class="keyword">if</span>(!tokenstr) <span class="keyword">return</span> next(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">  next();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="6-退出"><a href="#6-退出" class="headerlink" title="6.退出"></a>6.退出</h5><ul>
<li>需要销毁本地的 token 即可</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">logout</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">window</span>.sessionStorage.clear();</span><br><span class="line">            <span class="built_in">this</span>.$router.push(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="五、主页布局"><a href="#五、主页布局" class="headerlink" title="五、主页布局"></a>五、主页布局</h4><h5 id="1-布局"><a href="#1-布局" class="headerlink" title="1.布局"></a>1.布局</h5><ul>
<li>el-container<ul>
<li>el-header</li>
<li>el-container<ul>
<li>el-aside</li>
<li>el-main</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/2021/09/25/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/6.png"></p>
<h5 id="2-通过接口获取菜单数据"><a href="#2-通过接口获取菜单数据" class="headerlink" title="2.通过接口获取菜单数据"></a>2.通过接口获取菜单数据</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// 为请求头对象，添加 Token 验证的 Authorization 字段</span></span><br><span class="line">     config.headers.Authorization = <span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">     <span class="keyword">return</span> config</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3-动态获取路径"><a href="#3-动态获取路径" class="headerlink" title="3.动态获取路径"></a>3.动态获取路径</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;el-menu-item :index=&quot;&#x27;/&#x27;+subItem.path&quot; v-for=&quot;subItem in item.children&quot; :key=&quot;subItem.id&quot;</span><br><span class="line">        @click=&quot;saveNavState(&#x27;/&#x27;+subItem.path)&quot;&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//保存链接激活状态</span></span><br><span class="line"><span class="function"><span class="title">saveNavState</span>(<span class="params">activePath</span>)</span>&#123;</span><br><span class="line">   <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&#x27;activePath&#x27;</span>,activePath)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="六、所有模块的共同点"><a href="#六、所有模块的共同点" class="headerlink" title="六、所有模块的共同点"></a>六、所有模块的共同点</h4><h5 id="1-分页"><a href="#1-分页" class="headerlink" title="1.分页"></a>1.分页</h5><p>用el-pagination分页器</p>
<h5 id="2-增删查改"><a href="#2-增删查改" class="headerlink" title="2.增删查改"></a>2.增删查改</h5><ul>
<li>增：都是通过增加新的参数传到后台</li>
<li>删：根据id删除并刷新页面</li>
<li>改：查询之后更改</li>
</ul>
]]></content>
      <categories>
        <category>练手项目</category>
      </categories>
      <tags>
        <tag>练手项目</tag>
      </tags>
  </entry>
  <entry>
    <title>html+css+js</title>
    <url>/2021/09/10/%E9%9D%A2%E8%AF%95/</url>
    <content><![CDATA[<h3 id="js"><a href="#js" class="headerlink" title="js"></a>js</h3><h4 id="1-预编译习题"><a href="#1-预编译习题" class="headerlink" title="1.预编译习题"></a>1.预编译习题</h4><p>作用域的创建阶段-&gt;预编译的阶段</p>
<p>预编译的时候做了哪些事情：</p>
<p>函数作用域创建阶段</p>
<ul>
<li>js的变量对象-&gt;AO对象，供js引擎自己去访问的</li>
</ul>
<p>预编译的四个步骤：</p>
<ul>
<li>创建了AO对象</li>
<li>找形参和变量的声明，作为ao对象的属性名，值是undefined</li>
<li>实参和形参相统一</li>
<li>找函数声明，如果函数声明和变量声明一致会覆盖变量声明</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">a,c</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)<span class="comment">//function a()&#123;&#125;</span></span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">123</span></span><br><span class="line">    <span class="built_in">console</span>.log(a)<span class="comment">//123</span></span><br><span class="line">    <span class="built_in">console</span>.log(c)<span class="comment">//function c()&#123;&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125; <span class="comment">//函数声明</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">false</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> d=<span class="number">678</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(d)<span class="comment">//undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log(b)<span class="comment">//undefined</span></span><br><span class="line">    <span class="keyword">var</span> b=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;<span class="comment">//函数表达式</span></span><br><span class="line">    <span class="built_in">console</span>.log(b)<span class="comment">//function()&#123;&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="built_in">console</span>.log(c)<span class="comment">//function c()&#123;&#125;</span></span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">AO：&#123;</span><br><span class="line">	<span class="attr">a</span>:<span class="literal">undefined</span> <span class="number">1</span> <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="attr">c</span>:<span class="literal">undefined</span> <span class="number">2</span> <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    <span class="attr">d</span>:<span class="literal">undefined</span></span><br><span class="line">    <span class="attr">b</span>:<span class="literal">undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-js-this"><a href="#2-js-this" class="headerlink" title="2.js-this"></a>2.js-this</h4><p>方法：</p>
<ul>
<li>在函数中直接使用时指向window</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">content</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(content)</span><br><span class="line">&#125;</span><br><span class="line">get(<span class="string">&#x27;你好&#x27;</span>)</span><br><span class="line">get.call(<span class="built_in">window</span>,<span class="string">&#x27;你好&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>函数作为对象的方法被调用（谁调用我 我就指向谁）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">run</span>:<span class="function"><span class="keyword">function</span>(<span class="params">time</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>在跑步，用了<span class="subst">$&#123;time&#125;</span>min`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">person.run(<span class="number">30</span>)</span><br><span class="line">perosn.run.call(person,<span class="number">30</span>)</span><br></pre></td></tr></table></figure>

<p>例题：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="number">222</span></span><br><span class="line"><span class="keyword">var</span> a=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="number">111</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun=a.say</span><br><span class="line">fun()<span class="comment">//这个是函数，那么this指向window,222</span></span><br><span class="line">a.say()<span class="comment">//作为对象方法调用，this.name=111</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="number">333</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function"><span class="keyword">function</span>(<span class="params">fun</span>)</span>&#123;</span><br><span class="line">        fun()<span class="comment">//这是函数，指向window,222</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">b.say(a.say)</span><br><span class="line">b.say=a.say<span class="comment">//意思是将console.log(this.name)替换fun()</span></span><br><span class="line">b.say()<span class="comment">//b.say.call(b) 333</span></span><br></pre></td></tr></table></figure>

<h4 id="3-箭头函数的this技巧"><a href="#3-箭头函数的this技巧" class="headerlink" title="3.箭头函数的this技巧"></a>3.箭头函数的this技巧</h4><ul>
<li>箭头函数中的this是在定义函数的时候绑定，而不是在执行函数的时候绑定</li>
<li>箭头函数中，this指向的固定化，并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，导致内部的this就是外层代码块的this。正式因为它没有this，所以也就不能用作构造函数</li>
<li>箭头函数中的this是在定义函数的时候绑定</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x=<span class="number">11</span>;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">	<span class="attr">x</span>:<span class="number">22</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.x)<span class="comment">//11</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.say();</span><br></pre></td></tr></table></figure>

<ul>
<li>所谓的定义时候绑定，就是this是继承自父执行上下文中的this，比如这里的箭头函数中的this.x，箭头函数本身与say平级以key:value的形式，也就是箭头函数本身所在的对象为obj，而obj的父执行上下文就是window，因此这里的this.x实际上表示的是window.x,因此输出的是1</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="attr">birth</span>:<span class="number">1900</span>,</span><br><span class="line">    <span class="attr">getAge</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> b=<span class="built_in">this</span>.birth;<span class="comment">//1900</span></span><br><span class="line">        <span class="keyword">var</span> fn=<span class="function">()=&gt;</span><span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear()-<span class="built_in">this</span>.birth;<span class="comment">//this指向obj对象</span></span><br><span class="line">        <span class="keyword">return</span> fn()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge();</span><br></pre></td></tr></table></figure>

<ul>
<li>例子中箭头函数本身是在getAge方法中定义的，因此，getAge方法的父执行上下文是obj，因此这里的this指向则为obj对象</li>
</ul>
<h4 id="4-js的深浅拷贝"><a href="#4-js的深浅拷贝" class="headerlink" title="4.js的深浅拷贝"></a>4.js的深浅拷贝</h4><p><strong>浅拷贝</strong></p>
<ul>
<li>创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝</li>
<li>如果属性是基本类型，拷贝的就是基本类型的值</li>
<li>如果属性是引用类型，拷贝的就是内存</li>
<li>所以，如果其中一个对象改变了整个地址，就会影响到另一个对象</li>
</ul>
<p><strong>深拷贝</strong></p>
<ul>
<li>将一个对象从内存中完整的拷贝一份出来，从堆内存中开辟一个新的区域存放新对象，且修改新对象不会影响原对象</li>
</ul>
<p><strong>针对引用类型来说   赋值   深拷贝  浅拷贝的区别</strong></p>
<p>赋值都会影响，浅拷贝影响引用类型，深拷贝都不会影响</p>
<ul>
<li>赋值<ul>
<li>当我们把一个对象赋值给一个新的变量时，赋的其实是该对象在栈中的地址，而不是堆中的数据。也就是两个对象指向的是同一个存储空间，无论哪个对象发生个改变，其实都是改变的存储空间的内容，因此，两个对象是联动的</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>:[<span class="string">&#x27;学习&#x27;</span>,[<span class="string">&#x27;玩游戏&#x27;</span>,<span class="string">&#x27;看电影&#x27;</span>],<span class="string">&#x27;散步&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1=person</span><br><span class="line">person1.name=<span class="string">&quot;hi&quot;</span></span><br><span class="line">person1.hobby[<span class="number">0</span>]=<span class="string">&#x27;玩耍&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(person)</span><br><span class="line"><span class="built_in">console</span>.log(person1)</span><br><span class="line"><span class="comment">//两个的结果都是一样，都是赋值后改变的结果</span></span><br></pre></td></tr></table></figure>

<ul>
<li>浅拷贝<ul>
<li>重新在堆中创建内存，拷贝前后对象的基本数据类型互不影响，但拷贝前后对象的<strong>引用类型</strong>因共享同一块内存，会相互影响</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shallowCopy</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> target=&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    	<span class="keyword">if</span>(obj.hasOwnProperty(i))&#123;</span><br><span class="line">        	target[i]=obj[i]</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="keyword">return</span> target</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1=shallowCopy(person)</span><br><span class="line">person1.name=<span class="string">&quot;hi&quot;</span><span class="comment">//这个部分两个都不一样</span></span><br><span class="line">person1.hobby[<span class="number">0</span>]=<span class="string">&#x27;玩耍&#x27;</span><span class="comment">//都是改变后的</span></span><br><span class="line"><span class="built_in">console</span>.log(person)</span><br><span class="line"><span class="built_in">console</span>.log(person1)</span><br></pre></td></tr></table></figure>

<ul>
<li>深拷贝（代码部分还需加强理解）//递归思想<ul>
<li>从堆内存中开辟一个新的区域存放新对象，对对象中的子对象进行递归拷贝，拷贝前后的两个对象互不影响</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">hobby</span>:[<span class="string">&#x27;学习&#x27;</span>,[<span class="string">&#x27;玩游戏&#x27;</span>,<span class="string">&#x27;看电影&#x27;</span>],<span class="string">&#x27;散步&#x27;</span>],</span><br><span class="line">    <span class="attr">date</span>:<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;\\w+&#x27;</span>),</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cloneObj=<span class="keyword">new</span> obj.constructor()</span><br><span class="line">    <span class="keyword">if</span>(obj===<span class="literal">null</span>) <span class="keyword">return</span> obj</span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(obj)</span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(obj)</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span> obj</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.hasOwnProperty(i))&#123;</span><br><span class="line">            cloneObj[i]=deepClone(obj[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cloneObj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1=<span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(person))</span><br><span class="line">person1.name=<span class="string">&#x27;王晓星&#x27;</span></span><br><span class="line">person1.hobby[<span class="number">0</span>]=<span class="string">&#x27;玩耍&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(person)</span><br><span class="line"><span class="built_in">console</span>.log(person1)</span><br></pre></td></tr></table></figure>

<h4 id="5-防抖函数的理解和实现"><a href="#5-防抖函数的理解和实现" class="headerlink" title="5.防抖函数的理解和实现"></a>5.防抖函数的理解和实现</h4><p>是闭包的实际应用</p>
<p><strong>防抖函数</strong></p>
<ul>
<li>当持续触发事件，一定时间内没有再触发事件，事件处理函数才会执行一次</li>
<li>如果设定的事件到来之前，又一次触发了事件 ，就重新开始延时</li>
<li>触发事件，一段时间内，没有触发，事件执行，肯定是定时器</li>
<li>在设定的时间内，又一次触发了事件，重新开始延时，代表的就是重新开始定时器，那么意味着上一次还没有结束的定时器要清除掉，重新开始</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> timer</span><br><span class="line"><span class="built_in">clearInterval</span>(timer)</span><br><span class="line">timer=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;,delay)</span><br></pre></td></tr></table></figure>

<p>接下来我们一起来看防抖函数中的代码怎么写吧</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> input=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;input&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="comment">//防抖函数</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//delay是延迟时间，value是我们从键盘敲进去的值</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//function debounce(delay,value)&#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//我们想要清除的是setTimeout，那我们应该存储这个timer的变量，也就是让定时器重新定时，timer变量要一直保存在内存当中，既然你不想打印之前已经输入的结果，就要清除以前触发的定时器</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// let timer</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// clearTimeout(timer)</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// timer=setTimeout(function()&#123;</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">//     console.log(value)</span></span></span><br><span class="line"><span class="javascript">       <span class="comment">// &#125;,delay)</span></span></span><br><span class="line"><span class="javascript">   <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="comment">//为了让timer一直在内存中，我们引入了闭包（函数嵌套着函数）</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">delay,callback</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> timer</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearTimeout</span>(timer)</span></span><br><span class="line"><span class="javascript">                timer=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//console.log(value)</span></span></span><br><span class="line"><span class="javascript">                    callback(value)</span></span><br><span class="line"><span class="javascript">                &#125;,delay)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">           </span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="comment">//我想让结果在外部</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">value</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(value)</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//需要实现的是，输入框的结果只出现一次，是我在键盘抬起不再输入后的1秒</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> debounceFunc=debounce(<span class="number">1000</span>,fn)</span></span><br><span class="line"><span class="javascript">    input.addEventListener(<span class="string">&#x27;keyup&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        debounceFunc(e.target.value)</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>防抖函数的应用</strong></p>
<p>使用echarts时，改变浏览器宽度的时候，希望重新渲染</p>
<p>echarts的图像，可以使用此函数，提升性能（虽然echarts里有自带的resize函数）</p>
<p>典型的案例就是输入搜索：输入结束后n秒才进行搜索请求，n秒内又输入的内容，就重新计时，解决搜索的bug</p>
<h4 id="6-节流函数的理解和实现"><a href="#6-节流函数的理解和实现" class="headerlink" title="6.节流函数的理解和实现"></a>6.节流函数的理解和实现</h4><p>闭包的实际应用</p>
<p>当持续触发事件的时候，保证一段时间内，只调用一次事件处理函数。一段时间内，只做一件事</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;button&quot;</span>&gt;</span></span><br><span class="line">        点击</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">thro</span>(<span class="params">fun,wait</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> timeout</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(!timeout)&#123;<span class="comment">//因为刚开始是空的要取反</span></span></span><br><span class="line"><span class="javascript">                timeout=<span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    func()</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//不做了</span></span></span><br><span class="line"><span class="javascript">                    timeout=<span class="literal">null</span></span></span><br><span class="line"><span class="javascript">                &#125;,wait)</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random())</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;button&#x27;</span>).onclick=thro(handle,<span class="number">2000</span>)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="7-js作用域"><a href="#7-js作用域" class="headerlink" title="7.js作用域"></a>7.js作用域</h4><p>作用域：一般理解为一个变量的作用范围</p>
<p><strong>全局作用域</strong></p>
<ul>
<li>全局作用域在页面打开时被创建，页面关闭时被销毁</li>
<li>编写在script标签中的变量和函数，作用域为全局，在页面的任意位置都可以访问到</li>
<li>在全局作用域中有全局对象window，代表一个浏览器窗口，由浏览器创建，可以直接调用</li>
<li>全局作用域中声明的变量和函数会作为window对象的属性和方法保存</li>
</ul>
<p><strong>函数作用域</strong></p>
<ul>
<li>调用函数时，函数作用域被创建，函数执行完毕，函数作用域被销毁</li>
<li>每调用一次函数就会创建一个新的函数作用域，他们之间是相互独立的</li>
<li>在函数作用域中可以访问到全局作用域的变量，在函数外无法访问到函数作用域内的变量</li>
<li>在函数作用域中访问变量、函数时，会先在自身作用域中寻找，若没有找到，则会到函数的上一级作用域中寻找，一直到全局作用域</li>
</ul>
<p><strong>作用域的深层次理解</strong></p>
<ul>
<li>执行期的上下文<ul>
<li>当函数代码执行的前期，会创建一个执行期上下文的内部对象AO（作用域）</li>
<li>这个内部对象是预编译的时候创建出来的，因为当函数被调用的时候，会先进行预编译</li>
<li>在全局代码执行的前期会创建一个执行期的上下文的对象GO</li>
</ul>
</li>
</ul>
<h4 id="8-js作用域链"><a href="#8-js作用域链" class="headerlink" title="8.js作用域链"></a>8.js作用域链</h4><p>作用域链的作用主要用于<strong>查找标识符</strong>，当作用域需要查询变量的时候会沿着作用域链依次查找，如果找到标识符就会停止搜索，否则将会沿着作用域链依次向后查找，直到作用域链的结尾。</p>
<p>内部环境可以通过作用域链来访问外部环境的属性和方法，但是，外部环境不能访问内部环境的任何属性和方法。注意，只能通过<strong>定义函数</strong>来延长作用域链条。</p>
<h4 id="9-js闭包"><a href="#9-js闭包" class="headerlink" title="9.js闭包"></a>9.js闭包</h4><p>闭包就是能够读取其他函数内部变量的函数。由于在Javascript语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成“定义在一个函数内部的函数”。所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p>
<p> <strong>作用：</strong>闭包可以用在许多地方。它的最大用处有两个</p>
<ul>
<li>可以读取函数内部的变量</li>
<li>让这些变量的值始终保持在内存中</li>
</ul>
<p>例子：函数b就是一个闭包函数，用于获取函数a内部的变量i。当函数a的内部函数b，被函数a外的一个变量c引用的时候，就创建了一个闭包。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i=<span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(++i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c=a()</span><br><span class="line">c()</span><br></pre></td></tr></table></figure>

<p> <strong>注意事项：</strong></p>
<p>1）由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</p>
<p>2）闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</p>
<h4 id="10-js闭包实现单例模式"><a href="#10-js闭包实现单例模式" class="headerlink" title="10.js闭包实现单例模式"></a>10.js闭包实现单例模式</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//js的单例模式 实现登录</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> createLogin = <span class="function"><span class="keyword">function</span>(<span class="params">a,b,c</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(a,b,c)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">            div.innerHTML=<span class="string">&#x27;我是登录的弹窗&#x27;</span></span></span><br><span class="line"><span class="javascript">            div.style.display=<span class="string">&#x27;none&#x27;</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">document</span>.body.appendChild(div)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> div</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> getSingle=<span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> result;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> result || (result=fn.apply(<span class="built_in">this</span>,<span class="built_in">arguments</span>))</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">        </span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> create=getSingle(createLogin)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn&#x27;</span>).onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> loginlay=create(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span></span><br><span class="line"><span class="javascript">            loginlay.style.display=<span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="11-js运行机制-arguments对象-内存泄露-手写map方法"><a href="#11-js运行机制-arguments对象-内存泄露-手写map方法" class="headerlink" title="11.js运行机制-arguments对象-内存泄露-手写map方法"></a>11.js运行机制-arguments对象-内存泄露-手写map方法</h4><p><strong>js离不开用户的操作的和用途有关</strong></p>
<ul>
<li>单线程：同一时间做同一件事情</li>
</ul>
<p><strong>arguments的对象是什么</strong></p>
<ul>
<li><p>箭头函数没有arguments对象</p>
</li>
<li><p>类数组对象，有类属性，没有数组的方法</p>
</li>
<li><p>类数组对象怎么转换成数组？</p>
<ul>
<li>es6中的…展开运算符</li>
<li>借助Array.prototype.slice.call(arguments)</li>
</ul>
</li>
</ul>
<p><strong>哪些操作会造成内存泄露</strong></p>
<ul>
<li>闭包</li>
<li>意外的全局变量</li>
<li>被遗忘的定时器</li>
<li>脱离dom的引用</li>
</ul>
<p><strong>什么是高阶函数</strong></p>
<p>将函数作为参数或者返回值的函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">highOrder</span>(<span class="params">params,callback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> callback(params)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br></pre></td></tr></table></figure>

<p><strong>手写实现Array.prototype.map方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> array=arr.map(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(array)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">map</span>(<span class="params">arr,mapCallback</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">Array</span>.isArray(arr)||!arr.length||<span class="keyword">typeof</span> mapCallback!==<span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> result=[]</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,len=arr.length;i&lt;len;i++)&#123;</span><br><span class="line">            result.push(mapCallback(arr[i],i,arr))</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> res=map(arr,<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> item*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure>

<h4 id="12-js的时间循环机制-event-loop"><a href="#12-js的时间循环机制-event-loop" class="headerlink" title="12.js的时间循环机制-event-loop"></a>12.js的时间循环机制-event-loop</h4><p><strong>js语言的特点</strong></p>
<p>单线程</p>
<p><strong>event-loop</strong></p>
<p>事件循环机制 由三部分组成</p>
<p>调用栈 微任务机制 消息队列</p>
<p>event-loop开始的时候会从全局一行一行的执行，遇到函数调用，会压入到调用栈中，被压入的函数被称之为帧，当函数返回后会从调用栈中弹出</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    fun1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">fun2()</span><br></pre></td></tr></table></figure>

<p>图解：</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/1.png"></p>
<p><strong>js中的异步操作</strong></p>
<p>比如fetch setTimeout setInterval 压入到调用栈中的时候里面的消息会进去到消息队列中去，消息队列中的会等到调用栈清空之后再执行</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">    func1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">func2()</span><br></pre></td></tr></table></figure>

<p>图解：</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/2.png"></p>
<p><strong>promise async await的异步操作</strong></p>
<p>会加入到微任务中去，会在调用栈清空的时候立即执行，调用栈中加入的微任务会立马执行</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resovle</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">    resovle(<span class="number">5</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;,<span class="number">0</span>)</span><br><span class="line">    func1()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">    p.then(<span class="function"><span class="params">resolve</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(resolve)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">func2()</span><br></pre></td></tr></table></figure>

<p>图解：</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/3.png"></p>
<h4 id="13-数组扁平化处理"><a href="#13-数组扁平化处理" class="headerlink" title="13.数组扁平化处理"></a>13.数组扁平化处理</h4><p>指将一个多维数组变为一个一维数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[<span class="number">1</span>,[<span class="number">2</span>,[<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]]],<span class="number">6</span>]</span><br></pre></td></tr></table></figure>

<p><strong>方法一：使用flat()</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=arr.flat(<span class="literal">Infinity</span>)或者是<span class="number">3</span>也可以</span><br></pre></td></tr></table></figure>

<p><strong>方法二：利用正则</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=<span class="built_in">JSON</span>.stringify(arr).replace(<span class="regexp">/\[|\]/g</span>,<span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>但数据类型都会变为字符串</p>
<p><strong>方法三：正则改良版本</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=<span class="built_in">JSON</span>.parse(<span class="string">&#x27;[&#x27;</span>+<span class="built_in">JSON</span>.stringify(arr).replace(<span class="regexp">/\[|\]/g</span>,<span class="string">&#x27;&#x27;</span>)+<span class="string">&#x27;]&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>方法四：使用reduce</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten=<span class="function"><span class="params">arr</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.reduce(</span><br><span class="line">    <span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pre.concat(<span class="built_in">Array</span>.isArray(cur)?flatten(cur):cur)</span><br><span class="line">    &#125;,[])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res=flatten(arr)</span><br></pre></td></tr></table></figure>

<p><strong>方法五：函数递归</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> res=[]</span><br><span class="line"><span class="keyword">const</span> fn=<span class="function"><span class="params">arr</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(arr[i]))&#123;</span><br><span class="line">            fn(arr[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            res.push(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fn(arr)</span><br></pre></td></tr></table></figure>

<h4 id="14-reduce的详解"><a href="#14-reduce的详解" class="headerlink" title="14.reduce的详解"></a>14.reduce的详解</h4><p><strong>js数组中的reduce方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,cur,index,arr</span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;,init)</span><br><span class="line">或者</span><br><span class="line">arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,cur,index,arr</span>)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>arr:表示将要原数组</li>
<li>prev:表示上一次调用回调时的返回值，或者初始值init</li>
<li>cur:表示当前正在处理的数组元素</li>
<li>index:表示荡秋千正在处理的数组元素的索引，若提供init值，则索引为0，否则索引为1</li>
<li>init表示初始值</li>
</ul>
<p>cur与index是一起的</p>
<p><strong>常用的参数只有两个：prev和cur</strong></p>
<ul>
<li>数组求和，求乘积</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="comment">//求和</span></span><br><span class="line"><span class="keyword">var</span> sum=arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;<span class="comment">//最开始pre为1，cur为2；如果有初始值，那么pre=init,cur等于index=0的值即1</span></span><br><span class="line">    <span class="keyword">return</span> pre+cur</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(sum)</span><br><span class="line"></span><br><span class="line"><span class="comment">//求积</span></span><br><span class="line"><span class="keyword">var</span> multiple=arr.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pre*cur</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(multiple)</span><br></pre></td></tr></table></figure>

<ul>
<li>计算数组中每个元素出现的次数</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> person=[<span class="string">&#x27;张曼玉&#x27;</span>,<span class="string">&#x27;刘嘉玲&#x27;</span>,<span class="string">&#x27;杨幂&#x27;</span>,<span class="string">&#x27;刘嘉玲&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> nameNum=person.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(cur <span class="keyword">in</span> pre)&#123;</span><br><span class="line">        pre[cur]++</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        pre[cur]=<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre</span><br><span class="line">&#125;,&#123;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>数组去重</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr3=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">78</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">var</span> res=arr3.reduce(<span class="function">(<span class="params">pre,cur</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!pre.includes(cur))&#123;</span><br><span class="line">        <span class="keyword">return</span> pre.concat(cur)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pre</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,[])</span><br></pre></td></tr></table></figure>

<ul>
<li>将二维数组转化为一维数组</li>
<li>将多维数组转化成一维数组</li>
<li>对象里的属性求和</li>
</ul>
<h4 id="15-call-apply-bind"><a href="#15-call-apply-bind" class="headerlink" title="15.call   apply    bind"></a>15.call   apply    bind</h4><p><strong>意义</strong>：改变函数执行时的上下文，改变this的指向</p>
<p><strong>区别</strong>：</p>
<ul>
<li>call/apply和bind的区别在于：call/apply是立即执行的，bind不是</li>
<li>call和apply的区别在于：call里面是不能放数组的，要放全部数字但可以放扩展数组，apply就可以放数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;林彦俊&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype=&#123;</span><br><span class="line">    <span class="attr">constructor</span>:Child,</span><br><span class="line">    <span class="attr">showName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child=<span class="keyword">new</span> Child(<span class="string">&#x27;哈哈哈&#x27;</span>)</span><br><span class="line">child.showName()<span class="comment">//哈哈哈</span></span><br><span class="line">child.showName.call(obj)</span><br><span class="line">child.showName.apply(obj)</span><br><span class="line"><span class="keyword">let</span> bind=child.showName.child(obj)</span><br><span class="line">bind()</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.call(<span class="literal">null</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.call(<span class="literal">null</span>,arr1))<span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.call(<span class="literal">null</span>,...arr1))<span class="comment">//4</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr1))<span class="comment">//4</span></span><br></pre></td></tr></table></figure>

<p><strong>应用</strong></p>
<ul>
<li>将伪数组arrayLike转化成数组</li>
</ul>
<p>伪数组：也称为类数组，是一种按照索引存储数据且具有length属性的对象。因为是对象所以不能调用数组的方法</p>
<p>常见的伪数组有：arguments,document.querySelectorAll()等批量选择元素的方法的返回值，<inuput>文件上传后的files</inuput></p>
<p>(1)document的</p>
<p>ie8以下不能用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">let div=document.hetElementsByTagName(&#x27;div&#x27;)</span><br><span class="line">console.log(div)</span><br><span class="line">let arr=Array.prototype.slice.call(div)</span><br><span class="line">console.log(arr)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">listToArray</span>(<span class="params">likeArray</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ary=[]</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        ary=<span class="built_in">Array</span>.prototype.slice.call(likeArray)</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;likeArray.length;i++)&#123;</span><br><span class="line">            ary[ary.length]=likeArray[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(2)arguments</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>))</span><br><span class="line">&#125;</span><br><span class="line">fn(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>(3)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1=&#123;</span><br><span class="line">	<span class="number">0</span>:<span class="number">0</span>，</span><br><span class="line">    <span class="number">1</span>:<span class="string">&#x27;ddd&#x27;</span>,</span><br><span class="line">    <span class="number">2</span>:<span class="string">&#x27;ss&#x27;</span>,</span><br><span class="line">    <span class="attr">length</span>:<span class="number">3</span><span class="comment">//一定要有的</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.prototype.slice.call(obj1))</span><br></pre></td></tr></table></figure>

<ul>
<li>数组的拼接</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr11=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr22=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="built_in">console</span>.log(arr11.concat(arr22))<span class="comment">//不会改变原来的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//apply来实现</span></span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr11,arr22)</span><br><span class="line"><span class="built_in">console</span>.log(arr11)</span><br></pre></td></tr></table></figure>

<ul>
<li>判断数据类型</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> array1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object Array]&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object Object]&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object String]&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(array)===<span class="string">&#x27;[object Null]&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="16-原型与原型链"><a href="#16-原型与原型链" class="headerlink" title="16.原型与原型链"></a>16.原型与原型链</h4><h5 id="（1）原型"><a href="#（1）原型" class="headerlink" title="（1）原型"></a>（1）原型</h5><p><strong>原型</strong>：<strong>原型是定义了一些公用的属性和方法，利用原型创建出来的新对象实例会共享原型的所有属性和方法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//开启严格模式，原型的属性和方法还是会被原型实例所共享的</span></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span></span><br><span class="line"><span class="comment">//创建原型</span></span><br><span class="line"><span class="keyword">var</span> Person=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原型的方法</span></span><br><span class="line">Person.prototype.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name+<span class="string">&quot;,hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化创建新的原型对象，新的原型对象会共享原型的属性和方法</span></span><br><span class="line"><span class="keyword">var</span> person1=<span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line"></span><br><span class="line">person1.sayHello()</span><br></pre></td></tr></table></figure>

<p><strong>通过原型创建的新对象实例是相互独立的，为新对象实例添加的方法只有该实例拥有这个方法，其它实例是没有这个方法的</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//创建原型</span></span><br><span class="line"><span class="keyword">var</span> Person=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//原型的方法</span></span><br><span class="line">Person.prototype.sayHello=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name+<span class="string">&quot;,hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//实例化创建新的原型对象，新的原型对象会共享原型的属性和方法</span></span><br><span class="line"><span class="keyword">var</span> person1=<span class="keyword">new</span> Person(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> person2=<span class="keyword">new</span> Person(<span class="string">&#x27;lisa&#x27;</span>)</span><br><span class="line"></span><br><span class="line">person1.sayHello()</span><br><span class="line">person2.sayHello()</span><br><span class="line"><span class="comment">//为新对象实例添加方法</span></span><br><span class="line"><span class="comment">//通过原型创建的新对象实例是相互独立的</span></span><br><span class="line">person1.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line">person1.getName();<span class="comment">//张三</span></span><br><span class="line">person2.getName();<span class="comment">//无法获取</span></span><br></pre></td></tr></table></figure>

<p><strong>原型的分类</strong>：</p>
<ul>
<li>隐式原型（_proto_）：上面说的这个原型是JavaScript中的内置属性[[prototype]]，此属性继承自object对象，在脚本中没有标准的方式访问[[prototype]]，但Firefox、Safari和Chrome在每个对象上都支持一个属性_proto_，隐式原型的作用是用来构成原型链，实现基于原型的继承</li>
<li>显示原型（prototype）：每一个函数在创建之后，便会拥有一个prototype属性，这个属性指向函数的原型对象，显示原型的作用是用来实现基于原型的继承与属性的共享</li>
</ul>
<p><strong>总结</strong></p>
<ul>
<li>所有引用类型都有一个<code>__proto__</code>(隐式原型)属性，属性值是一个普通的对象</li>
<li>所有函数都有一个prototype(原型)属性，属性值是一个普通的对象</li>
<li>所有引用类型的<code>__proto__</code>属性指向它构造函数的prototype</li>
<li>函数的原型prototype：<strong>函数才有prototype</strong>，prototype是一个对象，指向了当前构造函数的引用地址</li>
<li>函数的原型对象<code>__proto__</code>(隐式原型)：所有对象都有<code>__proto__</code>(隐式原型)属性， 当用构造函数实例化（new）一个对象时，会将新对象的<code>__proto__</code>(隐式原型)属性指向 构造函数的prototype</li>
<li>所有函数的__proto__都是指向Function的prototype</li>
<li>构造函数new出来的对象__proto__指向构造函数的prototype</li>
<li>非构造函数实例化出的对象或者对象的prototype的__proto__指向Object的prototype<br>Object的prototype指向null</li>
<li>所有的原型对象都会自动获得一个 constructor（构造函数）属性，这个属性（是一个指针）指向 prototype 属性所在的函数（Person）</li>
<li>实例的构造函数属性（constructor）指向构造函数 ：person1.constructor == Person</li>
<li>原型对象（Person.prototype）是 构造函数（Person）的一个实例</li>
</ul>
<h5 id="2-原型链"><a href="#2-原型链" class="headerlink" title="(2)原型链"></a>(2)原型链</h5><p>原型链是原型对象创建过程的历史记录，当访问一个对象的某个属性时，会先在这个对象本身属性上查找，如果没有找到，则会去它的__proto__隐式原型上查找，即它的构造函数的prototype，如果还没有找到就会再在构造函数的prototype的__proto__中查找，这样一层一层向上查找就会形成一个链式结构</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/10.png"></p>
<h4 id="17-原型链的继承"><a href="#17-原型链的继承" class="headerlink" title="17.原型链的继承"></a>17.原型链的继承</h4><p>让子类的原型对象指向父类的实例，当子类的实例找不到对应的属性和方法时，它会沿着原型链往上找</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=<span class="string">&#x27;哈哈哈哈&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//子类的原型对象指向父类的实例</span></span><br><span class="line">Child.prototype=<span class="keyword">new</span> Parent()</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="comment">//创建子类的实例</span></span><br><span class="line"><span class="keyword">const</span> child=<span class="keyword">new</span> Child()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child.name)<span class="comment">//哈哈哈</span></span><br><span class="line"><span class="built_in">console</span>.log(child.getName)<span class="comment">//哈哈哈</span></span><br></pre></td></tr></table></figure>

<p><strong>缺点</strong>：父类如果有多个实例，当一个实例改变里面的内容时，另一个也会被改变；没有实现super功能，也就是没有办法对父类传参</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=<span class="string">&#x27;哈哈哈哈&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//子类的原型对象指向父类的实例</span></span><br><span class="line">Child.prototype=<span class="keyword">new</span> Parent()</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="comment">//创建子类的实例</span></span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//heheh</span></span><br></pre></td></tr></table></figure>

<h4 id="18-构造函数继承"><a href="#18-构造函数继承" class="headerlink" title="18.构造函数继承"></a>18.构造函数继承</h4><p>解决原型链继承的缺点1指向同一个实例，但是不能够继承父类原型上的方法和属性</p>
<p>在子类的构造函数中执行父类的构造函数，并且为其绑定子类的this</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[name]</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Parent.call(<span class="built_in">this</span>,<span class="string">&#x27;林彦俊&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//林彦俊</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.getName())<span class="comment">//无法输出</span></span><br></pre></td></tr></table></figure>

<h4 id="19-组合式继承"><a href="#19-组合式继承" class="headerlink" title="19.组合式继承"></a>19.组合式继承</h4><p>缺点：每执行一次就要执行 Parent.call和Child.prototype</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[name]</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Parent.call(<span class="built_in">this</span>,<span class="string">&#x27;林彦俊&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype=<span class="keyword">new</span> Parent()</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//林彦俊</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.getName())<span class="comment">//林彦俊</span></span><br></pre></td></tr></table></figure>

<h4 id="20-寄生式组合继承"><a href="#20-寄生式组合继承" class="headerlink" title="20.寄生式组合继承"></a>20.寄生式组合继承</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.name=[name]</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.getName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    Parent.call(<span class="built_in">this</span>,<span class="string">&#x27;林彦俊&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//缺点：在子类加方法会影响到父类的操作</span></span><br><span class="line">Child.prototype=Parent.prototype</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="comment">//解决方法：通过浅拷贝</span></span><br><span class="line">Child.prototype=<span class="built_in">Object</span>.create(Parent.prototype)</span><br><span class="line">Child.prototype.constructor=Child</span><br><span class="line"><span class="keyword">const</span> child1=<span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">const</span> child2=<span class="keyword">new</span> Child()</span><br><span class="line">child1.name[<span class="number">0</span>]=<span class="string">&#x27;heheh&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name)<span class="comment">//heheh</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.name)<span class="comment">//林彦俊</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.getName())<span class="comment">//林彦俊</span></span><br></pre></td></tr></table></figure>

<h4 id="21-代码优化"><a href="#21-代码优化" class="headerlink" title="21.代码优化"></a>21.代码优化</h4><h5 id="1-数组的includes方法"><a href="#1-数组的includes方法" class="headerlink" title="1.数组的includes方法"></a>1.数组的includes方法</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//原来的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAnimals</span>(<span class="params">animal</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(animal===<span class="string">&#x27;dog&#x27;</span>||animal===<span class="string">&#x27;cat&#x27;</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`I have a <span class="subst">$&#123;animal&#125;</span>`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//用includes方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAnimals</span>(<span class="params">animal</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> animals=[<span class="string">&#x27;dog&#x27;</span>,<span class="string">&#x27;cat&#x27;</span>,<span class="string">&#x27;pig&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span>(animals.includes(animal))&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(animal)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-提前退出提前返回"><a href="#2-提前退出提前返回" class="headerlink" title="2.提前退出提前返回"></a>2.提前退出提前返回</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//如果没有动物，抛出异常；打印动物类型，打印动物名字，打印动物性别</span></span><br><span class="line"><span class="keyword">const</span> printAnimalsDetails=<span class="function">(<span class="params">&#123;type,name,gender&#125;=&#123;&#125;</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!type) <span class="keyword">return</span> <span class="string">&#x27;no animal type&#x27;</span></span><br><span class="line">    <span class="keyword">if</span>(!name) <span class="keyword">return</span> <span class="string">&#x27;no animal name&#x27;</span></span><br><span class="line">    <span class="keyword">if</span>(!gender) <span class="keyword">return</span> <span class="string">&#x27;no animal gender&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;name&#125;</span> is a <span class="subst">$&#123;gender&#125;</span> <span class="subst">$&#123;type&#125;</span>`</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">console</span>.log(printAnimalsDetails())</span><br><span class="line"><span class="built_in">console</span>.log(printAnimalsDetails(&#123;<span class="attr">type</span>:<span class="string">&#x27;dog&#x27;</span>,<span class="attr">gender</span>:<span class="string">&#x27;female&#x27;</span>&#125;))</span><br></pre></td></tr></table></figure>

<h5 id="3-对象的字面量代替switch方法"><a href="#3-对象的字面量代替switch方法" class="headerlink" title="3.对象的字面量代替switch方法"></a>3.对象的字面量代替switch方法</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//switch</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFruits</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">switch</span>(color)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;red&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&#x27;apple&#x27;</span>]</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;yellow&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> [<span class="string">&#x27;banana&#x27;</span>]</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(printFruits(<span class="string">&#x27;yellow&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//对象字面量方法</span></span><br><span class="line"><span class="keyword">const</span> fruitsColor=&#123;</span><br><span class="line">    <span class="attr">red</span>:[<span class="string">&#x27;apple&#x27;</span>],</span><br><span class="line">    <span class="attr">yellow</span>:[<span class="string">&#x27;banana&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFruits</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> fruisColor[color] ||[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-map"><a href="#4-map" class="headerlink" title="4.map"></a>4.map</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;ls&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj3=&#123;</span><br><span class="line">    [obj2]:<span class="string">&#x27;22&#x27;</span>,<span class="comment">//[object Object]:&#x27;22&#x27;</span></span><br><span class="line">    [obj1]:<span class="string">&#x27;11&#x27;</span><span class="comment">//[object Object]:&#x27;11&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//因为key值最重是一样的，所以后面的会覆盖前面的</span></span><br><span class="line"><span class="built_in">console</span>.log(obj3)<span class="comment">//11</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fruitsColor=<span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">&#x27;red&#x27;</span>,[<span class="string">&#x27;apple&#x27;</span>]).set(<span class="string">&#x27;yellow&#x27;</span>,[<span class="string">&#x27;banana&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFruits</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> fruisColor.get(color) ||[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-Array-some和Array-every"><a href="#5-Array-some和Array-every" class="headerlink" title="5.Array.some和Array.every"></a>5.Array.some和Array.every</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//检测是否所有的水果都是红色</span></span><br><span class="line"><span class="keyword">const</span> fruits=[</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">&#x27;apple&#x27;</span>,<span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">name</span>:<span class="string">&#x27;banana&#x27;</span>,<span class="attr">color</span>:<span class="string">&#x27;yellow&#x27;</span>&#125;</span><br><span class="line">]</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><h4 id="1-BFC的理解和作用"><a href="#1-BFC的理解和作用" class="headerlink" title="1.BFC的理解和作用"></a>1.BFC的理解和作用</h4><p><strong>块级格式化上下文</strong>，它是指一个独立的块级渲染区域，只有<strong>块级盒子</strong>参与，该区域拥有一套渲染规则来约束块级盒子的布局，且与区域外部无关</p>
<p><strong>从一个现象说起</strong></p>
<ul>
<li>一个盒子不设置height,当内容子元素都浮动时，无法撑起自身</li>
<li>这个盒子没有形成BFC</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.father</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="comment">/* float:left; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* position: absolute; */</span></span></span><br><span class="line"><span class="css">        <span class="comment">/* display:inline-block; */</span></span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>没有设置父元素浮动时，父元素的宽度有，但是高度为0</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/4.png"></p>
<p>设置了父元素浮动或者其他之后</p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/5.png"></p>
<p><strong>如何创建BFC（四种方法）</strong></p>
<ul>
<li>float的值不是none</li>
<li>position的值不是static或者relative，那么设置成absolute</li>
<li>display的值是inline-block、flex或者inline-flex</li>
<li>overflow:hidden(这个方法最好)</li>
</ul>
<p><strong>BFC的其他作用</strong></p>
<ul>
<li>BFC可以取消盒子margin塌陷</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.father</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:blue;</span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">100px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">        <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/6.png"></p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/7.png"></p>
<ul>
<li>BFC可以阻止元素被浮动元素覆盖</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.son</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:red;</span></span><br><span class="line"><span class="css">        <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.son-last</span>&#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">width</span>:<span class="number">200px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">height</span>:<span class="number">300px</span>;</span></span><br><span class="line"><span class="css">        <span class="attribute">background-color</span>:yellow;</span></span><br><span class="line"><span class="css">        <span class="attribute">overflow</span>:hidden;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son-last&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/8.png"></p>
<p><img src="/2021/09/10/%E9%9D%A2%E8%AF%95/9.png"></p>
]]></content>
      <categories>
        <category>高频知识点汇总</category>
      </categories>
      <tags>
        <tag>高频知识点汇总</tag>
      </tags>
  </entry>
</search>
